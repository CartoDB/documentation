{{ define "main" }}
  {{- partial "header.html" . -}}

  <div class="is-bgWhite">
    <div class="container grid u-justify-center u-mt64 u-mb96 u-mt48--tablet u-mb48--tablet">
      {{- partial "aside.html" . -}}

      <div class="grid-cell grid-cell--col7 grid-cell--col10--tablet u-mb96 js-content u-pr">
        <div class="u-pa is-bgWhite u-mt32 u-mr32 floating-panel">
          <h4 class="floating-panel__title title f12 is-txtNavyBlue u-mb4">{{.Params.floatingPanelTitle}}</h4>
          <div >
            <div class="floating-panel__content">
              <p class="text f12 is-txtTypo2">{{.Params.floatingPanelDescription}}</p>
              {{if .Params.floatingPanelExtra}}
                {{$extraSrc := printf "%s%s" .Page.Dir .Params.floatingPanelExtra}}
                {{$extraCode := readFile ($extraSrc)}}
                <div class="u-mt32">{{ .RenderString $extraCode}}</div>
              {{end}}
            </div>
            {{if .Params.floatingPanelGithub}}
              <div class="floating-panel__action">
                <a href="{{.Params.floatingPanelGithub}}" target="_blank" class="title f12 is-text">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" class="u-mr4">
                    <g fill="none" fill-rule="evenodd" transform="translate(0 -6)">
                      <path fill="#036fe2" d="M10 11v2H4v12h12v-6h2v6c0 1.103-.897 2-2 2H4c-1.103 0-2-.897-2-2V13c0-1.103.897-2 2-2h6zm11-3v7h-2v-3.586L7.707 22.707l-1.414-1.414L17.586 10H14V8h7z"/>
                    </g>
                  </svg>
                  Open in Github
                </a>
              </div>
            {{end}}
          </div>
          
        </div>
        <iframe src="../{{.Params.code}}" style="border: 1px solid #cfcfcf; width: 100%;height:500px" title="{{ .Params.floatingPanelTitle }}"></iframe>

        {{$lang := (index (split .Params.code ".") 1) }}
        {{$src := printf "%s%s" .Page.Dir .Params.code}}
        {{$code := readFile ($src)}}
        {{highlight $code (default "html" $lang) ""}}      
      </div>
    </div>
  </div>
{{end}}
