/*! For license information please see 17.2efb2520.chunk.js.LICENSE.txt */
(this["webpackJsonpworkspace-www"]=this["webpackJsonpworkspace-www"]||[]).push([[17,27],{110:function(p,b,y){"use strict";var S=y(48),P=y(2512),L=y(729),T=y(2548),z=y(2515),B=y(289),D=y(43);b.a=function Loader(p){var b=p.labelId,y=void 0===b?"common.utils.loader.label":b,N=p.secondLabelId,q=p.className;return Object(D.jsxs)(P.a,Object(S.a)(Object(S.a)({container:!0,direction:"column",alignItems:"center",justifyContent:"center"},q&&{className:q}),{},{children:[Object(D.jsx)(L.a,{mb:N?1.5:2.5,children:Object(D.jsx)(T.a,{})}),Object(D.jsx)(z.a,{variant:"body2",color:"textSecondary",children:Object(D.jsx)(B.a,{id:y})}),N&&Object(D.jsx)(z.a,{variant:"body2",color:"textSecondary",children:Object(D.jsx)(B.a,{id:N})})]}))}},111:function(p,b,y){"use strict";var S=y(48),P=y(123),L=y(41),T=y(1081),z=y(2519),B=y(2548),D=y(289),N=y(43),q=["loading","labelId","disabled","classes"],Z=Object(T.a)((function(p){return{button:{"&:disabled":{background:"green"}},saveButtonLabelLoading:{opacity:0},loaderWrapper:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",height:p.spacing(2.5)},transparent:{backgroundColor:"transparent !important"},loadingWithText:{"& $saveButtonLabelLoading":{opacity:1,color:p.palette.primary.main},"& $loaderWrapper":{position:"relative",transform:"none",left:0,marginRight:p.spacing(.75)}}}}));b.a=function ButtonLoader(p){var b=p.loading,y=p.labelId,T=p.disabled,K=p.classes,Q=Object(P.a)(p,q),X=Z(),ne=Object(L.useMemo)((function(){return b&&"string"===typeof b}),[b]),re=Object(L.useMemo)((function(){var p=K?Object(S.a)({},K):{};return p.disabled=[p.disabled?p.disabled:"",b?X.transparent:""].join(" "),p.root=[p.root?p.root:"",ne?X.loadingWithText:""].join(" "),p}),[K,X,b,ne]);return Object(N.jsxs)(z.a,Object(S.a)(Object(S.a)({disabled:!(!b&&!T),color:"primary",classes:re},Q),{},{children:[!!b&&Object(N.jsx)("div",{className:X.loaderWrapper,children:Object(N.jsx)(B.a,{size:20})}),Object(N.jsx)("span",{className:b?X.saveButtonLabelLoading:"",children:ne?b:Object(N.jsx)(D.a,{id:y})})]}))}},119:function(p,b,y){"use strict";y.d(b,"b",(function(){return getProviders})),y.d(b,"a",(function(){return getProvider}));var S,P=y(49),L=y(41),T=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgBigquery(p,b){var y=p.title,P=p.titleId,z=_objectWithoutProperties(p,T);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",ref:b,"aria-labelledby":P},z),y?L.createElement("title",{id:P},y):null,S||(S=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("path",{fill:"#AECBFA",d:"M7.095 13.244v3.945c.621 1.072 1.504 1.97 2.564 2.61v-6.555H7.095z",transform:"translate(-496.000000, -188.000000) translate(476.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"}),L.createElement("path",{fill:"#669DF6",d:"M11.834 9.614V20.91c.552.07 1.109.1 1.665.09.5.031 1 .031 1.5 0V9.614h-3.165z",transform:"translate(-496.000000, -188.000000) translate(476.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"}),L.createElement("path",{fill:"#AECBFA",d:"M17.46 14.79v4.934c1.066-.68 1.943-1.62 2.549-2.73V14.79h-2.55z",transform:"translate(-496.000000, -188.000000) translate(476.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"}),L.createElement("path",{fill:"#4285F4",d:"M23.609 21.479l-2.13 2.13c-.121.118-.19.28-.19.45 0 .17.069.331.19.45l5.31 5.31c.245.242.64.242.885 0l2.144-2.145c.243-.246.243-.64 0-.885l-5.31-5.31c-.118-.121-.28-.19-.45-.19-.169 0-.33.069-.45.19",transform:"translate(-496.000000, -188.000000) translate(476.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"}),L.createElement("path",{fill:"#669DF6",d:"M13.5 0C6.043 0 0 6.044 0 13.5c0 7.455 6.044 13.499 13.5 13.499 7.455 0 13.499-6.044 13.499-13.5 0-3.58-1.423-7.014-3.954-9.545C20.513 1.422 17.08 0 13.499 0m0 23.534c-5.53-.009-10.007-4.495-10.004-10.025C3.498 7.98 7.98 3.498 13.509 3.495c5.53-.003 10.016 4.475 10.025 10.004.004 2.663-1.052 5.217-2.935 7.1s-4.437 2.939-7.1 2.935",transform:"translate(-496.000000, -188.000000) translate(476.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"}))))))))}var z,B=L.forwardRef(SvgBigquery),D=(y.p,["title","titleId"]);function snowflake_extends(){return snowflake_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},snowflake_extends.apply(this,arguments)}function snowflake_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function snowflake_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgSnowflake(p,b){var y=p.title,S=p.titleId,P=snowflake_objectWithoutProperties(p,D);return L.createElement("svg",snowflake_extends({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,viewBox:"0 0 64 64",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,z||(z=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#29B5E8",fillRule:"nonzero"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M14.694 22.339c.093-.286.132-.581.125-.872-.01-.21-.039-.421-.1-.632-.185-.654-.622-1.239-1.278-1.607L4.12 13.98c-1.316-.738-2.994-.3-3.749.982-.762 1.28-.312 2.913 1.003 3.653l5.21 2.938-5.21 2.929C.06 25.223-.39 26.857.371 28.142c.755 1.278 2.433 1.715 3.749.976l9.321-5.251c.63-.353 1.056-.907 1.253-1.528zm2.53 4.918c-.536-.045-1.093.065-1.593.35L6.302 32.85c-1.312.74-1.76 2.382-1.003 3.664.76 1.278 2.437 1.718 3.747.974l5.227-2.94v5.874c0 1.48 1.228 2.679 2.747 2.679 1.512 0 2.744-1.199 2.744-2.679v-10.5c0-1.41-1.12-2.567-2.54-2.666zm9.553-11.412c.534.043 1.09-.068 1.59-.35l9.327-5.248c1.314-.74 1.76-2.376 1.005-3.661-.757-1.28-2.435-1.718-3.747-.978L29.729 8.55V2.675C29.729 1.2 28.5 0 26.98 0c-1.52 0-2.744 1.2-2.744 2.675v10.5c0 1.408 1.117 2.568 2.54 2.67zM6.302 10.247l9.329 5.249c.5.281 1.057.392 1.593.35 1.42-.103 2.54-1.263 2.54-2.67v-10.5C19.764 1.198 18.532 0 17.02 0c-1.52 0-2.747 1.2-2.747 2.675V8.55L9.046 5.608c-1.31-.74-2.986-.301-3.747.978-.758 1.285-.31 2.92 1.003 3.66zm17.53 11.284c0-.153-.094-.365-.204-.478l-1.123-1.09c-.11-.107-.329-.197-.485-.197h-.044c-.156 0-.374.09-.483.197l-1.123 1.09c-.112.113-.198.325-.198.478v.042c0 .15.086.362.198.471l1.123 1.093c.11.108.327.197.483.197h.044c.156 0 .374-.09.485-.197l1.123-1.093c.11-.11.205-.32.205-.47v-.043zm3.1 1.048l-3.877 3.775c-.111.111-.325.202-.487.202h-1.14c-.157 0-.374-.09-.487-.202l-3.875-3.775c-.111-.107-.2-.32-.2-.471v-1.114c0-.154.089-.368.2-.476l3.875-3.775c.113-.111.33-.199.487-.199H22.568c.158 0 .376.088.487.199l3.877 3.775c.11.108.2.322.2.476v1.114c0 .15-.09.364-.2.47zM37.694 32.85l-9.327-5.245c-.5-.284-1.056-.394-1.59-.35-1.423.1-2.54 1.258-2.54 2.667v10.5c0 1.48 1.225 2.679 2.744 2.679 1.52 0 2.748-1.199 2.748-2.679V34.55l5.223 2.94c1.312.743 2.99.303 3.747-.975.755-1.282.31-2.924-1.005-3.664zm4.931-14.236l-5.209 2.938 5.21 2.929c1.315.741 1.765 2.375 1.004 3.66-.759 1.278-2.438 1.715-3.749.976l-9.328-5.251c-.623-.353-1.054-.907-1.246-1.528-.091-.286-.134-.581-.123-.872.005-.21.037-.421.096-.632.187-.654.624-1.238 1.273-1.607l9.328-5.248c1.31-.738 2.99-.3 3.749.982.76 1.28.31 2.913-1.005 3.653z",transform:"translate(-631 -459) translate(607 439) translate(24 20) translate(10 10)"}))))))))}var N,q=L.forwardRef(SvgSnowflake),Z=(y.p,["title","titleId"]);function postgresql_extends(){return postgresql_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},postgresql_extends.apply(this,arguments)}function postgresql_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function postgresql_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgPostgresql(p,b){var y=p.title,S=p.titleId,P=postgresql_objectWithoutProperties(p,Z);return L.createElement("svg",postgresql_extends({viewBox:"0 0 30 30",width:22,height:22,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,N||(N=L.createElement("g",{transform:"translate(5, 5)",fill:"none",fillRule:"evenodd"},L.createElement("path",{d:"M18.926 11.976a.966.966 0 00-.798-.656 1.791 1.791 0 00-.637.036c-.43.09-.749.125-.981.132.878-1.514 1.592-3.241 2.004-4.866.665-2.628.31-3.825-.106-4.367C17.309.822 15.706.052 13.771.028a8.064 8.064 0 00-2.41.345A8.806 8.806 0 009.951.24C9.022.226 8.2.433 7.498.86A11.023 11.023 0 005.763.414C4.067.13 2.7.352 1.702 1.072.492 1.945-.07 3.461.034 5.578c.033.673.402 2.718.982 4.658.333 1.115.689 2.04 1.056 2.752.522 1.009 1.08 1.603 1.706 1.816.352.12.99.203 1.66-.367.086.105.199.21.35.306.19.124.425.224.658.284.842.215 1.63.16 2.303-.14l.01.34c.005.163.009.323.015.473.04 1.013.107 1.8.307 2.352a4.1 4.1 0 01.042.126c.1.312.267.834.691 1.243.44.424.972.554 1.459.553.244 0 .477-.032.682-.077.729-.16 1.557-.402 2.155-1.273.566-.822.842-2.061.891-4.014l.019-.158.011-.103.134.012.034.002c.743.035 1.65-.126 2.208-.39.44-.21 1.852-.97 1.52-1.997",fill:"#000"}),L.createElement("path",{d:"M17.657 12.176c-2.207.465-2.359-.298-2.359-.298 2.33-3.53 3.305-8.01 2.464-9.107-2.294-2.991-6.264-1.577-6.33-1.54l-.021.004a7.718 7.718 0 00-1.473-.157c-.999-.016-1.756.268-2.331.713 0 0-7.083-2.979-6.754 3.745.07 1.43 2.01 10.824 4.321 7.987.845-1.038 1.662-1.915 1.662-1.915a2.11 2.11 0 001.4.365l.04-.034c-.013.129-.007.255.016.404-.596.68-.421.798-1.612 1.049-1.205.253-.497.704-.035.822.56.143 1.857.346 2.732-.906l-.035.143c.234.191.398 1.241.37 2.194-.027.952-.046 1.605.138 2.116.184.51.368 1.66 1.933 1.317 1.308-.286 1.986-1.027 2.08-2.264.067-.88.218-.75.228-1.536l.121-.372c.14-1.192.023-1.576.829-1.397l.195.017c.594.028 1.37-.097 1.825-.313.981-.465 1.563-1.24.596-1.037",fill:"#336791"}),L.createElement("path",{d:"M8.021 6.176c-.199-.028-.379-.002-.47.068a.176.176 0 00-.071.118c-.012.083.046.176.081.224.1.135.246.228.39.248.021.003.042.004.063.004.24 0 .46-.19.479-.332.024-.177-.228-.295-.472-.33M14.61 6.182c-.018-.139-.26-.179-.49-.146-.229.033-.451.138-.432.277.014.108.206.293.432.293.02 0 .038-.001.058-.004a.554.554 0 00.315-.176c.08-.086.126-.182.118-.244",fill:"#FFF"}),L.createElement("path",{d:"M18.392 12.123c-.085-.26-.355-.343-.806-.248-1.336.281-1.814.086-1.972-.032 1.04-1.615 1.894-3.568 2.355-5.39.218-.862.339-1.663.348-2.316.011-.717-.108-1.244-.355-1.566C16.967 1.274 15.507.578 13.74.559 12.525.545 11.5.862 11.3.95a5.967 5.967 0 00-1.373-.18c-.912-.015-1.7.208-2.353.662A10.34 10.34 0 005.662.922c-1.55-.255-2.78-.062-3.66.573C.956 2.253.472 3.608.566 5.522c.031.644.39 2.626.958 4.523.747 2.497 1.559 3.91 2.413 4.202.1.034.215.058.342.058.312 0 .694-.144 1.091-.632.66-.81 1.277-1.49 1.504-1.736.336.184.704.286 1.082.297l.002.03a8.883 8.883 0 00-.19.24c-.262.339-.316.41-1.158.586-.239.05-.875.185-.884.64-.01.496.751.705.838.727.303.077.594.116.872.116.675 0 1.27-.227 1.745-.666-.015 1.772.058 3.518.266 4.05.17.435.588 1.5 1.905 1.5.193 0 .406-.024.64-.075 1.374-.3 1.971-.92 2.202-2.288.124-.73.336-2.476.436-3.411.21.067.481.097.774.097.611 0 1.316-.132 1.758-.342.497-.235 1.393-.813 1.23-1.315zM15.118 5.8a5.794 5.794 0 01-.081.789c-.043.281-.087.573-.098.926-.01.344.031.702.072 1.047.082.699.167 1.418-.16 2.127a2.79 2.79 0 01-.145-.303c-.04-.1-.128-.262-.25-.485-.475-.87-1.588-2.906-1.018-3.736.17-.248.6-.502 1.68-.365zm-1.31-4.681c1.584.036 2.836.64 3.723 1.797.68.887-.069 4.924-2.237 8.407a12.937 12.937 0 00-.066-.085l-.027-.035c.56-.944.45-1.879.353-2.707-.04-.34-.078-.661-.068-.963.01-.32.051-.594.091-.86.05-.326.1-.664.086-1.063a.45.45 0 00.009-.15c-.035-.382-.463-1.525-1.334-2.56a6.024 6.024 0 00-2.12-1.628 7.01 7.01 0 011.59-.153zm-8.86 12.199c-.437.537-.74.434-.84.4-.647-.22-1.399-1.618-2.062-3.835-.573-1.918-.909-3.847-.935-4.388-.084-1.71.322-2.902 1.207-3.543 1.44-1.042 3.808-.418 4.76-.102l-.042.04C5.475 3.5 5.512 6.25 5.516 6.418c0 .065.005.157.012.283.027.463.077 1.323-.056 2.298-.125.906.149 1.793.75 2.433.062.066.127.128.194.187-.267.292-.849.939-1.468 1.699zm1.669-2.273c-.485-.516-.705-1.233-.604-1.969.141-1.03.09-1.926.061-2.408l-.01-.173c.229-.206 1.286-.785 2.04-.608.344.08.553.32.64.73.451 2.13.06 3.017-.254 3.73a6.99 6.99 0 00-.179.43l-.04.11c-.103.281-.198.542-.257.79a1.929 1.929 0 01-1.397-.632zm.079 2.872a1.197 1.197 0 01-.365-.16c.066-.032.184-.076.389-.119.99-.208 1.142-.355 1.476-.787.077-.1.164-.212.284-.349.179-.205.26-.17.41-.107.12.05.237.205.284.374.023.08.048.232-.035.35-.697.997-1.713.984-2.443.798zm5.18 4.92c-1.21.265-1.64-.366-1.922-1.087-.182-.465-.272-2.564-.208-4.882 0-.03-.004-.06-.012-.089a1.191 1.191 0 00-.034-.163c-.095-.338-.325-.62-.602-.737-.11-.046-.311-.131-.553-.068.051-.218.141-.463.238-.729l.04-.111c.047-.126.104-.257.165-.395.33-.746.78-1.768.29-4.077-.182-.864-.794-1.286-1.721-1.188-.556.058-1.065.287-1.319.419a4.215 4.215 0 00-.15.082c.07-.872.338-2.5 1.338-3.53.63-.649 1.47-.969 2.492-.952 2.014.034 3.306 1.09 4.035 1.969.628.757.968 1.52 1.104 1.932-1.021-.106-1.715.1-2.067.613-.766 1.118.419 3.286.988 4.328.104.191.194.357.223.427.185.458.425.764.6.988.054.069.106.135.146.193-.31.09-.865.301-.814 1.352-.04.527-.331 2.996-.479 3.868-.194 1.152-.61 1.582-1.778 1.837zm5.055-5.904c-.316.15-.845.262-1.348.286-.555.027-.838-.063-.904-.119-.032-.654.207-.723.46-.795.04-.012.078-.023.116-.036.023.02.049.038.076.057.447.3 1.243.333 2.366.096l.012-.002c-.151.144-.41.339-.778.513z",fill:"#FFF"}))))}var K,Q=L.forwardRef(SvgPostgresql),X=(y.p,["title","titleId"]);function redshift_extends(){return redshift_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},redshift_extends.apply(this,arguments)}function redshift_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function redshift_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgRedshift(p,b){var y=p.title,S=p.titleId,P=redshift_objectWithoutProperties(p,X);return L.createElement("svg",redshift_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:22,height:22,ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,K||(K=L.createElement("g",{transform:"translate(4, 4)"},L.createElement("path",{d:"M10.9999997 16.55640015l7.98581582 1.90138472V3.49983263L10.9999997 5.40121735z",fill:"#205b97"}),L.createElement("path",{d:"M18.98581552 3.49983263l1.52110778.7605539v13.43684446l-1.52110778.76055388zM10.9999997 16.55640015l-7.98581582 1.90138472V3.49983263l7.98581582 1.90138472z",fill:"#5193ce"}),L.createElement("path",{d:"M3.01418388 3.49983263l-1.52110778.7605539v13.43684446l1.52110778.76055388z",fill:"#205b97"}),L.createElement("path",{d:"M13.02853584 21.50000043l3.04221556-1.52110778V2.02110867L13.02853584.50000089l-.93008912 9.97196816z",fill:"#5193ce"}),L.createElement("path",{d:"M8.97146356 21.50000043L5.929248 19.97889265V2.02110867L8.97146356.50000089l.93008912 9.97196816z",fill:"#205b97"}),L.createElement("path",{d:"M8.97146356.50000089h4.09827876v20.95761573H8.97146356z",fill:"#2e73b7"}))))}var ne,re=L.forwardRef(SvgRedshift),ie=(y.p,["title","titleId"]);function carto_extends(){return carto_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},carto_extends.apply(this,arguments)}function carto_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function carto_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgCarto(p,b){var y=p.title,S=p.titleId,P=carto_objectWithoutProperties(p,ie);return L.createElement("svg",carto_extends({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ne||(ne=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#162945"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",{transform:"translate(-336.000000, -188.000000) translate(316.000000, 168.000000) translate(20.000000, 20.000000) translate(5.000000, 5.000000)"},L.createElement("path",{fillOpacity:.1,d:"M15.033 30C23.299 30 30 23.284 30 15c0-8.284-6.701-15-14.967-15C6.766 0 .065 6.716.065 15c0 8.284 6.701 15 14.968 15z"}),L.createElement("ellipse",{cx:15.033,cy:15,rx:4.989,ry:5}))))))))}var le,se,de=L.forwardRef(SvgCarto),ue=(y.p,["title","titleId"]);function databricks_extends(){return databricks_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},databricks_extends.apply(this,arguments)}function databricks_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function databricks_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDatabricks(p,b){var y=p.title,S=p.titleId,P=databricks_objectWithoutProperties(p,ue);return L.createElement("svg",databricks_extends({width:49,height:48,viewBox:"0 0 49 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,le||(le=L.createElement("defs",null,L.createElement("path",{id:"a",d:"m24.036 33.743-13.671-7.7V22.9l13.671 7.7 15.243-8.643v-5.893l-.707-.393-14.536 8.172-12.964-7.307 12.964-7.229 10.608 5.972 1.021-.55v-.708L24.036 7.5 8.715 16.064v.943l15.321 8.643 13.672-7.7v3.143l-13.672 7.7L9.422 20.62l-.707.315v5.971l15.321 8.643 13.672-7.7v3.143l-13.672 7.7L9.422 30.52l-.707.393v1.022L24.036 40.5l15.243-8.564v-5.972l-.628-.393z",fill:"#FE5000"}))),se||(se=L.createElement("use",{xlinkHref:"#a",transform:"translate(.5)",fillRule:"evenodd"})))}var pe=L.forwardRef(SvgDatabricks),be=(y.p,y(131)),ge=y(89),fe=y(43),he={bigquery:{label:"BigQuery",docs:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-bigquery",icon:Object(fe.jsx)(B,{}),hasSpatialExtension:!0,config:{type:be.a.ServiceAccount,credentials:{client_email:{label:"connections.create.bigquery.form.clientEmailLabel",showInDetails:!0},billing_project:{label:"connections.create.bigquery.form.billingProjectIdLabel",showInDetails:!0}}}},snowflake:{label:"Snowflake",docs:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-snowflake",icon:Object(fe.jsx)(q,{}),hasSpatialExtension:!1,config:{type:be.h.SnowflakeAccount,credentials:{account:{label:"connections.create.snowflake.form.accountLabel",placeholder:"connections.create.snowflake.form.accountPlaceholder",showInDetails:!0},database:{label:"connections.create.snowflake.form.databaseLabel",placeholder:"connections.create.snowflake.form.databasePlaceholder",showInDetails:!0},username:{label:"connections.create.snowflake.form.usernameLabel",placeholder:"connections.create.snowflake.form.usernamePlaceholder"},password:{label:"connections.create.snowflake.form.passwordLabel",placeholder:"connections.create.snowflake.form.passwordPlaceholder",type:"password",optionalOnEdit:!0},warehouse:{label:"connections.create.snowflake.form.warehouseLabel",placeholder:"connections.create.snowflake.form.warehousePlaceholder",optional:!0}}}},postgres:{label:"PostgreSQL",docs:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-postgresql",hasSpatialExtension:!1,icon:Object(fe.jsx)(Q,{}),config:{type:be.e.UserPassword,credentials:{host:{label:"connections.create.postgres.form.serverLabel",placeholder:"connections.create.postgres.form.serverPlaceholder",showInDetails:!0},port:{label:"connections.create.postgres.form.portLabel",placeholder:"connections.create.postgres.form.portPlaceholder",type:"number",defaultValue:5432},database:{label:"connections.create.postgres.form.databaseLabel",placeholder:"connections.create.postgres.form.databasePlaceholder",showInDetails:!0},user:{label:"connections.create.postgres.form.usernameLabel",placeholder:"connections.create.postgres.form.usernamePlaceholder"},password:{label:"connections.create.postgres.form.passwordLabel",placeholder:"connections.create.postgres.form.passwordPlaceholder",type:"password",optionalOnEdit:!0}}}},redshift:{label:"Redshift",docs:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-amazon-redshift",hasSpatialExtension:!1,icon:Object(fe.jsx)(re,{}),config:{type:be.g.UserPassword,credentials:{host:{label:"connections.create.redshift.form.clusterLabel",placeholder:"connections.create.redshift.form.clusterPlaceholder",showInDetails:!0},port:{label:"connections.create.redshift.form.portLabel",placeholder:"connections.create.redshift.form.portPlaceholder",type:"number",defaultValue:5439},database:{label:"connections.create.redshift.form.databaseLabel",placeholder:"connections.create.redshift.form.databasePlaceholder",showInDetails:!0},user:{label:"connections.create.redshift.form.usernameLabel",placeholder:"connections.create.redshift.form.usernamePlaceholder"},password:{label:"connections.create.redshift.form.passwordLabel",placeholder:"connections.create.redshift.form.passwordPlaceholder",type:"password",optionalOnEdit:!0}}}},carto:{label:"CARTO",hasSpatialExtension:!0,icon:Object(fe.jsx)(de,{}),config:{type:""}},databricks:{label:"Databricks",docs:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-databricks",hasSpatialExtension:!1,icon:Object(fe.jsx)(pe,{}),config:{type:ge.e.SparkOdbc,credentials:{server:{label:"connections.create.databricks.form.serverLabel",placeholder:"connections.create.databricks.form.serverPlaceholder",showInDetails:!0},port:{label:"connections.create.databricks.form.portLabel",placeholder:"connections.create.databricks.form.portPlaceholder",type:"number",defaultValue:443},database:{label:"connections.create.databricks.form.databaseLabel",placeholder:"connections.create.databricks.form.databasePlaceholder",showInDetails:!0},httpPath:{label:"connections.create.databricks.form.httpPathLabel",placeholder:"connections.create.databricks.form.httpPathLabel"},password:{label:"connections.create.databricks.form.passwordLabel",placeholder:"connections.create.databricks.form.passwordPlaceholder",type:"password",optionalOnEdit:!0}}}}},me=function sortAlphabetically(p,b){return p.label<b.label?-1:p.label>b.label?1:0};function getProviders(){var p=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=Object.entries(he).filter((function(p){return Object(P.a)(p,1)[0]!==be.f.CARTO})).map((function(p){var b=Object(P.a)(p,2),y=b[0],S=b[1];return{id:y,label:S.label,icon:S.icon}}));return p&&b.sort(me),b}function getProvider(p){var b=he[p];if(!b)throw new Error("Provider doesn't exist");return b}},130:function(p,b,y){"use strict";y.d(b,"a",(function(){return L}));var S=y(2567),P=y(117);var L=P.a.breakpoints.up("md");b.b=function useMobileBuilder(){return Object(S.a)(P.a.breakpoints.down("xs"),{noSsr:!0})}},140:function(p,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function get(){return S.createSvgIcon}});var S=y(109)},141:function(p,b,y){"use strict";var S=y(50),P=y(150);b.a=function useUserRoles(p){var b,y,L,T=Object(S.b)((function(p){var b;return null===(b=p.users)||void 0===b?void 0:b.me})),z=Object(S.b)((function(p){var b;return null===(b=p.account)||void 0===b?void 0:b.users}));p&&z?L=z.find((function(b){return b.user_id===p})):T&&!p&&(L=T);var B=(null===(b=L)||void 0===b||null===(y=b.app_metadata)||void 0===y?void 0:y.roles)||[],D=B.includes(P.a.Admin),N=!D&&B.includes(P.a.Builder);return{user:L,userIsAdmin:D,userIsEditor:N,userIsViewer:!D&&!N&&B.includes(P.a.Viewer),userHasEditionRole:D||N}}},142:function(p,b,y){"use strict";var S=y(1),P=y.n(S),L=y(4);function _copyString(){return(_copyString=Object(L.a)(P.a.mark((function _callee(p){return P.a.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,navigator.clipboard.writeText(p);case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}}),_callee)})))).apply(this,arguments)}b.a=function copyString(p){return _copyString.apply(this,arguments)}},150:function(p,b,y){"use strict";var S=y(148);y.d(b,"a",(function(){return S.b})),y.d(b,"b",(function(){return S.c})),y.d(b,"c",(function(){return S.d}))},151:function(p,b,y){"use strict";y.d(b,"a",(function(){return ContextMenuIcon}));var S=y(48),P=y(123),L=y(1386),T=y(234),z=y(43),B=["children","menuItems","onClickItem","placement","popperClassName","fullWidth","elevation","alignRight","rootClassName","ButtonComponent","dense","menuItemSelectedClassName","iconWithLabel"];function ContextMenuIcon(p){var b=p.children,y=p.menuItems,D=p.onClickItem,N=p.placement,q=p.popperClassName,Z=p.fullWidth,K=p.elevation,Q=p.alignRight,X=p.rootClassName,ne=p.ButtonComponent,re=p.dense,ie=p.menuItemSelectedClassName,le=p.iconWithLabel,se=Object(P.a)(p,B);return Object(z.jsx)(T.a,{menuItems:y,onClickItem:D,placement:N,popperClassName:q,fullWidth:Z,elevation:K,alignRight:Q,rootClassName:X,dense:re,menuItemSelectedClassName:ie,iconWithLabel:le,ButtonComponent:ne||function(p){var y=p.onClick;return Object(z.jsx)(L.a,Object(S.a)(Object(S.a)({},se),{},{onClick:y,children:b}))}})}},164:function(p,b,y){"use strict";var S=y(41),P=y(50);b.a=function useDatasetsLetters(){var p=Object(P.b)((function(p){return p.maps.currentMapDatasets}));return Object(S.useMemo)((function(){return p.reduce((function(p,b,y){return p[b.id]=String.fromCharCode(65+y),p}),{})}),[p])}},168:function(p,b,y){"use strict";var S=y(50),P=y(259);b.a=function useNotifications(){var p=Object(S.a)();return{sendErrorNotification:function sendErrorNotification(b){p(Object(P.d)({msg:b,formatted:!1,type:P.a.Error}))},sendErrorNotificationLocalize:function sendErrorNotificationLocalize(b){p(Object(P.d)({msg:b,formatted:!0,type:P.a.Error}))},sendSuccessNotification:function sendSuccessNotification(b){p(Object(P.d)({msg:b,formatted:!1,type:P.a.Success}))},sendSuccessNotificationLocalize:function sendSuccessNotificationLocalize(b){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.a.Success;p(Object(P.d)({msg:b,formatted:!0,type:y}))}}}},174:function(p,b,y){"use strict";var S=y(49),P=y(48),L=y(123),T=y(41),z=y(1081),B=y(1386),D=y(2593),N=y(97),q=y(43),Z=["active","error","icon","size","className"],K=["tooltip","tooltipPlacement"],Q=Object(z.a)((function(p){return{option:{"& + $option":{marginLeft:p.spacing(.5)}},optionLabel:{transform:"scale(0.75)",transformOrigin:"50% 50%","& svg path":{fill:p.palette.text.secondary,fillOpacity:1,transition:p.transitions.create("fill",{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.short})},'& svg[width="20"], & svg[width="18"]':{width:p.spacing(3),height:p.spacing(3)}},optionDisabled:{"& $optionLabel":{"& svg path":{fill:Object(N.alpha)(p.palette.text.secondary,.25)}}},optionActive:{"&, &:hover":{backgroundColor:Object(N.alpha)(p.palette.primary.main,.08)},"& $optionLabel":{"& svg path":{fill:p.palette.primary.main}}},optionError:{"& $optionLabel":{"& svg path":{fill:p.palette.error.main}}}}}));function BuilderToolbarIconButton(p){var b=p.active,y=p.error,S=p.icon,T=p.size,z=void 0===T?"medium":T,D=p.className,N=Object(L.a)(p,Z),K=Q();return Object(q.jsx)(B.a,Object(P.a)(Object(P.a)({size:z},N),{},{classes:{root:[K.option,b?K.optionActive:"",y?K.optionError:"",D||""].join(" "),label:K.optionLabel,disabled:K.optionDisabled},children:S}))}b.a=function BuilderToolbarIcon(p){var b=p.tooltip,y=p.tooltipPlacement,z=void 0===y?"bottom":y,B=Object(L.a)(p,K),N=Q(),Z=Object(T.useState)(!1),X=Object(S.a)(Z,2),ne=X[0],re=X[1];return b?Object(q.jsx)(D.a,{arrow:!0,placement:z,title:b,open:ne,children:Object(q.jsx)("div",{className:N.option,onMouseEnter:function onMouseEnter(){re(!0)},onMouseLeave:function onMouseLeave(){re(!1)},children:Object(q.jsx)(BuilderToolbarIconButton,Object(P.a)(Object(P.a)({},B),{},{onClick:function onClick(p){re(!1),B.onClick&&B.onClick(p)}}))})}):Object(q.jsx)(BuilderToolbarIconButton,Object(P.a)({},B))}},191:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationMoreVert(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",transform:"translate(-427 -1125) translate(130 1111) translate(291 8) translate(6 6)"}))))))))}var T=P.forwardRef(SvgIconNavigationMoreVert);y.p},220:function(p,b,y){var S=y(233);p.exports=function _unsupportedIterableToArray(p,b){if(p){if("string"===typeof p)return S(p,b);var y=Object.prototype.toString.call(p).slice(8,-1);return"Object"===y&&p.constructor&&(y=p.constructor.name),"Map"===y||"Set"===y?Array.from(p):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?S(p,b):void 0}}},221:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconSocialPeople(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("path",{d:"M7.5 11.458c-1.95 0-5.833.975-5.833 2.917v1.458h11.666v-1.458c0-1.942-3.883-2.917-5.833-2.917zm-3.883 2.709c.7-.484 2.391-1.042 3.883-1.042s3.183.558 3.883 1.042H3.617zM7.5 10a2.92 2.92 0 0 0 2.917-2.917A2.92 2.92 0 0 0 7.5 4.167a2.92 2.92 0 0 0-2.917 2.916A2.92 2.92 0 0 0 7.5 10zm0-4.167c.692 0 1.25.559 1.25 1.25 0 .692-.558 1.25-1.25 1.25s-1.25-.558-1.25-1.25c0-.691.558-1.25 1.25-1.25zm5.867 5.675c.966.7 1.633 1.634 1.633 2.867v1.458h3.333v-1.458c0-1.683-2.916-2.642-4.966-2.867zM12.5 10a2.92 2.92 0 0 0 2.917-2.917A2.92 2.92 0 0 0 12.5 4.167c-.45 0-.867.108-1.25.291.525.742.833 1.65.833 2.625 0 .975-.308 1.884-.833 2.625.383.184.8.292 1.25.292z",fill:"#fff",fillRule:"evenodd"})))}var T=P.forwardRef(SvgIconSocialPeople);y.p},233:function(p,b){p.exports=function _arrayLikeToArray(p,b){(null==b||b>p.length)&&(b=p.length);for(var y=0,S=new Array(b);y<b;y++)S[y]=p[y];return S}},234:function(p,b,y){"use strict";y.d(b,"a",(function(){return ContextMenuBase}));var S=y(48),P=y(80),L=y(49),T=y(41),z=y(2549),B=y(2557),D=y(1081),N=y(2579),q=y(2566),Z=y(2537),K=y(2577),Q=y(2578),X=y(2593),ne=y(729),re=y(194),ie=y(43),le=Object(D.a)((function(p){return{root:{position:"relative",display:"flex"},rootRight:{justifyContent:"flex-end"},rootCenter:{justifyContent:"center"},popper:{minWidth:p.spacing(22.5),marginTop:p.spacing(.5),marginBottom:p.spacing(.5),marginLeft:1,zIndex:2},popperDense:{minWidth:p.spacing(14.5)},popperFullWidth:{width:"100%"},menuItem:{minHeight:p.spacing(4.5)},menuItemDense:{minHeight:p.spacing(3),padding:p.spacing(0,1.5)},menuItemDivider:{margin:p.spacing(1,0)},menuItemError:{color:p.palette.error.main},labelWrapper:{display:"flex",width:"100%","& > img":{marginRight:p.spacing(1.5)},"&.separate":{justifyContent:"space-between"}},labelWrapperIconWithLabel:{flexDirection:"row-reverse",alignItems:"center","& $labelElement":{flex:1,paddingLeft:p.spacing(1.5)},"& svg":{width:p.spacing(2.25),height:p.spacing(2.25),"& path":{fill:"currentColor"}}},labelElement:{"&.not-selected":{paddingLeft:p.spacing(3.75)}}}}));function ContextMenuBase(p){var b=le(),y=Object(re.a)(),D=Object(T.useState)(!1),se=Object(L.a)(D,2),de=se[0],ue=se[1],pe=Object(T.useState)([]),be=Object(L.a)(pe,2),ge=be[0],fe=be[1],he=Object(T.useRef)(),me=p.ButtonComponent,ve=p.menuItems,je=p.selected,ye=p.onClickItem,Oe=p.isOpen,xe=p.popperClassName,_e=p.fullWidth,we=p.ariaLabel,Ce=p.elevation,Se=void 0===Ce?1:Ce,Ee=p.iconWithLabel,ke=function handleClose(p){p&&he.current&&he.current.contains(p.target)||(Oe&&Oe(!1),ue(!1))};return Object(ie.jsxs)("div",{ref:he,className:[b.root,p.rootClassName?p.rootClassName:"",p.alignRight?b.rootRight:""].join(" "),"aria-label":we,"data-open":de,children:[Object(ie.jsx)(me,{onClick:function handleToggle(){Oe&&Oe(!de),ue((function(p){return!p}))}}),Object(ie.jsx)(N.a,Object(S.a)(Object(S.a)(Object(S.a)({className:[b.popper,p.dense?b.popperDense:"",_e?b.popperFullWidth:"",xe||""].join(" "),anchorEl:he.current,open:de,role:void 0},p.placement&&{placement:p.placement}),{},{transition:!0},_e&&{disablePortal:!0}),{},{modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}},children:function children(L){var T=L.TransitionProps,D=L.placement;return Object(ie.jsx)(q.a,Object(S.a)(Object(S.a)({},T),{},{style:{transformOrigin:"".concat(D.includes("end")?"right":"center"," ").concat(D.includes("bottom")?"top":"bottom")},children:Object(ie.jsx)(Z.a,{elevation:Se,children:Object(ie.jsx)(z.a,{onClickAway:ke,children:Object(ie.jsx)(K.a,{autoFocusItem:de,children:ve.map((function(S,L){return[!!S.divider&&Object(ie.jsx)(B.a,{className:b.menuItemDivider}),Object(ie.jsx)(Q.a,{"aria-label":S.label,classes:{root:[p.dense?b.menuItemDense:b.menuItem,"error"===S.variant?b.menuItemError:""].join(" "),selected:p.menuItemSelectedClassName||""},onClick:function onClick(p){!function clickItem(p,b){ye(p,b),ke()}(S,p)},disabled:S.disabled,selected:S.selected,dense:p.dense,children:Object(ie.jsx)(X.a,{placement:"left",title:S.tooltipId?y.formatMessage({id:S.tooltipId}):S.tooltipValue?S.tooltipValue:"",open:ge[L],children:Object(ie.jsxs)(ne.a,{onMouseEnter:function onMouseEnter(){if(S.tooltipId){var p=Object(P.a)(ge);p[L]=!0,fe(p)}},onMouseLeave:function onMouseLeave(){if(S.tooltipId){var p=Object(P.a)(ge);p[L]=!1,fe(p)}},className:[b.labelWrapper,S.icon&&!S.selectedIcon?"separate":null,Ee?b.labelWrapperIconWithLabel:""].join(" "),children:[(null===je||void 0===je?void 0:je.id)===S.id&&S.selectedIcon?S.selectedIcon:null,Object(ie.jsx)(ne.a,{className:[b.labelElement,S.selectedIcon&&(null===je||void 0===je?void 0:je.id)!==S.id&&"not-selected"].join(" "),children:S.label}),S.icon]})})})]}))})})})}))}}))]})}},235:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationCloseGrey(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("path",{d:"M15.833 5.342L14.658 4.167 10 8.825 5.342 4.167 4.167 5.342 8.825 10 4.167 14.658 5.342 15.833 10 11.175 14.658 15.833 15.833 14.658 11.175 10z",transform:"translate(-926 -155) translate(296 148) translate(629 7) translate(1)"})))))}var T=P.forwardRef(SvgIconNavigationCloseGrey);y.p},248:function(p,b,y){"use strict";var S=y(61),P=y(1081),L=y(65),T=y(130),z=y(43),B=Object(P.a)((function(p){var b;return{root:(b={width:p.spacing(4),height:p.spacing(4),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:p.spacing(2),backgroundColor:p.palette.grey[50],"& svg":{transformOrigin:"50% 50%",transform:"scale(0.8)","& path":{fill:p.palette.common.black,fillOpacity:.4,transition:p.transitions.create(["fill","fill-opacity"],{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.shortest})}}},Object(S.a)(b,T.a,{width:p.spacing(6),height:p.spacing(6),borderRadius:p.spacing(3),"& svg":{transform:"scale(1)"}}),Object(S.a)(b,'&[data-state="selected"]',{backgroundColor:p.palette.grey[100],"& svg path":{fillOpacity:1}}),b),small:{width:p.spacing(4.5),height:p.spacing(4.5),"& svg":{width:p.spacing(2.25),height:p.spacing(2.25)}}}}));b.a=function RoundedIcon(p){var b=p.icon,y=p.state,S=p.className,P=p.size,T=B();return Object(z.jsx)("div",{className:Object(L.a)(T.root,S,"small"===P&&T.small),"data-state":y,children:b})}},249:function(p,b,y){"use strict";function isValidHttpsURL(p){return/^(https):\/\/[^\s/$.?#].[^\s]*$/.test(p)}function isValidURL(p){return/^(https?):\/\/[^\s/$.?#].[^\s]*$/.test(p)}y.d(b,"a",(function(){return isValidHttpsURL})),y.d(b,"b",(function(){return isValidURL}))},254:function(p,b,y){"use strict";var S=y(1081),P=y(152),L=y(2593),T=y(729),z=y(2515),B=y(107),D=y(2514),N=y(43),q=Object(S.a)((function(p){return{error:{"& > div":{background:p.palette.error.main}},jobItemWrapper:{position:"relative"}}}));var Z=function JobItemError(p){var b=p.message,y=q();return Object(N.jsxs)(T.a,{className:y.jobItemWrapper,children:[Object(N.jsx)(T.a,{mt:.5,mb:.25,pb:.75,children:Object(N.jsx)(D.a,{className:y.error,variant:"determinate","data-status":"failure",value:100})}),Object(N.jsx)(z.a,{variant:"caption",color:"error",children:b})]})},K=y(1386),Q=y(1406),X=y(1410),ne=y(375),re=Object(S.a)((function(p){return{root:{paddingLeft:p.spacing(1.5)},success:{fill:p.palette.success.main},cancel:{width:20,height:20,fill:p.palette.text.secondary}}}));var ie=function JobItemIcon(p){var b=p.status,y=re(),S=b===B.d.Success,P=b===B.d.Failure;return Object(N.jsx)(T.a,{className:y.root,display:"flex",alignItems:"center",children:Object(N.jsx)(K.a,{size:"small",style:{cursor:"inherit"},children:S?Object(N.jsx)(Q.a,{className:y.success,fontSize:"small"}):P?Object(N.jsx)(X.a,{color:"error",fontSize:"small"}):Object(N.jsx)(ne.a,{className:y.cancel,fontSize:"small"})})})},le=Object(S.a)((function(p){return{running:{"& > div":{background:p.palette.primary.main}},jobItemWrapper:{position:"relative","& > .jobRunning":{width:p.spacing(31.375),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}}));var se=function JobItemRunning(p){var b=p.message,y=le();return Object(N.jsxs)(T.a,{className:y.jobItemWrapper,children:[Object(N.jsx)(T.a,{mt:.5,mb:.25,pb:.75,children:Object(N.jsx)(D.a,{className:y.running})}),Object(N.jsx)(z.a,{variant:"caption",color:"textSecondary",component:"div",className:"jobRunning",children:b})]})},de=Object(S.a)((function(p){return{success:{"& > div":{background:p.palette.success.main}},jobItemWrapper:{position:"relative"}}}));var ue=function JobItemSuccess(p){var b=p.message,y=de();return Object(N.jsxs)(T.a,{className:y.jobItemWrapper,children:[Object(N.jsx)(T.a,{mt:.5,mb:.25,pb:.75,children:Object(N.jsx)(D.a,{className:y.success,variant:"determinate","data-status":"success",value:100})}),Object(N.jsx)(z.a,{variant:"caption",color:"textSecondary",children:b})]})},pe=Object(S.a)((function(){return{"@global":{".MuiLinearProgress-root":{height:"4px !important"}},label:{fontWeight:"normal"},process:{width:"100%"},cursorPointer:{cursor:"pointer"}}}));b.a=function JobItem(p){var b=p.status,y=p.name,S=p.successMessage,D=p.errorMessage,q=p.runningMessage,K=p.tooltipSuccessMessage,Q=void 0===K?"":K,X=p.tooltipErrorMessage,ne=void 0===X?"":X,re=p.tooltipRunningMessage,le=void 0===re?"":re,de=p.showIcon,be=void 0===de||de,ge=p.cursorPointer,fe=void 0===ge||ge,he=p.onClick,me=Object(P.a)(),ve=pe(),je=b===B.d.Success,ye=b===B.d.Failure,Oe=function getTooltip(p){return Object(N.jsx)(L.a,{title:je?Q:ye?ne:le,placement:"top",arrow:!0,children:p})},xe=Oe(Object(N.jsx)(T.a,{flexGrow:1,flexShrink:1,flexBasis:"100%",width:"0",children:Object(N.jsxs)(T.a,{className:"".concat(ve.process," ").concat(fe&&ve.cursorPointer),children:[Object(N.jsx)(T.a,{textOverflow:"ellipsis",overflow:"hidden",children:Object(N.jsx)(z.a,{className:ve.label,variant:"caption",noWrap:!0,children:y})}),je?Object(N.jsx)(ue,{message:S||""}):ye?Object(N.jsx)(Z,{message:D||""}):Object(N.jsx)(se,{message:q||""})]})})),_e=Oe(Object(N.jsx)(T.a,{style:{width:me.spacing(4)},className:"".concat(fe&&ve.cursorPointer),children:Object(N.jsx)(ie,{status:b})}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(T.a,{display:"flex",alignItems:"center",style:{width:"100%"},onClick:he,"aria-label":y,role:"listitem",children:[xe,be&&_e]})})}},2612:function(p,b,y){"use strict";y.r(b);var S,P=y(48),L=y(41),T=y(1081),z=y(2533),B=y(2550),D=(y(937),y(50)),N=y(117),q=y(957),Z=y(960),K=y(61),Q=y(2515),X=y(151),ne=y(194),re=y(289),ie=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionViewLeftsidebar(p,b){var y=p.title,P=p.titleId,T=_objectWithoutProperties(p,ie);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":P},T),y?L.createElement("title",{id:P},y):null,S||(S=L.createElement("g",{fillRule:"evenodd"},L.createElement("path",{d:"M2 4v16h20V4H2zm18 4.67h-2.5V6H20v2.67zm-2.5 2H20v2.67h-2.5v-2.67zM4 6h11.5v12H4V6zm13.5 12v-2.67H20V18h-2.5z",transform:"translate(-88.000000, -1934.000000) translate(40.202020, 1934.000000) translate(47.797980, -0.000000) translate(12.000000, 12.000000) rotate(-180.000000) translate(-12.000000, -12.000000)"}))))}var le,se=L.forwardRef(SvgIconActionViewLeftsidebar),de=(y.p,["title","titleId"]);function icon_maps_2_d_view_extends(){return icon_maps_2_d_view_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_maps_2_d_view_extends.apply(this,arguments)}function icon_maps_2_d_view_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_maps_2_d_view_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconMaps2DView(p,b){var y=p.title,S=p.titleId,P=icon_maps_2_d_view_objectWithoutProperties(p,de);return L.createElement("svg",icon_maps_2_d_view_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,le||(le=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M4 5.99V18h11v-5h5V5.99H4zM16 20H4c-1.1 0-2-.901-2-2V5.99C2 4.889 2.9 4 4 4h16c1.1 0 2 .9 2 2v8l-6 6z",transform:"translate(-600.000000, -480.000000) translate(552.202020, 480.000000) translate(47.797980, 0.000000)"})))))))}var ue,pe=L.forwardRef(SvgIconMaps2DView),be=(y.p,["title","titleId"]);function icon_maps_3_d_view_extends(){return icon_maps_3_d_view_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_maps_3_d_view_extends.apply(this,arguments)}function icon_maps_3_d_view_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_maps_3_d_view_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconMaps3DView(p,b){var y=p.title,S=p.titleId,P=icon_maps_3_d_view_objectWithoutProperties(p,be);return L.createElement("svg",icon_maps_3_d_view_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ue||(ue=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M13 19.426V12.65l6-3.461v6.774l-6 3.462zm-8-3.462V9.19l6 3.46v6.776l-6-3.462zm7-11.967l5.999 3.462L12 10.919 6.001 7.46 12 3.997zm8 2.308l-7-4.038c-.617-.356-1.383-.356-2 0L4 6.305c-.617.356-1 1.02-1 1.73v7.929c0 .71.383 1.375 1 1.732l7 4.038c.309.177.654.266 1 .266s.691-.09 1-.266l7-4.038c.617-.357 1-1.021 1-1.732V8.036c0-.711-.383-1.375-1-1.731z",transform:"translate(-472.000000, -480.000000) translate(424.202020, 480.000000) translate(47.797980, -0.000000)"})))))))}var ge,fe=L.forwardRef(SvgIconMaps3DView),he=(y.p,["title","titleId"]);function icon_editor_select_tool_extends(){return icon_editor_select_tool_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_select_tool_extends.apply(this,arguments)}function icon_editor_select_tool_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_select_tool_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorSelectTool(p,b){var y=p.title,S=p.titleId,P=icon_editor_select_tool_objectWithoutProperties(p,he);return L.createElement("svg",icon_editor_select_tool_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ge||(ge=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M4.077 5.385c-.344-.825.483-1.652 1.308-1.308l14 5.833c.826.345.818 1.519-.013 1.852l-4.172 1.67 4.684 4.684c.488.488.488 1.28 0 1.768-.456.455-1.176.486-1.666.091l-.102-.091-4.685-4.685-1.67 4.173c-.3.75-1.285.83-1.728.231l-.068-.106-.055-.112zm2.78 1.472l3.957 9.498 1.424-3.556c.087-.218.248-.397.451-.508l.106-.05 3.561-1.426-9.499-3.958z",transform:"translate(-728.000000, -404.000000) translate(680.202020, 404.000000) translate(47.797980, 0.000000)"})))))))}var me,ve=L.forwardRef(SvgIconEditorSelectTool),je=(y.p,["title","titleId"]);function icon_editor_draw_polygon_extends(){return icon_editor_draw_polygon_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_draw_polygon_extends.apply(this,arguments)}function icon_editor_draw_polygon_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_draw_polygon_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorDrawPolygon(p,b){var y=p.title,S=p.titleId,P=icon_editor_draw_polygon_objectWithoutProperties(p,je);return L.createElement("svg",icon_editor_draw_polygon_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,me||(me=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M9.381 8H9V2h6v6h-.383l4.001 8H22v6h-6v-6h.381l-4-8h-.764l-4 8H8v1.999h8v2H8V22H2v-6h3.381l4-8zM6 18H4v2h2v-2zm14 0h-2v2h2v-2zM13 4h-2v2h2V4z",transform:"translate(-472.000000, -404.000000) translate(424.202020, 404.000000) translate(47.797980, 0.000000)"})))))))}var ye,Oe=L.forwardRef(SvgIconEditorDrawPolygon),xe=(y.p,["title","titleId"]);function icon_editor_draw_square_extends(){return icon_editor_draw_square_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_draw_square_extends.apply(this,arguments)}function icon_editor_draw_square_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_draw_square_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorDrawSquare(p,b){var y=p.title,S=p.titleId,P=icon_editor_draw_square_objectWithoutProperties(p,xe);return L.createElement("svg",icon_editor_draw_square_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ye||(ye=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M6 16h2v2h8v-2h2V8h-2V6H8v2H6v8zm0 2H4v2h2v-2zm14 0h-2v2h2v-2zM6 4H4v2h2V4zm14 0h-2v2h2V4zm0 12h2v6h-6v-2H8v2H2v-6h2V8H2V2h6v2h8V2h6v6h-2v8z",transform:"translate(-600.000000, -404.000000) translate(552.202020, 404.000000) translate(47.797980, 0.000000)"})))))))}var _e,we=L.forwardRef(SvgIconEditorDrawSquare),Ce=(y.p,y(514)),Se=["title","titleId"];function icon_action_visibility_off_extends(){return icon_action_visibility_off_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_visibility_off_extends.apply(this,arguments)}function icon_action_visibility_off_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_visibility_off_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionVisibilityOff(p,b){var y=p.title,S=p.titleId,P=icon_action_visibility_off_objectWithoutProperties(p,Se);return L.createElement("svg",icon_action_visibility_off_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,_e||(_e=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M12 5.975c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53-1.73-4.39-6-7.5-11-7.5-1.27 0-2.49.2-3.64.57l1.65 1.65c.65-.13 1.31-.22 1.99-.22zm-1.07 1.14L13 9.185c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07.01-2.48-2.01-4.49-4.49-4.49-.37 0-.72.05-1.07.14zm-8.92-3.27l2.68 2.68c-1.63 1.28-2.92 2.98-3.69 4.95 1.73 4.39 6 7.5 11 7.5 1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.425l-1.41 1.42zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z",transform:"translate(-600.000000, -1782.000000) translate(552.202020, 1782.000000) translate(47.797980, 0.000000)"})))))))}var Ee,ke=L.forwardRef(SvgIconActionVisibilityOff),Pe=(y.p,["title","titleId"]);function icon_maps_dual_map_extends(){return icon_maps_dual_map_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_maps_dual_map_extends.apply(this,arguments)}function icon_maps_dual_map_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_maps_dual_map_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconMapsDualMap(p,b){var y=p.title,S=p.titleId,P=icon_maps_dual_map_objectWithoutProperties(p,Pe);return L.createElement("svg",icon_maps_dual_map_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,Ee||(Ee=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M13 2v2h8c.51 0 .935.388.993.884L22 5v14c0 .51-.388.935-.884.993L21 20h-8v2h-2v-2H3c-.51 0-.935-.388-.993-.884L2 19V5c0-.51.388-.935.884-.993L3 4h8V2h2zm-2 4H4v12h7V6zm9 0h-7v12h7V6z",transform:"translate(-88.000000, -488.000000) translate(40.202020, 488.000000) translate(47.797980, 0.000000)"})))))))}var Ie=L.forwardRef(SvgIconMapsDualMap),Le=(y.p,y(149)),Me=y(202),Te=y(116),Re=y(174),We=y(246),ze=y(130),Fe=y(675),Ae=y(43),Be=Object(T.a)((function(p){var b;return{content:(b={position:"absolute",minWidth:p.spacing(40),zIndex:990,left:"80%",right:0,transition:p.transitions.create("left",{easing:"ease",duration:250}),top:p.spacing(8.5),padding:p.spacing(0,2.5),display:"flex",justifyContent:"space-between","& > $block, & > $blockGroup":{boxShadow:p.shadows[1],borderRadius:p.spacing(.5),backgroundColor:p.palette.common.white},"@media (min-width: 400px)":{left:Te.o}},Object(K.a)(b,ze.a,{top:p.spacing(6),height:Te.x,backgroundColor:p.palette.common.white,borderBottom:"1px solid ".concat(p.palette.divider),padding:0,"& > $block, & > $blockGroup":{boxShadow:"none",borderRadius:0,backgroundColor:"transparent"}}),Object(K.a)(b,p.breakpoints.up("xl"),{top:p.spacing(8)}),b),contentHidden:{left:0},block:Object(K.a)({padding:p.spacing(.5),display:"flex",alignItems:"center","& > span":{display:"none",margin:p.spacing(0,2,0,1)}},ze.a,{padding:p.spacing(1),"& > span":{display:"block"}}),blockGroup:Object(K.a)({display:"flex",alignItems:"center","& $block + $block":{borderLeft:"1px solid ".concat(p.palette.divider)}},ze.a,{"& $block":{borderLeft:"1px solid ".concat(p.palette.divider),"&:last-child":{borderRight:"1px solid ".concat(p.palette.divider)}}})}}));var De,Ne=function BuilderToolbar(){var p,b=Be(),y=Object(ne.a)(),S=Object(D.a)(),P=Object(D.b)((function(p){var b,y,S;return!(null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.uiState)||void 0===S?void 0:S.activeSidePanel)})),T=Object(D.b)((function(p){var b,y,S;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.mapState)||void 0===S?void 0:S.dragRotate})),z=Object(D.b)((function(p){var b,y,S,P;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.visState)||void 0===S||null===(P=S.editor)||void 0===P?void 0:P.mode})),B=Object(D.b)((function(p){var b,y,S,P,L;return!!(null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.visState)||void 0===S||null===(P=S.editor)||void 0===P||null===(L=P.features)||void 0===L?void 0:L.length)})),N=Object(D.b)((function(p){var b,y,S,P,L;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.uiState)||void 0===S||null===(P=S.mapControls)||void 0===P||null===(L=P.mapDraw)||void 0===L?void 0:L.active})),q=Object(D.b)((function(p){var b,y,S,P;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.visState)||void 0===S||null===(P=S.editor)||void 0===P?void 0:P.visible})),Z=Object(D.b)((function(p){var b,y,S;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.mapState)||void 0===S?void 0:S.isSplit})),K=Object(D.b)((function(p){var b,y,S;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.mapStyle)||void 0===S?void 0:S.bottomMapStyle})),ie=Object(ze.b)(),le=(null===K||void 0===K?void 0:K.type)===We.c.GOOGLE_MAPS,de=!(le&&!(null===K||void 0===K||null===(p=K.options)||void 0===p?void 0:p.mapId)),ue=!le,be=function setViewEvent(p){p!==(T?"3d":"2d")&&S(Object(Le.togglePerspective)())},ge=function setEditorModeEvent(p){N&&z!==p||S(Object(Le.toggleMapControl)("mapDraw",0)),z!==p&&S(Object(Le.setEditorMode)(p))},he=function toggleSplitMapEvent(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;S(Object(Le.toggleSplitMap)(p))},me=Object(L.useMemo)((function(){return[{id:0,label:y.formatMessage({id:ie?"builder.toolBar.closeLeftPanelMobile":"builder.toolBar.closeLeftPanel"})},{id:1,label:y.formatMessage({id:ie?"builder.toolBar.closeRightPanelMobile":"builder.toolBar.closeRightPanel"})}]}),[y,ie]);return Object(Ae.jsxs)("div",{className:[b.content,P?b.contentHidden:""].join(" "),children:[Object(Ae.jsx)("div",{className:b.block,children:Object(Ae.jsx)(Re.a,{onClick:function onClick(){return function toggleSidePanelEvent(){S(Object(Le.toggleSidePanel)(P?"layer":""))}()},active:!P,icon:Object(Ae.jsx)(se,{})})}),Object(Ae.jsxs)("div",{className:b.blockGroup,children:[de?Object(Ae.jsxs)("div",{className:b.block,children:[Object(Ae.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:Object(Ae.jsx)(re.a,{id:"builder.toolBar.mapView"})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return be("2d")},active:!T,icon:Object(Ae.jsx)(pe,{}),tooltip:y.formatMessage({id:"builder.toolBar.mapViewNormal"})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return be("3d")},active:T,icon:Object(Ae.jsx)(fe,{}),tooltip:y.formatMessage({id:"builder.toolBar.mapView3d"})})]}):null,ue?Object(Ae.jsxs)("div",{className:b.block,style:{display:"none"},children:[Object(Ae.jsx)(Q.a,{variant:"caption",color:"textSecondary",children:Object(Ae.jsx)(re.a,{id:"builder.toolBar.shape"})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return ge(Me.EDITOR_MODES.EDIT)},active:N&&z===Me.EDITOR_MODES.EDIT,icon:Object(Ae.jsx)(ve,{})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return ge(Me.EDITOR_MODES.DRAW_POLYGON)},active:N&&z===Me.EDITOR_MODES.DRAW_POLYGON,icon:Object(Ae.jsx)(Oe,{})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return ge(Me.EDITOR_MODES.DRAW_RECTANGLE)},active:N&&z===Me.EDITOR_MODES.DRAW_RECTANGLE,icon:Object(Ae.jsx)(we,{})}),Object(Ae.jsx)(Re.a,{onClick:function onClick(){return function toggleEditorVisibilityEvent(){S(Object(Le.toggleEditorVisibility)())}()},disabled:!B,icon:B&&!q?Object(Ae.jsx)(ke,{}):Object(Ae.jsx)(Ce.a,{}),tooltip:B?y.formatMessage({id:"builder.toolBar.visibilityShapesTooltip.".concat(q?"hide":"show")}):""})]}):null,Object(Ae.jsx)("div",{className:b.block,children:Object(Ae.jsx)(X.a,{onClickItem:function onClickItem(p){return he(p.id)},placement:"bottom-start",menuItems:me,elevation:8,dense:!0,ButtonComponent:function ButtonComponent(p){var b=p.onClick;return Object(Ae.jsx)(Re.a,{onClick:Z?b:he,active:Z,icon:Object(Ae.jsx)(Ie,{}),tooltip:y.formatMessage({id:"builder.toolBar.dualMapTooltip.".concat(Z?"exit":"enter")})})}})})]}),Object(Ae.jsx)("div",{className:b.block,children:Object(Ae.jsx)(Fe.a,{})})]})},He=y(943),Ve=y(49),Ue=y(2519),Ge=y(2512),qe=y(2514),Je=y(729),Ze=y(1386),$e=y(2557),Ye=y(2551),Ke=y(2556),Qe=y(2555),Xe=y(2554),et=y(2623),tt=y(433),nt=["title","titleId"];function icon_av_play_circle_outline_black_extends(){return icon_av_play_circle_outline_black_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_av_play_circle_outline_black_extends.apply(this,arguments)}function icon_av_play_circle_outline_black_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_av_play_circle_outline_black_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconAvPlayCircleOutlineBlack(p,b){var y=p.title,S=p.titleId,P=icon_av_play_circle_outline_black_objectWithoutProperties(p,nt);return L.createElement("svg",icon_av_play_circle_outline_black_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,De||(De=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",transform:"translate(-344.000000, -2678.000000) translate(296.202020, 2678.000000) translate(47.797980, 0.000000)"})))))))}var rt,ot=L.forwardRef(SvgIconAvPlayCircleOutlineBlack),at=(y.p,["title","titleId"]);function icon_av_stop_circle_outline_black_extends(){return icon_av_stop_circle_outline_black_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_av_stop_circle_outline_black_extends.apply(this,arguments)}function icon_av_stop_circle_outline_black_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_av_stop_circle_outline_black_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconAvStopCircleOutlineBlack(p,b){var y=p.title,S=p.titleId,P=icon_av_stop_circle_outline_black_objectWithoutProperties(p,at);return L.createElement("svg",icon_av_stop_circle_outline_black_extends({width:18,height:18,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,rt||(rt=L.createElement("path",{d:"M9 1.5c4.14 0 7.5 3.36 7.5 7.5 0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5zM9 3C5.692 3 3 5.692 3 9c0 3.307 2.692 6 6 6 3.307 0 6-2.693 6-6 0-3.308-2.693-6-6-6zm3 3v6H6V6h6zm-1.5 1.5h-3v3h3v-3z",fill:"#2C3032",fillRule:"evenodd"})))}var it=L.forwardRef(SvgIconAvStopCircleOutlineBlack),lt=(y.p,y(270)),ct=y(1516),st=y(237),dt=y(2548),ut=(y(944),y(945),y(64));var pt=Object(T.a)((function(p){return{runningTime:{color:p.palette.secondary.main,display:"inline-flex"},text:{paddingTop:p.spacing(.25),fontSize:p.spacing(1.375),fontWeight:600,letterSpacing:"0.3px"},loader:{color:p.palette.secondary.main,height:"".concat(p.spacing(2.25),"px !important"),width:"".concat(p.spacing(2.25),"px !important"),marginRight:p.spacing(.5)}}}));function RunningTime(p){var b=pt(),y=p.datasetId,S=void 0===y?"":y,P=Object(L.useState)(Date.now()),T=Object(Ve.a)(P,2),z=T[0],B=T[1],N=Object(D.b)((function(p){return p.maps.currentMapDatasets})).find((function(p){return p.id===S})),q=(null===N||void 0===N?void 0:N.status)===ut.b.Pending||(null===N||void 0===N?void 0:N.status)===ut.b.Idle,Z=N||{},K=function getQueryRunningTime(p,b,y){var S,P;if(p){var L=b||y;S=(P=Math.floor((L-p)/1e3))>0?Math.floor(P/60):0,P=P>0?P-60*S:0}return[S,P]}(Z.runningSince,Z.runningTo,z),Q=Object(Ve.a)(K,2),X=function formatTimeString(p,b){if(void 0!==b){var y=String(p).padStart(2,"0"),S=String(b).padStart(2,"0");return"".concat(y,":").concat(S)}return""}(Q[0],Q[1]);return Object(L.useEffect)((function(){var p;return q&&(p=setInterval((function(){return B(Date.now())}),1e3)),function(){clearInterval(p)}}),[q]),Object(Ae.jsxs)("div",{className:b.runningTime,children:[q&&Object(Ae.jsx)(dt.a,{className:b.loader}),Object(Ae.jsx)("div",{className:b.text,children:X})]})}var bt=y(164),gt=y(94),ft=y(98);y(946),y(1517),y(1518),y(1519),y(1520);var ht=Object(T.a)((function(p){return{"@global":{".CodeMirror":{height:"100% !important",fontSize:"14px"},".CodeMirror-scroll":{backgroundColor:p.palette.grey[900]},".CodeMirror-linenumbers":{width:p.spacing(6),backgroundColor:p.palette.grey[900]},".cm-s-material.CodeMirror":{backgroundColor:p.palette.grey[900],position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:1},".CodeMirror-placeholder":{color:"rgba(255,255,255,0.4) !important"},".MuiLinearProgress-root":{height:"2px",position:"absolute",top:0,left:0,right:0,zIndex:1}},sqlPanel:{position:"absolute",overflow:"hidden",zIndex:25,left:Te.o,right:0,bottom:0,height:Te.p,width:"auto",transition:"width 250ms, height 250ms",backgroundColor:p.palette.grey[900],"& .MuiButton-contained.Mui-disabled":{backgroundColor:p.palette.secondary.main,opacity:.5}},codeMirror:{flex:1,display:"flex","& .react-codemirror2":{width:"100%",height:"100% !important",position:"relative"}},minimize:{minHeight:"48px",height:"48px"},invertIcon:{transform:"rotate(180deg)"},fullWidth:{width:"100%"},title:{color:p.palette.common.white,fontSize:p.spacing(1.625),fontWeight:500,lineHeight:1.54,letterSpacing:"0.25px"},info:{color:p.palette.common.white},runAlertButton:{color:p.palette.error.main},button:{marginRight:p.spacing(2)},footer:{position:"relative","&:before":{content:'""',position:"absolute",left:0,right:0,bottom:0,top:p.spacing(-2),backgroundImage:"linear-gradient(to bottom, rgba(44, 48, 50, 0), rgba(44, 48, 50, 0.8) 11%, #2c3032 22%)"}},errorAlert:{position:"relative"},headerDatasetLetter:{color:p.palette.common.white,position:"absolute",height:p.spacing(6),width:p.spacing(2),left:0,display:"flex",justifyContent:"center",alignItems:"center",fontSize:p.spacing(1.5),fontWeight:600}}}));function SQLPanel(p){var b=ht(),y=p.mapId,S=p.datasetId,P=void 0===S?"":S,T=p.provider,z=p.connection,B=Object(L.useState)(!1),N=Object(Ve.a)(B,2),q=N[0],Z=N[1],K=Object(L.useState)(""),X=Object(Ve.a)(K,2),ne=X[0],ie=X[1],le=Object(L.useState)(!1),se=Object(Ve.a)(le,2),de=se[0],ue=se[1],pe=Object(D.a)(),be=!Object(D.b)(st.i),ge=Object(D.b)((function(p){return p.maps.currentMapDatasets})),fe=Object(D.b)((function(p){return p.builder.isLoading})),he=ge.find((function(p){return p.id===P})),me=(null===he||void 0===he?void 0:he.status)===ut.b.Pending||(null===he||void 0===he?void 0:he.status)===ut.b.Idle,ve=null===he||void 0===he?void 0:he.errorMessage,je=Object(bt.a)(),ye=Object(D.b)((function(p){return Object(st.c)(p,P)}));Object(L.useEffect)((function(){ie(p.query||(null===he||void 0===he?void 0:he.source)||"")}),[he,p.query]),Object(L.useEffect)((function(){P&&!he&&pe(Object(gt.j)())}),[he,P,pe]);var Oe=function handleRun(){ye.length>0?ue(!0):_e()},xe=function handleStop(){pe(Object(gt.h)({mapId:y,datasetId:P,query:ne}))},_e=function addDataToMap(){if(ne)if(ue(!1),P)pe(Object(gt.C)({mapId:y,query:ne,datasetId:P}));else if(z&&T){var p=ft.c.query;pe(Object(gt.f)({mapId:y,connection:z,provider:T,source:ne,type:p}))}};return Object(Ae.jsxs)(Ge.a,{container:!0,direction:"column",className:"".concat(b.sqlPanel," ").concat(be&&b.fullWidth," ").concat(q&&b.minimize),children:[Object(Ae.jsx)(qe.a,{hidden:!me}),Object(Ae.jsx)(Je.a,{ml:4,mt:1,mb:1,mr:1,children:Object(Ae.jsxs)(Ge.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[he&&Object(Ae.jsx)("div",{className:b.headerDatasetLetter,style:{backgroundColor:he.color||"#fff"},children:je[he.id]}),Object(Ae.jsx)(Q.a,{variant:"subtitle1",className:b.title,children:Object(Ae.jsx)(re.a,{id:"builder.sqlPanel.title"})}),Object(Ae.jsxs)("div",{children:[Object(Ae.jsx)(Ze.a,{onClick:function onClick(){return Z(!q)},className:"".concat(q&&b.invertIcon),children:Object(Ae.jsx)(tt.a,{})}),Object(Ae.jsx)(Ze.a,{onClick:function closeSQLPanel(){pe(Object(gt.j)())},"aria-label":"close-sql-editor",children:Object(Ae.jsx)(lt.a,{width:18,height:18})})]})]})}),!q&&Object(Ae.jsxs)(Ae.Fragment,{children:[Object(Ae.jsx)($e.a,{light:!0}),Object(Ae.jsx)("div",{className:b.codeMirror,children:Object(Ae.jsx)(ct.Controlled,{value:ne,options:{mode:"sql",theme:"material",lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Space":"autocomplete"},placeholder:"SELECT * FROM table"},onBeforeChange:function onBeforeChange(p,b,y){ie(y)}})}),Object(Ae.jsxs)(Je.a,{pl:3,pr:3,pb:3,className:b.footer,children:[Object(Ae.jsxs)(Ge.a,{container:!0,alignItems:"center",justifyContent:"flex-start",children:[ne&&function getActionButton(){var p,y,S;return me?(y=Object(Ae.jsx)(it,{width:18,height:18}),p=Object(Ae.jsx)(re.a,{id:"builder.sqlPanel.stop"}),S=xe):(y=Object(Ae.jsx)(ot,{width:18,height:18}),p=Object(Ae.jsx)(re.a,{id:"builder.sqlPanel.run"}),S=Oe),Object(Ae.jsx)(Ue.a,{className:b.button,onClick:S,variant:"contained",color:"secondary",startIcon:y,disabled:(null===he||void 0===he?void 0:he.status)!==ut.b.Fulfilled&&fe,children:p})}(),Object(Ae.jsx)(RunningTime,{datasetId:P})]}),ve&&Object(Ae.jsx)(Je.a,{mt:1,children:Object(Ae.jsx)(et.a,{className:b.errorAlert,severity:"error",children:ve.replace("Error: ","")})})]})]}),Object(Ae.jsxs)(Ye.a,{open:de,children:[Object(Ae.jsx)(Ke.a,{children:Object(Ae.jsx)(re.a,{id:"builder.sqlPanel.filterDialogTitle"})}),Object(Ae.jsx)(Qe.a,{children:Object(Ae.jsx)(re.a,{id:"builder.sqlPanel.filterDialogContent"})}),Object(Ae.jsxs)(Xe.a,{children:[Object(Ae.jsx)(Ue.a,{color:"primary",onClick:function onClick(){return ue(!1)},children:Object(Ae.jsx)(re.a,{id:"common.button.cancel"})}),Object(Ae.jsx)(Ue.a,{className:b.runAlertButton,onClick:_e,children:Object(Ae.jsx)(re.a,{id:"common.button.okRun"})})]})]})]})}var mt=y(141),vt=y(114),jt=y(947),yt=y(2562),Ot=y(2625),xt=y(427),_t=y(491),wt=Object(T.a)((function(p){var b=p.palette,y=p.typography;return{text:{"& strong":{color:b.text.primary,fontWeight:400}},checkboxLabel:Object(P.a)({},y.body2)}}));var Ct=function BuilderMobileModal(){var p=wt(),b=Object(ne.a)(),y=Object(ze.b)(),S=Object(L.useState)(!1),P=Object(Ve.a)(S,2),T=P[0],z=P[1],B=Object(L.useState)(!1),D=Object(Ve.a)(B,2),N=D[0],q=D[1];return Object(L.useEffect)((function(){y&&Object(_t.e)()&&z(!0)}),[y,z]),Object(L.useEffect)((function(){N&&!T&&Object(_t.c)()}),[N,T]),Object(Ae.jsx)(xt.a,{titleId:"builder.mobileModal.title",open:T,handleClose:function handleClose(){z(!1)},buttonLabelId:"builder.mobileModal.accept",children:Object(Ae.jsxs)(Ae.Fragment,{children:[Object(Ae.jsx)(Je.a,{mt:-1,mb:3,children:Object(Ae.jsx)(Q.a,{className:p.text,component:"p",variant:"body2",color:"textSecondary",children:Object(Ae.jsx)("span",{dangerouslySetInnerHTML:{__html:b.formatMessage({id:"builder.mobileModal.text"})}})})}),Object(Ae.jsx)(yt.a,{classes:{label:p.checkboxLabel},control:Object(Ae.jsx)(Ot.a,{checked:N,onChange:function onChange(){q(!N)},name:"not-show-again"}),label:Object(Ae.jsx)(re.a,{id:"builder.mobileModal.notShowAgain"})})]})})},St=y(910),Et=Object(T.a)((function(){return{content:{display:"flex",flexDirection:"column",height:"100vh"},loader:{paddingLeft:Te.o}}}));b.default=function BuilderPrivate(){var p=Et(),b=Object(vt.g)(),y=Object(vt.h)().mapId,S=Object(mt.a)(),T=S.user,K=S.userHasEditionRole;Object(He.a)();var Q=Object(D.b)(st.i),X=Object(D.b)((function(p){return p.maps.fetchMapError})),ne=Object(D.b)((function(p){return p.builder.sqlPanel}));return Object(L.useEffect)((function(){y&&T&&!K&&b("/viewer/".concat(y))}),[b,y,T,K]),Object(L.useEffect)((function(){X&&403===X.status&&b("/builder/error/404")}),[b,X]),Object(L.useEffect)((function(){document.documentElement.style.setProperty("--builder-maps-mb",Q&&ne?Te.p:null)}),[Q,ne]),Object(Ae.jsxs)(z.a,{theme:N.a,children:[Object(Ae.jsx)(B.a,{}),Object(Ae.jsxs)("div",{className:p.content,children:[Object(Ae.jsx)(Z.a,{}),Object(Ae.jsx)(Ne,{}),Object(Ae.jsx)(jt.a,{rootClassName:p.loader}),T&&K&&Object(Ae.jsx)(q.a,{}),Q&&ne&&Object(Ae.jsx)(SQLPanel,Object(P.a)({},ne)),Object(Ae.jsx)(Ct,{}),Object(Ae.jsx)(St.a,{})]})]})}},270:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationClose(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#FFF"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",transform:"translate(-1037 -234) translate(1031 228) translate(6 6)"})))))))}var T=P.forwardRef(SvgIconNavigationClose);y.p},272:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionWatchLater(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M10 1.667c-4.583 0-8.333 3.75-8.333 8.333s3.75 8.333 8.333 8.333 8.333-3.75 8.333-8.333S14.583 1.667 10 1.667zm0 15c-3.675 0-6.667-2.992-6.667-6.667S6.325 3.333 10 3.333 16.667 6.325 16.667 10 13.675 16.667 10 16.667zm.417-10.834h-1.25v5L13.5 13.5l.667-1.083-3.75-2.25V5.833z",transform:"translate(-191 -1258) translate(130 1111) translate(16 147) translate(45)"})))))))))}var T=P.forwardRef(SvgIconActionWatchLater);y.p},273:function(p,b,y){"use strict";y.d(b,"a",(function(){return useLastingEffect}));var S=y(49),P=y(41);function useLastingEffect(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],y=Object(P.useState)((function(){return b?Date.now()+p:0})),L=Object(S.a)(y,2),T=L[0],z=L[1];Object(P.useEffect)((function(){var p=setTimeout((function(){z(0)}),T-Date.now());return function(){p&&window.clearTimeout(p)}}),[T,p]);var B=Object(P.useCallback)((function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];z(b?Date.now()+p:0)}),[p]);return[0!==T,B]}},274:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconAlertErrorOutline(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M8.25 11.25h1.5v1.5h-1.5v-1.5zm0-6h1.5v4.5h-1.5v-4.5zm.742-3.75C4.853 1.5 1.5 4.86 1.5 9c0 4.14 3.353 7.5 7.492 7.5 4.148 0 7.508-3.36 7.508-7.5 0-4.14-3.36-7.5-7.508-7.5zM9 15c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z",transform:"translate(-790.000000, -581.000000) translate(256.000000, 116.000000) translate(534.000000, 465.000000)"})))))))}var T=P.forwardRef(SvgIconAlertErrorOutline);y.p},275:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconMapsMap(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM10 5.47l4 1.4v11.66l-4-1.4V5.47zm-5 .99l3-1.01v11.7l-3 1.16V6.46zm14 11.08l-3 1.01V6.86l3-1.16v11.84z",transform:"translate(-472.000000, -1360.000000) translate(424.202020, 1360.000000) translate(47.797980, 0.000000)"})))))))}var T=P.forwardRef(SvgIconMapsMap);y.p},276:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNotificationPowerBig(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:49,height:48,viewBox:"0 0 49 48",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillOpacity:.25,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M32 18v9.32l-7 7.02V38h-2v-3.66l-7-7.04V18h16zm0-12h-4v8h-8V6h-4v8h-.02C13.8 13.98 12 15.78 12 17.96V29l7 7v6h10v-6l7-7.02V18c0-2.2-1.8-4-4-4V6z",transform:"translate(-163.000000, -376.000000) translate(0.000000, 120.000000) translate(20.000000, 256.000000) translate(143.500000, 0.000000)"}))))))))}var T=P.forwardRef(SvgIconNotificationPowerBig);y.p},278:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgContentLink(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8v-2z",transform:"translate(-1193.000000, -458.000000) translate(1186.000000, 452.000000) translate(1.000000, 0.000000) translate(6.000000, 6.000000)"})))}var T=P.forwardRef(SvgContentLink);y.p},282:function(p,b,y){"use strict";y.d(b,"b",(function(){return ie})),y.d(b,"c",(function(){return ge}));var S,P=y(48),L=y(1081),T=y(2562),z=y(2626),B=y(65),D=y(428),N=y(43),q=y(41),Z=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionLock(p,b){var y=p.title,P=p.titleId,L=_objectWithoutProperties(p,Z);return q.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":P},L),y?q.createElement("title",{id:P},y):null,S||(S=q.createElement("path",{d:"M18 8.5h-1v-2c0-2.76-2.24-5-5-5s-5 2.24-5 5v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-10c0-1.1-.9-2-2-2zm-9-2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9v-2zm9 14H6v-10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z",fill:"#2C3032",fillRule:"evenodd"})))}var K=q.forwardRef(SvgIconActionLock),Q=(y.p,y(64)),X=y(289),ne=y(248),re=Object(L.a)((function(p){return{privateRoundedIcon:{'&[data-state="selected"]':{backgroundColor:p.palette.grey[100],"& svg path":{fillOpacity:1}}}}}));var ie={value:Q.a.Private,title:Object(N.jsx)(X.a,{id:"common.shareDialog.privateOption"}),isDefault:!0,description:Object(N.jsx)(X.a,{id:"common.shareDialog.privateDesc"}),iconComponent:function PrivateIconLock(p){var b=re();return Object(N.jsx)(ne.a,Object(P.a)(Object(P.a)({},p),{},{icon:Object(N.jsx)(K,{}),className:b.privateRoundedIcon}))}},le=y(50),se=y(564),de=y(112),ue=y(221),pe=y(158),be=Object(L.a)((function(p){return{sharedRoundedIcon:{'&[data-state="selected"]':{backgroundColor:Object(pe.a)(p.palette.secondary.main,.08),"& svg path":{fill:p.palette.secondary.dark,fillOpacity:1}}}}}));function SharedOptionDescription(){var p=Object(le.b)((function(p){var b;return null===(b=p.users.me)||void 0===b?void 0:b.user_metadata.account_name})),b=Object(se.b)(de.J).data,y=(null===b||void 0===b?void 0:b.users)||0;return Object(N.jsx)(X.a,{id:"common.shareDialog.sharedDesc",values:{account:Object(N.jsx)("strong",{children:p}),users:Object(N.jsx)("span",{children:Object(N.jsx)(X.a,{id:"common.shareDialog.sharedDescUsers",values:{users:y}})})}})}var ge={value:Q.a.Shared,title:Object(N.jsx)(X.a,{id:"common.shareDialog.sharedOption"}),description:Object(N.jsx)(SharedOptionDescription,{}),iconComponent:function PrivateIconSocial(p){var b=be();return Object(N.jsx)(ne.a,Object(P.a)(Object(P.a)({},p),{},{icon:Object(N.jsx)(ue.a,{}),className:b.sharedRoundedIcon}))}},fe=Object(L.a)((function(p){return{radioWrapper:{backgroundColor:p.palette.common.white,borderRadius:p.spacing(.5),padding:p.spacing(2,1.5,2,2),margin:0,width:"100%",border:"1px solid ".concat(p.palette.divider),transition:p.transitions.create(["box-shadow","border"],{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.short}),"& + $radioWrapper":{marginTop:p.spacing(2)},"&:not($radioWrapperSelected):hover":{boxShadow:p.shadows[2],borderColor:"transparent"}},radioLabel:{display:"flex",alignItems:"center",flex:1},radioWrapperSelected:{cursor:"default"}}}));b.a=function ShareOptionRadio(p){var b=fe(),y=p.value,S=p.extraContent,L=p.selected;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T.a,{value:y,control:Object(N.jsx)(z.a,{color:"primary"}),classes:{root:Object(B.a)(b.radioWrapper,L&&b.radioWrapperSelected),label:b.radioLabel},label:Object(N.jsx)(D.a,Object(P.a)({},p)),labelPlacement:"start"}),S||null]})}},284:function(p,b,y){"use strict";var S=y(49),P=y(41),L=y(114),T=y(107),z=y(194),B=y(254),D=y(1081),N=y(2551),q=y(2556),Z=y(2555),K=y(2515),Q=y(2554),X=y(2512),ne=y(2519),re=y(2623),ie=y(289),le=y(43),se=Object(D.a)((function(p){return{errorMessage:{fontWeight:"normal",maxWidth:p.spacing(69),overflowY:"auto",color:p.palette.error.relatedDark},errorIntro:{fontWeight:"normal",fontSize:p.spacing(1.5)},errorInfo:{color:p.palette.common.black}}}));var de=function JobItemImportingErrorDialog(p){var b=p.job,y=p.open,S=p.onClose,P=se();return Object(le.jsxs)(N.a,{open:y,onClose:S,"aria-labelledby":"job-error-dialog-title",children:[Object(le.jsx)(q.a,{id:"job-error-dialog-title",children:Object(le.jsx)(ie.a,{id:"jobs.datasets.error.title"})}),Object(le.jsxs)(Z.a,{children:[Object(le.jsx)(K.a,{variant:"caption",className:P.errorInfo,children:Object(le.jsx)(ie.a,{id:"jobs.tilesets.error.info"})}),Object(le.jsx)(re.a,{severity:"error",className:P.errorMessage,children:Object(le.jsx)(K.a,{variant:"caption",children:b.error})})]}),Object(le.jsx)(Q.a,{children:Object(le.jsx)(X.a,{container:!0,direction:"column",alignItems:"flex-end",children:Object(le.jsx)(X.a,{item:!0,children:Object(le.jsx)(ne.a,{onClick:S,color:"primary",children:Object(le.jsx)(ie.a,{id:"common.button.done"})})})})})]})};b.a=function JobImportingItem(p){var b=p.job,y=p.onClose,D=p.inlineMode,N=void 0!==D&&D,q=Object(z.a)(),Z=Object(L.g)(),K=Object(P.useState)(!1),Q=Object(S.a)(K,2),X=Q[0],ne=Q[1];return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(B.a,{status:b.status,name:b.name,successMessage:q.formatMessage({id:"jobs.datasets.status.success"}),errorMessage:N?q.formatMessage({id:"jobs.datasets.status.failureInline"}):q.formatMessage({id:"jobs.datasets.status.failure"}),runningMessage:N?"".concat(q.formatMessage({id:"jobs.datasets.status.runningInline"})," ").concat(b.connection):q.formatMessage({id:"jobs.datasets.status.running"}),tooltipSuccessMessage:q.formatMessage({id:"jobs.datasets.tooltip.success"}),tooltipErrorMessage:N?"":q.formatMessage({id:"jobs.tooltip.error"}),showIcon:b.status!==T.d.Pending,cursorPointer:!N||b.status===T.d.Success,onClick:function handleJobItemClick(){b.status===T.d.Success&&(Z("/data/explorer/".concat(b.connection,"/").concat(b.destination,".").concat(b.name)),y&&y()),b.status!==T.d.Failure||N||ne(!0)}}),Object(le.jsx)(de,{job:b,open:X,onClose:function handleCloseDialog(){ne(!1)}})]})}},354:function(p,b,y){"use strict";b.a=y.p+"static/media/carto-logo-dot.bd749cb4.svg"},355:function(p,b,y){"use strict";var S=y(47),P=y(54);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var L=P(y(41)),T=(0,S(y(140)).default)(L.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");b.default=T},356:function(p,b,y){var S=y(220);p.exports=function _createForOfIteratorHelper(p,b){var y;if("undefined"===typeof Symbol||null==p[Symbol.iterator]){if(Array.isArray(p)||(y=S(p))||b&&p&&"number"===typeof p.length){y&&(p=y);var P=0,L=function F(){};return{s:L,n:function n(){return P>=p.length?{done:!0}:{done:!1,value:p[P++]}},e:function e(p){throw p},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,z=!0,B=!1;return{s:function s(){y=p[Symbol.iterator]()},n:function n(){var p=y.next();return z=p.done,p},e:function e(p){B=!0,T=p},f:function f(){try{z||null==y.return||y.return()}finally{if(B)throw T}}}}},357:function(p,b,y){"use strict";y.d(b,"a",(function(){return useMapSharingInfo}));var S=y(50),P=y(98);function useMapSharingInfo(p){var b=Object(S.b)((function(p){return p.users.me}));return{isSharedMap:null!=(null===p||void 0===p?void 0:p.token)&&(null===p||void 0===p?void 0:p.privacy)===P.b.Shared,isPublicMap:null!=(null===p||void 0===p?void 0:p.token)&&(null===p||void 0===p?void 0:p.privacy)===P.b.Public,isEditable:(null===p||void 0===p?void 0:p.ownerId)===(null===b||void 0===b?void 0:b.user_id)}}},358:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionInfo(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#FFF"},P.createElement("g",null,P.createElement("path",{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",transform:"translate(-448 -986) translate(448 986)"}))))))}var T=P.forwardRef(SvgIconActionInfo);y.p},361:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationArrowRight(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M9.5 17L14.5 12 9.5 7z",transform:"translate(-142.000000, -186.000000) translate(130.000000, 176.000000) translate(12.000000, 10.000000)"})))))))}var T=P.forwardRef(SvgIconNavigationArrowRight);y.p},367:function(p,b,y){"use strict";var S,P,L=y(48),T=y(1),z=y.n(T),B=y(4),D=y(49),N=y(1081),q=y(152),Z=y(2512),K=y(1391),Q=y(2570),X=y(2636),ne=y(2519),re=y(1386),ie=y(2564),le=y(41),se=y(664),de=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconDelete(p,b){var y=p.title,L=p.titleId,T=_objectWithoutProperties(p,de);return le.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":L},T),y?le.createElement("title",{id:L},y):null,S||(S=le.createElement("defs",null,le.createElement("filter",{id:"tc7lnmvoqb"},le.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0"})),le.createElement("path",{id:"x13nuv40ma",d:"M16 9v10H8V9h8zm-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}))),P||(P=le.createElement("g",{fillRule:"evenodd"},le.createElement("g",null,le.createElement("g",null,le.createElement("g",null,le.createElement("g",null,le.createElement("g",{transform:"translate(-1112 -175) translate(607 157) translate(463 12) translate(36) translate(6 6)"},le.createElement("mask",{id:"wryaj9q1rc",fill:"#fff"},le.createElement("use",{xlinkHref:"#x13nuv40ma"})),le.createElement("g",null,le.createElement("g",{mask:"url(#wryaj9q1rc)"},le.createElement("path",{fillRule:"nonzero",d:"M0 0H24V24H0z"})))))))))))}var ue=le.forwardRef(SvgIconDelete),pe=(y.p,y(43)),be=Object(N.a)((function(){return{inputLabel:{"&[data-shrink=false] + .MuiInputBase-formControl .MuiInputBase-input::placeholder":{opacity:".42!important"}}}}));b.a=function FileInput(p){var b=p.label,y=p.placeholder,S=p.validator,P=p.onFileChange,T=p.size,N=void 0===T?"medium":T,de=p.accept,ge=void 0===de?null:de,fe=be(),he=Object(q.a)(),me=Object(le.useState)(),ve=Object(D.a)(me,2),je=ve[0],ye=ve[1],Oe=Object(le.useState)(),xe=Object(D.a)(Oe,2),_e=xe[0],we=xe[1],Ce=function resetState(){ye(null),we(void 0)},Se=function(){var p=Object(B.a)(z.a.mark((function _callee(p){var b;return z.a.wrap((function _callee$(y){for(;;)switch(y.prev=y.next){case 0:if(y.t0=S,!y.t0){y.next=5;break}return y.next=4,S(p);case 4:y.t0=y.sent;case 5:return b=y.t0,ye(b),y.abrupt("return",b);case 8:case"end":return y.stop()}}),_callee)})));return function validateFile(b){return p.apply(this,arguments)}}(),Ee=function(){var p=Object(B.a)(z.a.mark((function _callee2(p){var b,y;return z.a.wrap((function _callee2$(S){for(;;)switch(S.prev=S.next){case 0:return b=Object(D.a)(p,1),y=b[0],Ce(),S.next=4,Se(y);case 4:S.sent||we(y);case 6:case"end":return S.stop()}}),_callee2)})));return function onDrop(b){return p.apply(this,arguments)}}(),ke=Object(se.a)({noClick:!0,noKeyboard:!0,multiple:!1,onDrop:Ee,accept:ge||""}),Pe=ke.getRootProps,Ie=ke.getInputProps,Le=ke.open,Me=ke.isDragActive;return Object(le.useEffect)((function(){P&&P(_e)}),[_e,P]),Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(Z.a,Object(L.a)(Object(L.a)({},Pe()),{},{children:[Object(pe.jsx)("input",Object(L.a)(Object(L.a)({},Ie()),{},{"aria-label":p.name,role:"textbox"})),Object(pe.jsxs)(K.a,{error:!!je,variant:"outlined",focused:Me,size:N,children:[b&&Object(pe.jsx)(Q.a,{className:fe.inputLabel,children:b}),Object(pe.jsx)(X.a,{readOnly:!0,value:(null===_e||void 0===_e?void 0:_e.name)||"",placeholder:y,name:p.name,inputRef:null===p||void 0===p?void 0:p.inputRef,endAdornment:_e?Object(pe.jsx)(re.a,{size:N,onClick:Ce,"aria-label":"delete",children:Object(pe.jsx)(ue,{fill:he.palette.error.main})}):Object(pe.jsx)(ne.a,{size:N,color:"primary",onClick:Le,children:"Browse"})}),!!je&&Object(pe.jsx)(ie.a,{children:je})]})]}))})}},423:function(p,b,y){"use strict";var S=y(61),P=y(1081),L=y(2634),T=y(492),z=y(43),B=Object(P.a)((function(p){return{common:Object(S.a)({display:"flex",justifyContent:"center",alignItems:"center",width:p.spacing(4.5),height:p.spacing(4.5),color:"#fff",fontSize:20,fontWeight:600,borderRadius:"50%",fontFamily:"'Montserrat', sans-serif"},p.breakpoints.up("xl"),{width:p.spacing(6),height:p.spacing(6)}),withImage:{border:"solid 1px rgba(44, 48, 50, 0.4)"},noImage:{backgroundColor:Object(T.a)()},pointer:{cursor:"pointer"}}}));b.a=function Gravatar(p){var b=p.userImage,y=p.cursorPointerEnabled,S=void 0===y||y,P=p.onClick,T=p.acronym,D=B(),N=[D.common,D.withImage].join(" "),q=[D.common,D.noImage].join(" ");return Object(z.jsx)("div",{className:S?D.pointer:"",role:"button",onClick:P,children:b?Object(z.jsx)(L.a,{alt:"user avatar",src:b,className:N}):Object(z.jsx)(L.a,{className:q,children:T})})}},424:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgPlacesCorporateFare(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("path",{fill:"#000",fillOpacity:.87,d:"M12 7V3H2v18h20V7H12zm-2 12H4v-2h6v2zm0-4H4v-2h6v2zm0-4H4V9h6v2zm0-4H4V5h6v2zm10 12h-8V9h8v10zm-2-8h-4v2h4v-2zm0 4h-4v2h4v-2z"}))))}var T=P.forwardRef(SvgPlacesCorporateFare);y.p},427:function(p,b,y){"use strict";var S=y(61),P=y(41),L=y(1081),T=y(2551),z=y(2556),B=y(2515),D=y(2555),N=y(2537),q=y(2554),Z=y(289),K=y(111),Q=y(130),X=y(43),ne=Object(L.a)((function(p){var b;return{dialog:{maxWidth:p.spacing(70)},dialogTitle:{padding:p.spacing(3,9,3,3)},closeButton:{position:"absolute",right:p.spacing(2),top:p.spacing(2),padding:p.spacing(.75)},dialogContent:Object(S.a)({padding:0,margin:0},Q.a,{padding:p.spacing(2,2,0)}),dialogPaper:(b={padding:p.spacing(2)},Object(S.a)(b,Q.a,{padding:p.spacing(3)}),Object(S.a)(b,"backgroundColor",p.palette.grey[50]),b),dialogActions:{padding:p.spacing(2)}}}));b.a=function BaseDialog(p){var b=p.titleId,y=p.open,S=p.handleClose,L=p.children,Q=p.loading,re=p.buttonLabelId,ie=p.bodyWrapped,le=ne(),se=Object(P.useCallback)((function(){Q||S()}),[Q,S]);return Object(X.jsxs)(T.a,{classes:{paper:le.dialog},scroll:"body",open:y,onClose:se,children:[Object(X.jsx)(z.a,{className:le.dialogTitle,disableTypography:!0,children:Object(X.jsx)(B.a,{variant:"subtitle1",color:"textPrimary",children:Object(X.jsx)(Z.a,{id:b})})}),ie?Object(X.jsx)(D.a,{className:le.dialogContent,children:Object(X.jsx)(N.a,{className:le.dialogPaper,elevation:0,children:L})}):Object(X.jsx)(D.a,{children:L}),Object(X.jsx)(q.a,{className:le.dialogActions,children:Object(X.jsx)(K.a,{labelId:re||"common.button.done",onClick:se,loading:!!Q})})]})}},428:function(p,b,y){"use strict";var S=y(1081),P=y(729),L=y(2515),T=y(65),z=y(289),B=y(43),D=Object(S.a)((function(p){return{root:{display:"flex",alignItems:"center",flex:1},title:{display:"flex",alignItems:"flex-end"},description:{"& strong":{fontWeight:500}},descriptionSelected:{"& strong":{color:p.palette.text.primary},"& span":{color:p.palette.primary.main}}}}));b.a=function ShareOptionLabel(p){var b=p.className,y=p.title,S=p.isDefault,N=p.description,q=p.iconComponent,Z=p.selected,K=p.size,Q=D(),X="small"===K;return Object(B.jsxs)(P.a,{className:Object(T.a)(b,Q.root),children:[q&&Object(B.jsx)(q,{state:Z?"selected":"",size:K}),Object(B.jsxs)(P.a,{ml:1.5,children:[Object(B.jsxs)("div",{className:Q.title,children:[Object(B.jsx)(L.a,{color:"textPrimary",variant:X?"body2":"body1",children:y}),!!S&&Object(B.jsx)(P.a,{ml:1,children:Object(B.jsx)(L.a,{color:"textSecondary",variant:"caption",children:Object(B.jsx)(z.a,{id:"common.shareDialog.default"})})})]}),Object(B.jsx)(L.a,{className:Object(T.a)(Z&&Q.descriptionSelected,Q.description),color:"textSecondary",variant:"body2",children:N})]})]})}},432:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconFileFolder(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"#2C3032",fillOpacity:.6,fillRule:"evenodd"},P.createElement("path",{d:"M7.642 5l1.666 1.667h7.359V15H3.333V5h4.309zm.691-1.667h-5c-.916 0-1.658.75-1.658 1.667l-.008 10c0 .917.75 1.667 1.666 1.667h13.334c.916 0 1.666-.75 1.666-1.667V6.667c0-.917-.75-1.667-1.666-1.667H10L8.333 3.333z"}))))}var T=P.forwardRef(SvgIconFileFolder);y.p},433:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationExpandMore(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{d:"M16.59 8.295L12 12.875 7.41 8.295 6 9.705 12 15.705 18 9.705z"}))))}var T=P.forwardRef(SvgIconNavigationExpandMore);y.p},434:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconContentAdd(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M19 13L13 13 13 19 11 19 11 13 5 13 5 11 11 11 11 5 13 5 13 11 19 11z",transform:"translate(-216.000000, -1970.000000) translate(168.202020, 1970.000000) translate(47.797980, 0.000000)"})))))))}var T=P.forwardRef(SvgIconContentAdd);y.p},440:function(p,b,y){"use strict";var S=y.p+"static/media/icon-navigation-arrow-right.5f402a1b.svg",P=y(1081),L=y(158),T=y(729),z=y(2515),B=y(289),D=y(43),N=Object(P.a)((function(p){return{list:{display:"flex",alignItems:"center",paddingLeft:p.spacing(.75),margin:0,"& li":{display:"flex",alignItems:"center",fontWeight:"normal"},"& li:not(:last-child):after":{content:'""',display:"inline-flex",backgroundImage:"url(".concat(S,")"),backgroundSize:p.spacing(3),height:p.spacing(3),width:p.spacing(3)}},where:{display:"flex",alignItems:"center"},provider:{height:p.spacing(4),width:p.spacing(4),borderRadius:p.spacing(.5),backgroundColor:Object(L.a)(p.palette.primary.main,.08),marginRight:p.spacing(1.5),"& svg":{height:p.spacing(4),width:p.spacing(4)}}}}));b.a=function DataExplorerConfirmationSummaryWhere(p){var b=p.icon,y=p.connectionName,S=p.project,P=p.folders,L=N();return Object(D.jsxs)(T.a,{display:"flex",alignItems:"center",children:[Object(D.jsx)("div",{className:L.provider,children:b}),Object(D.jsxs)(z.a,{variant:"caption",color:"textSecondary",component:"div",className:L.where,children:[Object(D.jsx)("span",{children:Object(D.jsx)(B.a,{id:"data-explorer.form.confirmation.where"})}),Object(D.jsxs)("ul",{className:L.list,children:[Object(D.jsx)("li",{children:y}),Object(D.jsx)("li",{children:S}),P.map((function(p,b){return Object(D.jsx)("li",{children:p},"".concat(p,"-").concat(b))}))]})]})]})}},500:function(p,b,y){"use strict";var S=y(47),P=y(54);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var L=P(y(41)),T=(0,S(y(140)).default)(L.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");b.default=T},501:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconAlertWarningDefault(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({width:18,height:18,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("path",{d:"m10 5.408 6.275 10.842H3.725L10 5.408zm0-3.325L.833 17.917h18.334L10 2.083zm.833 11.667H9.167v1.667h1.666V13.75zm0-5H9.167v3.333h1.666V8.75z",fillRule:"nonzero"})))}var T=P.forwardRef(SvgIconAlertWarningDefault);y.p},505:function(p,b,y){"use strict";y.d(b,"a",(function(){return pe}));var S=y(48),P=y(49),L=y(41),T=y(50),z=y(1081),B=y(2551),D=y(2556),N=y(2555),q=y(2592),Z=y(729),K=y(2554),Q=y(2519),X=y(194),ne=y(289),re=y(64),ie=y(127),le=y(172),se=y(111),de=y(43),ue=Object(z.a)((function(p){return{paper:{width:440},content:{paddingBottom:p.spacing(2)},input:{marginTop:p.spacing(1.5)},inputLabel:{color:p.palette.text.primary},textarea:{minHeight:p.spacing(9.5)}}})),pe=500;b.b=function MapEditDialog(p){var b,y=p.map,z=p.open,be=p.onClose,ge=ue(),fe=Object(le.b)(),he=fe.register,me=fe.handleSubmit,ve=Object(X.a)(),je=Object(T.a)(),ye=Object(T.b)((function(p){return p.maps.mapEditStatus})),Oe=Object(L.useState)(pe-((null===(b=y.description)||void 0===b?void 0:b.length)||0)),xe=Object(P.a)(Oe,2),_e=xe[0],we=xe[1],Ce=ye===re.b.Pending,Se=Object(L.useCallback)((function(p){be(p)}),[be]);return Object(L.useEffect)((function(){ye===re.b.Fulfilled&&Se(!0)}),[ye,Se]),Object(de.jsx)("div",{onClick:function onClick(p){return p.stopPropagation()},children:Object(de.jsxs)(B.a,{classes:{paper:ge.paper},open:z,onClose:Se,"aria-labelledby":"users-delete-form-dialog-title",children:[Object(de.jsx)(D.a,{id:"users-delete-form-dialog-title",children:Object(de.jsx)(ne.a,{id:"maps.edit.title"})}),Object(de.jsxs)("form",{onSubmit:me((function onSubmit(p){var b=Object(S.a)(Object(S.a)({},p),{},{id:y.id});je(Object(ie.g)(b)),je(Object(ie.A)({page:1}))})),children:[Object(de.jsxs)(N.a,{className:ge.content,children:[Object(de.jsx)(q.a,{inputRef:he({required:!0}),className:ge.input,name:"title",size:"small",inputProps:{"aria-label":"name"},defaultValue:y.title,placeholder:ve.formatMessage({id:"maps.edit.inputs.name"}),label:ve.formatMessage({id:"maps.edit.inputs.name"}),InputLabelProps:{classes:{root:ge.inputLabel}}}),Object(de.jsx)(Z.a,{mt:3,children:Object(de.jsx)(q.a,{inputRef:he({maxLength:pe}),className:ge.input,name:"description",size:"small",inputProps:{"aria-label":"description",className:ge.textarea},defaultValue:y.description,placeholder:ve.formatMessage({id:"maps.edit.inputs.description"}),label:ve.formatMessage({id:"maps.edit.inputs.description"}),rows:5,helperText:ve.formatMessage({id:"maps.edit.helpers.description"},{remainingCharacters:_e}),onChange:function updateNumberOfCharsAvailable(p){we(pe-p.target.value.length)},multiline:!0,InputLabelProps:{classes:{root:ge.inputLabel}},error:_e<0})})]}),Object(de.jsxs)(K.a,{children:[Object(de.jsx)(Q.a,{onClick:Se,color:"primary",children:Object(de.jsx)(ne.a,{id:"common.button.cancel"})}),Object(de.jsx)(se.a,{loading:Ce,type:"submit",labelId:"maps.edit.buttons.save",disabled:_e<0})]})]})]})})}},506:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconSocialPublicPrimary(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#036FE2"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z",transform:"translate(-1192.000000, -313.000000) translate(1186.000000, 307.000000) translate(6.000000, 6.000000)"})))))))}var T=P.forwardRef(SvgIconSocialPublicPrimary);y.p},507:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgAddCircle(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{id:"CARTO-\\xB7-Used-outlined-icons",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("g",{id:"Icons---Outlined",transform:"translate(-216.000000, -2356.000000)",fill:"#2C3032"},P.createElement("g",{id:"icon_layout-copy-112",transform:"translate(168.202020, 2356.000000)"},P.createElement("g",{id:"icon/navigation/expand_less_24px",transform:"translate(47.797980, 0.000000)"},P.createElement("path",{d:"M13,7 L11,7 L11,11 L7,11 L7,13 L11,13 L11,17 L13,17 L13,13 L17,13 L17,11 L13,11 L13,7 Z M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 Z",id:"icon/content/add_circle_outline_24px"})))))))}var T=P.forwardRef(SvgAddCircle);y.p},510:function(p,b,y){"use strict";var S=y(49),P=y(61),L=y(48),T=y(41),z=y(1081),B=y(2537),D=y(1395),N=y(2580),q=y(2623),Z=y(427),K=y(130),Q=y(273),X=y(282),ne=y(43),re=Object(z.a)((function(p){var b;return{snackbar:{width:"90%"},alert:{alignItems:"center",padding:p.spacing(0,1.25)},alertIcon:{fontSize:p.spacing(2.25),marginRight:p.spacing(.75)},alertMessage:Object(L.a)(Object(L.a)({fontWeight:500},p.typography.caption),{},{fontSize:p.spacing(1.375)}),alertAction:{marginRight:p.spacing(-.75),paddingLeft:p.spacing(.5)},dialogPaper:(b={position:"relative",padding:p.spacing(2)},Object(P.a)(b,K.a,{padding:p.spacing(3)}),Object(P.a)(b,"backgroundColor",p.palette.grey[50]),b)}}));b.a=function ShareDialogCommon(p){var b=p.open,y=p.shareOptions,P=p.value,z=p.running,K=p.onChange,ie=p.onClose,le=p.notificationAction,se=p.notificationContent,de=p.notificationSeverity,ue=p.children,pe=re(),be=Object(Q.a)(8e3),ge=Object(S.a)(be,2),fe=ge[0],he=ge[1],me=Object(T.useCallback)((function(p){var b=y.find((function(b){return b.value===p.target.value}));b&&K(b.value)}),[y,K]);return Object(T.useEffect)((function(){he(Boolean(se))}),[se,he]),Object(ne.jsxs)(Z.a,{titleId:"common.shareDialog.title",open:b,handleClose:ie,loading:z,children:[Object(ne.jsx)(B.a,{className:pe.dialogPaper,elevation:0,children:Object(ne.jsx)(D.a,{"aria-label":"share",name:"share",value:P,onChange:me,children:y.map((function(p){return Object(ne.jsx)(X.a,Object(L.a)(Object(L.a)({},p),{},{selected:P===p.value}),p.value)}))})}),ue,Object(ne.jsx)(N.a,{classes:{root:pe.snackbar},open:fe,onClose:function onClose(){he(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(ne.jsx)(q.a,{classes:{root:pe.alert,message:pe.alertMessage,icon:pe.alertIcon,action:pe.alertAction},action:le,severity:de,children:se})})]})}},514:function(p,b,y){"use strict";y.d(b,"a",(function(){return T}));var S,P=y(41),L=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionVisibility(p,b){var y=p.title,T=p.titleId,z=_objectWithoutProperties(p,L);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":T},z),y?P.createElement("title",{id:T},y):null,S||(S=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.03 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5zm0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5zm0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5z",transform:"translate(-472.000000, -1782.000000) translate(424.202020, 1782.000000) translate(47.797980, 0.000000)"})))))))}var T=P.forwardRef(SvgIconActionVisibility);y.p},519:function(p,b,y){"use strict";var S=y(41),P=y(50),L=y(177),T=y(421),z=y(89);b.a=function useImport(){var p=Object(P.a)(),b=Object(P.b)((function(p){var b;return null===(b=p.users.me)||void 0===b?void 0:b.user_metadata.account_id})),y=Object(T.e)(b||""),B=y.connection,D=y.destination,N=Object(P.b)((function(p){return Object(z.m)(p,{connection:B,provider:z.f.BIGQUERY})})),q=Object(P.b)((function(p){return p.jobsImporting.currentImportingJob}));return Object(S.useEffect)((function(){return function(){p(Object(L.h)(void 0))}}),[p]),{connection:N,destination:D,currentImportingJob:q}}},520:function(p,b,y){"use strict";var S=y(498),P=y(1081),L=y(729),T=y(2515),z=y(89),B=y(119),D=y(289),N=y(440),q=y(101),Z=y(43),K=Object(P.a)((function(p){return{card:{border:"1px solid ".concat(p.palette.divider),borderRadius:p.spacing(.5),backgroundColor:p.palette.common.white}}}));b.a=function ImportConfirmationSummary(p){var b=p.connection,y=p.destination,P=p.data,Q=K(),X=Object(B.a)(z.f.CARTO),ne=Object(B.a)(z.f.BIGQUERY),re=y.split("."),ie=Object(S.a)(re),le=ie[0],se=ie.slice(1),de=P.file instanceof File?P.file.name:P.file.toString();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(L.a,{mb:2,children:Object(Z.jsx)(T.a,{variant:"body2",color:"textSecondary",children:Object(Z.jsx)(D.a,{id:"data-explorer.import.confirmationDescription"})})}),Object(Z.jsxs)(L.a,{className:Q.card,p:2,children:[Object(Z.jsx)(T.a,{variant:"caption",color:"primary",children:Object(Z.jsx)(D.a,{id:"common.cards.table"})}),Object(Z.jsxs)(L.a,{mt:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:[Object(Z.jsx)(T.a,{variant:"h6",children:P.name}),Object(Z.jsx)(T.a,{variant:"caption",style:{fontWeight:"normal"},children:de})]}),Object(Z.jsx)(L.a,{mt:2,children:(null===b||void 0===b?void 0:b.carto_dw)?Object(Z.jsx)(N.a,{icon:X.icon,connectionName:q.a,project:"Organization data",folders:se}):Object(Z.jsx)(N.a,{icon:ne.icon,connectionName:(null===b||void 0===b?void 0:b.name)||"",project:le,folders:se})})]})]})}},521:function(p,b,y){"use strict";var S=y(49),P=y(41),L=y(50),T=y(64),z=y(133);b.a=function useImportDatasetFile(p){var b=p.connection,y=p.destination,B=p.form,D=p.onContinue,N=B.trigger,q=Object(P.useState)(),Z=Object(S.a)(q,2),K=Z[0],Q=Z[1],X=Object(L.a)(),ne=Object(L.b)((function(p){return p.dataExplorer.checkWritePermissionStatus})),re=ne===T.b.Pending,ie=Object(P.useState)(!1),le=Object(S.a)(ie,2),se=le[0],de=le[1],ue=Object(L.b)((function(p){return p.dataExplorer.checkWritePermissionError})),pe=Object(P.useCallback)((function(p){Q(p),N("fileName")}),[N]),be=Object(P.useCallback)((function(){de(!1),X(Object(z.v)(void 0))}),[X]),ge=Object(P.useCallback)((function(){var p=B.getValues(),b=p.name,y=p.url;K&&D(K,b),y&&D(new URL(y),b)}),[K,B,D]);return Object(P.useEffect)((function(){ne===T.b.Rejected&&"Already Exists"===(null===ue||void 0===ue?void 0:ue.error)&&de(!0),ne===T.b.Fulfilled&&ge()}),[ne,ue,ge]),Object(P.useEffect)((function(){return function(){X(Object(z.w)(T.b.Idle)),X(Object(z.v)(void 0))}}),[X]),{onFileChange:pe,onTableNameChange:be,handleContinue:function handleContinue(){if(se)ge();else{de(!1),X(Object(z.v)(void 0));var p=B.getValues().name;X(Object(z.d)({connection:(null===b||void 0===b?void 0:b.name)||"",path:"".concat(y,".").concat(p)}))}},isCheckingDatasetAlreadyExists:re,doesDatasetAlreadyExists:se,doesDatasetAlreadyExistsError:null===ue||void 0===ue?void 0:ue.error}}},522:function(p,b,y){var S,P,L,T,z,B,D,N,q,Z,K,Q=y(356);self,p.exports=(S=y(41),P=y(281),L=y(232),T=y(347),z=y(120),B=y(483),D=y(871),N=y(120),q=y(232),Z=y(44),K=y(95),function(){var p={162:function _(p,b,y){p.exports=y(47)},262:function _(p,b,y){"use strict";var S=y(586);function n(){}function a(){}a.resetWarningCache=n,p.exports=function(){function e(p,b,y,P,L,T){if(T!==S){var z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw z.name="Invariant Violation",z}}function t(){return e}e.isRequired=e;var p={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return p.PropTypes=p,p}},980:function _(p,b,y){p.exports=y(262)()},586:function _(p){"use strict";p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},47:function _(p){var b=function(p){"use strict";var b,y=Object.prototype,S=y.hasOwnProperty,P="function"==typeof Symbol?Symbol:{},L=P.iterator||"@@iterator",T=P.asyncIterator||"@@asyncIterator",z=P.toStringTag||"@@toStringTag";function u(p,b,y){return Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}),p[b]}try{u({},"")}catch(p){u=function u(p,b,y){return p[b]=y}}function s(p,b,y,S){var P=b&&b.prototype instanceof h?b:h,L=Object.create(P.prototype),T=new C(S||[]);return L._invoke=function(p,b,y){var S=B;return function(P,L){if(S===N)throw new Error("Generator is already running");if(S===q){if("throw"===P)throw L;return F()}for(y.method=P,y.arg=L;;){var T=y.delegate;if(T){var z=E(T,y);if(z){if(z===Z)continue;return z}}if("next"===y.method)y.sent=y._sent=y.arg;else if("throw"===y.method){if(S===B)throw S=q,y.arg;y.dispatchException(y.arg)}else"return"===y.method&&y.abrupt("return",y.arg);S=N;var K=l(p,b,y);if("normal"===K.type){if(S=y.done?q:D,K.arg===Z)continue;return{value:K.arg,done:y.done}}"throw"===K.type&&(S=q,y.method="throw",y.arg=K.arg)}}}(p,y,T),L}function l(p,b,y){try{return{type:"normal",arg:p.call(b,y)}}catch(p){return{type:"throw",arg:p}}}p.wrap=s;var B="suspendedStart",D="suspendedYield",N="executing",q="completed",Z={};function h(){}function g(){}function v(){}var K={};u(K,L,(function(){return this}));var Q=Object.getPrototypeOf,X=Q&&Q(Q(R([])));X&&X!==y&&S.call(X,L)&&(K=X);var ne=v.prototype=h.prototype=Object.create(K);function w(p){["next","throw","return"].forEach((function(b){u(p,b,(function(p){return this._invoke(b,p)}))}))}function x(p,b){function r(y,P,L,T){var z=l(p[y],p,P);if("throw"!==z.type){var B=z.arg,D=B.value;return D&&"object"==typeof D&&S.call(D,"__await")?b.resolve(D.__await).then((function(p){r("next",p,L,T)}),(function(p){r("throw",p,L,T)})):b.resolve(D).then((function(p){B.value=p,L(B)}),(function(p){return r("throw",p,L,T)}))}T(z.arg)}var y;this._invoke=function(p,S){function a(){return new b((function(b,y){r(p,S,b,y)}))}return y=y?y.then(a,a):a()}}function E(p,y){var S=p.iterator[y.method];if(S===b){if(y.delegate=null,"throw"===y.method){if(p.iterator.return&&(y.method="return",y.arg=b,E(p,y),"throw"===y.method))return Z;y.method="throw",y.arg=new TypeError("The iterator does not provide a 'throw' method")}return Z}var P=l(S,p.iterator,y.arg);if("throw"===P.type)return y.method="throw",y.arg=P.arg,y.delegate=null,Z;var L=P.arg;return L?L.done?(y[p.resultName]=L.value,y.next=p.nextLoc,"return"!==y.method&&(y.method="next",y.arg=b),y.delegate=null,Z):L:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,Z)}function O(p){var b={tryLoc:p[0]};1 in p&&(b.catchLoc=p[1]),2 in p&&(b.finallyLoc=p[2],b.afterLoc=p[3]),this.tryEntries.push(b)}function A(p){var b=p.completion||{};b.type="normal",delete b.arg,p.completion=b}function C(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(O,this),this.reset(!0)}function R(p){if(p){var y=p[L];if(y)return y.call(p);if("function"==typeof p.next)return p;if(!isNaN(p.length)){var P=-1,T=function r(){for(;++P<p.length;)if(S.call(p,P))return r.value=p[P],r.done=!1,r;return r.value=b,r.done=!0,r};return T.next=T}}return{next:F}}function F(){return{value:b,done:!0}}return g.prototype=v,u(ne,"constructor",v),u(v,"constructor",g),g.displayName=u(v,z,"GeneratorFunction"),p.isGeneratorFunction=function(p){var b="function"==typeof p&&p.constructor;return!!b&&(b===g||"GeneratorFunction"===(b.displayName||b.name))},p.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,v):(p.__proto__=v,u(p,z,"GeneratorFunction")),p.prototype=Object.create(ne),p},p.awrap=function(p){return{__await:p}},w(x.prototype),u(x.prototype,T,(function(){return this})),p.AsyncIterator=x,p.async=function(b,y,S,P,L){void 0===L&&(L=Promise);var T=new x(s(b,y,S,P),L);return p.isGeneratorFunction(y)?T:T.next().then((function(p){return p.done?p.value:T.next()}))},w(ne),u(ne,z,"Generator"),u(ne,L,(function(){return this})),u(ne,"toString",(function(){return"[object Generator]"})),p.keys=function(p){var b=[];for(var y in p)b.push(y);return b.reverse(),function r(){for(;b.length;){var y=b.pop();if(y in p)return r.value=y,r.done=!1,r}return r.done=!0,r}},p.values=R,C.prototype={constructor:C,reset:function reset(p){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(A),!p)for(var y in this)"t"===y.charAt(0)&&S.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=b)},stop:function stop(){this.done=!0;var p=this.tryEntries[0].completion;if("throw"===p.type)throw p.arg;return this.rval},dispatchException:function dispatchException(p){if(this.done)throw p;var y=this;function n(S,P){return T.type="throw",T.arg=p,y.next=S,P&&(y.method="next",y.arg=b),!!P}for(var P=this.tryEntries.length-1;P>=0;--P){var L=this.tryEntries[P],T=L.completion;if("root"===L.tryLoc)return n("end");if(L.tryLoc<=this.prev){var z=S.call(L,"catchLoc"),B=S.call(L,"finallyLoc");if(z&&B){if(this.prev<L.catchLoc)return n(L.catchLoc,!0);if(this.prev<L.finallyLoc)return n(L.finallyLoc)}else if(z){if(this.prev<L.catchLoc)return n(L.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return n(L.finallyLoc)}}}},abrupt:function abrupt(p,b){for(var y=this.tryEntries.length-1;y>=0;--y){var P=this.tryEntries[y];if(P.tryLoc<=this.prev&&S.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var L=P;break}}L&&("break"===p||"continue"===p)&&L.tryLoc<=b&&b<=L.finallyLoc&&(L=null);var T=L?L.completion:{};return T.type=p,T.arg=b,L?(this.method="next",this.next=L.finallyLoc,Z):this.complete(T)},complete:function complete(p,b){if("throw"===p.type)throw p.arg;return"break"===p.type||"continue"===p.type?this.next=p.arg:"return"===p.type?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):"normal"===p.type&&b&&(this.next=b),Z},finish:function finish(p){for(var b=this.tryEntries.length-1;b>=0;--b){var y=this.tryEntries[b];if(y.finallyLoc===p)return this.complete(y.completion,y.afterLoc),A(y),Z}},catch:function _catch(p){for(var b=this.tryEntries.length-1;b>=0;--b){var y=this.tryEntries[b];if(y.tryLoc===p){var S=y.completion;if("throw"===S.type){var P=S.arg;A(y)}return P}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(p,y,S){return this.delegate={iterator:R(p),resultName:y,nextLoc:S},"next"===this.method&&(this.arg=b),Z}},p}(p.exports);try{regeneratorRuntime=b}catch(p){"object"==typeof globalThis?globalThis.regeneratorRuntime=b:Function("r","regeneratorRuntime = r")(b)}},178:function _(p){"use strict";p.exports=D},485:function _(p){"use strict";p.exports=z},38:function _(p){"use strict";p.exports=N},347:function _(p){"use strict";p.exports=L},987:function _(p){"use strict";p.exports=q},214:function _(p){"use strict";p.exports=T},116:function _(p){"use strict";p.exports=B},670:function _(p){"use strict";p.exports=Z},793:function _(p){"use strict";p.exports=K},156:function _(p){"use strict";p.exports=S},756:function _(p){"use strict";p.exports=P}},b={};function d(y){var S=b[y];if(void 0!==S)return S.exports;var P=b[y]={exports:{}};return p[y](P,P.exports,d),P.exports}d.n=function(p){var b=p&&p.__esModule?function(){return p.default}:function(){return p};return d.d(b,{a:b}),b},d.d=function(p,b){for(var y in b)d.o(b,y)&&!d.o(p,y)&&Object.defineProperty(p,y,{enumerable:!0,get:b[y]})},d.o=function(p,b){return Object.prototype.hasOwnProperty.call(p,b)},d.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var y={};return function(){"use strict";function e(){return e=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},e.apply(this,arguments)}function t(p,b){(null==b||b>p.length)&&(b=p.length);for(var y=0,S=new Array(b);y<b;y++)S[y]=p[y];return S}function r(p,b){if(p){if("string"==typeof p)return t(p,b);var y=Object.prototype.toString.call(p).slice(8,-1);return"Object"===y&&p.constructor&&(y=p.constructor.name),"Map"===y||"Set"===y?Array.from(p):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?t(p,b):void 0}}function o(p,b){return function(p){if(Array.isArray(p))return p}(p)||function(p,b){var y=null==p?null:"undefined"!=typeof Symbol&&p[Symbol.iterator]||p["@@iterator"];if(null!=y){var S,P,L=[],T=!0,z=!1;try{for(y=y.call(p);!(T=(S=y.next()).done)&&(L.push(S.value),!b||L.length!==b);T=!0);}catch(p){z=!0,P=p}finally{try{T||null==y.return||y.return()}finally{if(z)throw P}}return L}}(p,b)||r(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}d.r(y),d.d(y,{CategoryWidget:function CategoryWidget(){return be},FormulaWidget:function FormulaWidget(){return ge},GeocoderWidget:function GeocoderWidget(){return ve},HistogramWidget:function HistogramWidget(){return ye},LegendWidget:function LegendWidget(){return ee},PieWidget:function PieWidget(){return xe},ScatterPlotWidget:function ScatterPlotWidget(){return we},TimeSeriesWidget:function TimeSeriesWidget(){return Se},geocodeStreetPoint:function geocodeStreetPoint(){return re},getCategories:function getCategories(){return X},getFormula:function getFormula(){return Z},getHistogram:function getHistogram(){return K},getScatter:function getScatter(){return ie},useSourceFilters:function useSourceFilters(){return j}});var p=d(156),b=d.n(p),S=d(756),P=d(980),L=d.n(P),T=d(347),z=d(214),B=d(485);function f(p,b,y,S,P,L,T){try{var z=p[L](T),B=z.value}catch(p){return void y(p)}z.done?b(B):Promise.resolve(B).then(S,P)}function m(p){return function(){var b=this,y=arguments;return new Promise((function(S,P){var L=p.apply(b,y);function i(p){f(L,S,P,i,c,"next",p)}function c(p){f(L,S,P,i,c,"throw",p)}i(void 0)}))}}var D=d(162),N=d.n(D),q=d(116),Z=function(){var p=m(N().mark((function e(p){var b,y,S,P;return N().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return b=p.operation,y=p.column,S=p.filters,P=p.dataSource,L.abrupt("return",(0,q.executeTask)(P,q.Methods.VIEWPORT_FEATURES_FORMULA,{filters:S,operation:b,column:y}));case 2:case"end":return L.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),K=function(){var p=m(N().mark((function e(p){var b,y,S,P,L;return N().wrap((function(T){for(;;)switch(T.prev=T.next){case 0:return b=p.column,y=p.operation,S=p.ticks,P=p.filters,L=p.dataSource,T.abrupt("return",(0,q.executeTask)(L,q.Methods.VIEWPORT_FEATURES_HISTOGRAM,{filters:P,operation:y,column:b,ticks:S}));case 2:case"end":return T.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),X=function(){var p=m(N().mark((function e(p){var b,y,S,P,L;return N().wrap((function(T){for(;;)switch(T.prev=T.next){case 0:return b=p.column,y=p.operationColumn,S=p.operation,P=p.filters,L=p.dataSource,T.abrupt("return",(0,q.executeTask)(L,q.Methods.VIEWPORT_FEATURES_CATEGORY,{filters:P,operation:S,column:b,operationColumn:y||b}));case 2:case"end":return T.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),ne=d(178),re=function(){var p=m(N().mark((function e(p,b){var y,S,P,L,T,z,B,D,q,Z,K,Q=arguments;return N().wrap((function(N){for(;;)switch(N.prev=N.next){case 0:if(y=b.searchText,S=b.city,P=b.state,L=b.country,T=Q.length>2&&void 0!==Q[2]?Q[2]:{},"default_public"!==p.apiKey){N.next=4;break}throw new Error("To search a location you need to login or provide an API KEY");case 4:return z="SELECT ST_AsGeoJSON(cdb_geocode_street_point('".concat(y,"', '").concat(null!=S?S:"","', '").concat(null!=P?P:"","', '").concat(null!=L?L:"","')) AS geometry"),N.next=7,(0,ne.executeSQL)({credentials:p,query:z,opts:T});case 7:if(B=N.sent,null!==(D=JSON.parse(B[0].geometry))){N.next=11;break}return N.abrupt("return",null);case 11:return q=o(D.coordinates,2),Z=q[0],K=q[1],N.abrupt("return",{longitude:Z,latitude:K});case 13:case"end":return N.stop()}}),e)})));return function(b,y){return p.apply(this,arguments)}}(),ie=function(){var p=m(N().mark((function e(p){var b,y,S,P;return N().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return b=p.xAxisColumn,y=p.yAxisColumn,S=p.filters,P=p.dataSource,L.abrupt("return",(0,q.executeTask)(P,q.Methods.VIEWPORT_FEATURES_SCATTERPLOT,{filters:S,xAxisColumn:b,yAxisColumn:y}));case 2:case"end":return L.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),le=function(){var p=m(N().mark((function e(p){var b,y,S,P,L,T;return N().wrap((function(z){for(;;)switch(z.prev=z.next){case 0:return b=p.filters,y=p.dataSource,S=p.column,P=p.operationColumn,L=p.operation,T=p.stepSize,z.abrupt("return",(0,q.executeTask)(y,q.Methods.VIEWPORT_FEATURES_TIME_SERIES,{filters:b,column:S,stepSize:T,operationColumn:P||S,operation:L}));case 2:case"end":return z.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),se=d(38),de=d(987),ue=Object.prototype.hasOwnProperty;function R(p,b,y){var S,P=Q(p.keys());try{for(P.s();!(S=P.n()).done;)if(F(y=S.value,b))return y}catch(L){P.e(L)}finally{P.f()}}function F(p,b){var y,S,P;if(p===b)return!0;if(p&&b&&(y=p.constructor)===b.constructor){if(y===Date)return p.getTime()===b.getTime();if(y===RegExp)return p.toString()===b.toString();if(y===Array){if((S=p.length)===b.length)for(;S--&&F(p[S],b[S]););return-1===S}if(y===Set){if(p.size!==b.size)return!1;var L,T=Q(p);try{for(T.s();!(L=T.n()).done;){if((P=S=L.value)&&"object"==typeof P&&!(P=R(b,P)))return!1;if(!b.has(P))return!1}}catch(D){T.e(D)}finally{T.f()}return!0}if(y===Map){if(p.size!==b.size)return!1;var z,B=Q(p);try{for(B.s();!(z=B.n()).done;){if((P=(S=z.value)[0])&&"object"==typeof P&&!(P=R(b,P)))return!1;if(!F(S[1],b.get(P)))return!1}}catch(D){B.e(D)}finally{B.f()}return!0}if(y===ArrayBuffer)p=new Uint8Array(p),b=new Uint8Array(b);else if(y===DataView){if((S=p.byteLength)===b.byteLength)for(;S--&&p.getInt8(S)===b.getInt8(S););return-1===S}if(ArrayBuffer.isView(p)){if((S=p.byteLength)===b.byteLength)for(;S--&&p[S]===b[S];);return-1===S}if(!y||"object"==typeof p){for(y in S=0,p){if(ue.call(p,y)&&++S&&!ue.call(b,y))return!1;if(!(y in b)||!F(p[y],b[y]))return!1}return Object.keys(b).length===S}}return p!=p&&b!=b}function j(b){var y,P,L=b.dataSource,T=b.id,z=(0,S.useSelector)((function(p){return(0,de.selectSourceById)(p,L)||{}})).filters;return y=(0,p.useMemo)((function(){return(0,se._getApplicableFilters)(z,T)}),[z,T]),F((P=(0,p.useRef)(y)).current,y)||(P.current=y),P.current}function I(b){var y=b.dataSource,P=b.id,L=b.column,T=b.type,z=(0,S.useSelector)((function(p){return(0,de.selectSourceById)(p,y)||{}})).filters;return(0,p.useMemo)((function(){var p,b=null==z||null===(p=z[L])||void 0===p?void 0:p[T];return b&&b.owner===P?b.values:null}),[z,L,T,P])}var pe=[];function _(y){var P=y.id,L=y.title,D=y.dataSource,N=y.column,q=y.operationColumn,Z=y.operation,K=y.formatter,Q=y.labels,ne=y.animation,re=y.onError,ie=y.wrapperProps,le=y.noDataAlertProps,se=(0,S.useDispatch)(),ue=(0,S.useSelector)((function(p){return(0,de.selectIsViewportFeaturesReadyForSource)(p,D)})),be=o((0,p.useState)([]),2),ge=be[0],fe=be[1],he=o((0,p.useState)(!0),2),me=he[0],ve=he[1],je=j({dataSource:D,id:P}),ye=I({dataSource:D,id:P,column:N,type:B._FilterTypes.IN})||pe;(0,p.useEffect)((function(){ve(!0),ue&&X({column:N,operationColumn:q,operation:Z,filters:je,dataSource:D}).then((function(p){p&&(ve(!1),fe(p))})).catch((function(p){ve(!1),re&&re(p)}))}),[P,N,q,Z,je,D,ve,re,ue]);var Oe=(0,p.useCallback)((function(p){p&&p.length?se((0,T.addFilter)({id:D,column:N,type:B._FilterTypes.IN,values:p,owner:P})):se((0,T.removeFilter)({id:D,column:N}))}),[N,D,P,se]);return b().createElement(z.WrapperWidgetUI,e({title:L,isLoading:me},ie),ge.length||me?b().createElement(z.CategoryWidgetUI,{data:ge,formatter:K,labels:Q,selectedCategories:ye,onSelectedCategoriesChange:Oe,animation:ne}):b().createElement(z.NoDataAlert,le))}_.propTypes={id:L().string.isRequired,title:L().string.isRequired,dataSource:L().string.isRequired,column:L().string.isRequired,operationColumn:L().string,operation:L().oneOf(Object.values(B.AggregationTypes)).isRequired,formatter:L().func,labels:L().object,animation:L().bool,onError:L().func,wrapperProps:L().object,noDataAlertProps:L().object},_.defaultProps={labels:{},animation:!0,wrapperProps:{},noDataAlertProps:{}};var be=_;function k(y){var P=y.id,L=y.title,B=y.dataSource,D=y.column,N=y.operation,q=y.formatter,K=y.animation,Q=y.onError,X=y.wrapperProps,ne=(0,S.useSelector)((function(p){return(0,T.selectIsViewportFeaturesReadyForSource)(p,B)})),re=j({dataSource:B,id:P}),ie=o((0,p.useState)(null),2),le=ie[0],se=ie[1],de=o((0,p.useState)(!0),2),ue=de[0],pe=de[1];return(0,p.useEffect)((function(){pe(!0),ne&&Z({operation:N,column:D,filters:re,dataSource:B}).then((function(p){p&&p[0]&&(pe(!1),se(p[0].value))})).catch((function(p){pe(!1),Q&&Q(p)}))}),[N,D,re,B,pe,Q,ne]),b().createElement(z.WrapperWidgetUI,e({title:L,isLoading:ue},X),b().createElement(z.FormulaWidgetUI,{data:le,formatter:q,unitBefore:!0,animation:K}))}k.propTypes={id:P.PropTypes.string.isRequired,title:P.PropTypes.string.isRequired,dataSource:P.PropTypes.string.isRequired,column:P.PropTypes.string.isRequired,operation:P.PropTypes.oneOf(Object.values(B.AggregationTypes)).isRequired,formatter:P.PropTypes.func,animation:P.PropTypes.bool,onError:P.PropTypes.func,wrapperProps:P.PropTypes.object},k.defaultProps={animation:!0,wrapperProps:{}};var ge=k;function W(p,b,y){return b in p?Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[b]=y,p}var fe=d(670);function U(p,b){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(p);b&&(S=S.filter((function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable}))),y.push.apply(y,S)}return y}function M(p){for(var b=1;b<arguments.length;b++){var y=null!=arguments[b]?arguments[b]:{};b%2?U(Object(y),!0).forEach((function(b){W(p,b,y[b])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):U(Object(y)).forEach((function(b){Object.defineProperty(p,b,Object.getOwnPropertyDescriptor(y,b))}))}return p}var he=(0,d(793).makeStyles)((function(p){return{paperInput:{height:p.spacing(4.5),width:p.spacing(30),paddingLeft:p.spacing(1.5),borderRadius:4,display:"flex",alignItems:"center"},icon:{fill:p.palette.text.secondary,height:"1em",fontSize:"".concat(p.typography.body2.lineHeight,"em")},clear:M({},p.typography.body2),input:M(M({},p.typography.body2),{},{width:"calc(100% - ".concat(p.spacing(5),"px)"),marginLeft:p.spacing(1)})}})),me=function G(p){return b().createElement(fe.SvgIcon,p,b().createElement("path",{d:"M11,4 C14.8659932,4 18,7.13400675 18,11 C18,12.7003211 17.3937669,14.2590489 16.3856562,15.4718279 L19.4748737,18.5606602 L18.0606602,19.9748737 L14.8998887,16.8138615 C13.7854137,17.5629194 12.4437497,18 11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 Z M11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 Z",fill:"inherit"}))};function V(y){var P=(0,p.useRef)(),L=(0,S.useSelector)(T.selectOAuthCredentials),z=(0,S.useSelector)((function(p){return p.carto.credentials})),B=L||z,D=o((0,p.useState)(""),2),q=D[0],Z=D[1],K=o((0,p.useState)(!1),2),Q=K[0],X=K[1],ne=(0,S.useDispatch)();(0,p.useEffect)((function(){ne((0,T.addLayer)({id:"geocoderLayer"}))}),[ne]);var ie=he(),le=function(){var p=m(N().mark((function e(p){return N().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:13===p.keyCode&&p.target.blur();case 1:case"end":return b.stop()}}),e)})));return function(b){return p.apply(this,arguments)}}(),se=function(){var p=m(N().mark((function e(){return N().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:q.length&&de();case 1:case"end":return p.stop()}}),e)})));return function(){return p.apply(this,arguments)}}(),de=function(){var p=m(N().mark((function e(){var p;return N().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:if(!B){b.next=15;break}return b.prev=1,X(!0),b.next=5,re(B,{searchText:q,country:""});case 5:(p=b.sent)&&(ue(p),pe(p)),b.next=12;break;case 9:b.prev=9,b.t0=b.catch(1),be(b.t0);case 12:return b.prev=12,X(!1),b.finish(12);case 15:case"end":return b.stop()}}),e,null,[[1,9,12,15]])})));return function(){return p.apply(this,arguments)}}(),ue=function x(p){ne((0,T.setViewState)({longitude:p.longitude,latitude:p.latitude,zoom:16,transitionDuration:500}))},pe=function E(p){ne({type:"carto/setGeocoderResult",payload:p})},be=function O(p){y.onError&&y.onError(p)};return b().createElement(fe.Paper,{className:"".concat(y.className," ").concat(ie.paperInput),elevation:2},Q?b().createElement(fe.CircularProgress,{size:20,className:ie.icon}):b().createElement(me,{className:ie.icon}),b().createElement(fe.InputBase,{type:"search",tabIndex:-1,inputRef:P,size:"small",placeholder:"Search address",className:ie.input,value:q,inputProps:{"aria-label":"GeocoderSearch"},onChange:function onChange(p){Z(p.target.value)},onInput:function onInput(p){""===p.target.value&&pe(null)},onKeyDown:le,onBlur:se}))}V.propTypes={className:P.PropTypes.string,onError:P.PropTypes.func},V.defaultProps={};var ve=V;function H(p){return function(p){if(Array.isArray(p))return t(p)}(p)||function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)}(p)||r(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(p){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Y(p)}var je=[];function J(y){var P=y.id,L=y.title,D=y.dataSource,N=y.column,q=y.operation,Z=y.ticks,Q=y.xAxisFormatter,X=y.dataAxis,ne=y.formatter,re=y.tooltip,ie=y.animation,le=y.onError,se=y.wrapperProps,ue=y.noDataAlertProps,pe=(0,S.useDispatch)(),be=o((0,p.useState)([]),2),ge=be[0],fe=be[1],he=o((0,p.useState)(!0),2),me=he[0],ve=he[1],ye=j({dataSource:D,id:P}),Oe=(0,S.useSelector)((function(p){return(0,de.selectIsViewportFeaturesReadyForSource)(p,D)})),xe=I({dataSource:D,id:P,column:N,type:B._FilterTypes.CLOSED_OPEN}),_e=(0,p.useMemo)((function(){return(xe||je).map((function(p){var b=o(p,2),y=b[0],S=b[1];if(null==y)return 0;if(null==S)return Z.length-1;var P=Z.indexOf(y);return-1!==P?P+1:null})).filter((function(p){return null!==p}))}),[xe,Z]),we=(0,p.useCallback)((function(p){var b=o(p,1)[0],y=ne?ne(b.value,b.dataIndex,Z):{prefix:"",value:b.value};return"object"===Y(y)?"".concat(y.prefix).concat(y.value):y}),[ne,Z]);(0,p.useEffect)((function(){ve(!0),Oe&&K({column:N,operation:q,ticks:Z,filters:ye,dataSource:D}).then((function(p){p&&(ve(!1),fe(p))})).catch((function(p){ve(!1),le&&le(p)}))}),[P,N,q,Z,D,ye,ve,le,Oe]);var Ce=(0,p.useCallback)((function(p){var b=p.bars;if(b&&b.length){var y=b.map((function(p){return[Z[p-1],Z.length!==p+1?Z[p]:void 0]}));pe((0,T.addFilter)({id:D,column:N,type:B._FilterTypes.CLOSED_OPEN,values:y,owner:P}))}else pe((0,T.removeFilter)({id:D,column:N}))}),[N,D,P,pe,Z]),Se=Z.reduce((function(p,b,y){return 0===p.length?["< ".concat(b)]:y===Z.length-1?[].concat(H(p),["< ".concat(b),">= ".concat(b)]):[].concat(H(p),["< ".concat(b)])}),[]);return b().createElement(z.WrapperWidgetUI,e({title:L},se,{isLoading:me}),ge.length||me?b().createElement(z.HistogramWidgetUI,{data:ge,dataAxis:X||Se,selectedBars:_e,onSelectedBarsChange:Ce,tooltip:re,tooltipFormatter:we,xAxisFormatter:Q,yAxisFormatter:ne,animation:ie}):b().createElement(z.NoDataAlert,ue))}J.propTypes={id:P.PropTypes.string.isRequired,title:P.PropTypes.string.isRequired,dataSource:P.PropTypes.string.isRequired,column:P.PropTypes.string.isRequired,operation:P.PropTypes.oneOf(Object.values(B.AggregationTypes)).isRequired,xAxisFormatter:P.PropTypes.func,formatter:P.PropTypes.func,tooltip:P.PropTypes.bool,animation:P.PropTypes.bool,ticks:P.PropTypes.array.isRequired,onError:P.PropTypes.func,wrapperProps:P.PropTypes.object,noDataAlertProps:P.PropTypes.object},J.defaultProps={tooltip:!0,animation:!0,wrapperProps:{},noDataAlertProps:{}};var ye=J,Oe=[];function $(y){var P=y.id,L=y.title,D=y.height,N=y.dataSource,q=y.column,Z=y.operationColumn,K=y.operation,Q=y.formatter,ne=y.tooltipFormatter,re=y.labels,ie=y.animation,le=y.colors,se=y.onError,ue=y.wrapperProps,pe=y.noDataAlertProps,be=(0,S.useDispatch)(),ge=o((0,p.useState)([]),2),fe=ge[0],he=ge[1],me=I({dataSource:N,id:P,column:q,type:B._FilterTypes.IN})||Oe,ve=o((0,p.useState)(!0),2),je=ve[0],ye=ve[1],xe=(0,S.useSelector)((function(p){return(0,de.selectIsViewportFeaturesReadyForSource)(p,N)})),_e=j({dataSource:N,id:P});(0,p.useEffect)((function(){ye(!0),xe&&X({column:q,operation:K,operationColumn:Z,filters:_e,dataSource:N}).then((function(p){p&&(ye(!1),he(p))})).catch((function(p){ye(!1),se&&se(p)}))}),[P,q,Z,K,_e,N,ye,se,xe]);var we=(0,p.useCallback)((function(p){p&&p.length?be((0,T.addFilter)({id:N,column:q,type:B._FilterTypes.IN,values:p,owner:P})):be((0,T.removeFilter)({id:N,column:q}))}),[q,N,P,be]);return b().createElement(z.WrapperWidgetUI,e({title:L,isLoading:je},ue),fe.length||je?b().createElement(z.PieWidgetUI,{data:fe,formatter:Q,height:D,tooltipFormatter:ne,colors:le,labels:re,animation:ie,selectedCategories:me,onSelectedCategoriesChange:we}):b().createElement(z.NoDataAlert,pe))}$.propTypes={id:L().string.isRequired,title:L().string.isRequired,height:L().number,dataSource:L().string.isRequired,column:L().string.isRequired,operationColumn:L().string,operation:L().oneOf(Object.values(B.AggregationTypes)).isRequired,formatter:L().func,tooltipFormatter:L().func,labels:L().object,animation:L().bool,onError:L().func,colors:L().arrayOf(L().string),wrapperProps:L().object,noDataAlertProps:L().object},$.defaultProps={animation:!0,wrapperProps:{},noDataAlertProps:{}};var xe=$;function ee(p){var y=p.className,P=(0,S.useDispatch)(),L=(0,S.useSelector)((function(p){return Object.values(p.carto.layers).filter((function(p){return!!p.legend}))}));return L.length?b().createElement(z.LegendWidgetUI,{className:y,layers:L,onChangeVisibility:function onChangeVisibility(p){var b=p.id,y=p.visible;P((0,de.updateLayer)({id:b,layerAttributes:{visible:y}}))}}):null}function te(y){var P=y.id,L=y.title,B=y.dataSource,D=y.xAxisColumn,N=y.yAxisColumn,q=y.animation,Z=y.yAxisFormatter,K=y.xAxisFormatter,Q=y.tooltipFormatter,X=y.onError,ne=y.wrapperProps,re=y.noDataAlertProps,le=o((0,p.useState)([]),2),se=le[0],de=le[1],ue=o((0,p.useState)(!0),2),pe=ue[0],be=ue[1],ge=(0,S.useSelector)((function(p){return(0,T.selectIsViewportFeaturesReadyForSource)(p,B)})),fe=j({dataSource:B,id:P});return(0,p.useEffect)((function(){be(!0),ge&&ie({xAxisColumn:D,yAxisColumn:N,filters:fe,dataSource:B}).then((function(p){p&&(be(!1),de(p))})).catch((function(p){be(!1),X&&X(p)}))}),[P,D,N,B,fe,be,ge,X]),b().createElement(z.WrapperWidgetUI,e({title:L,isLoading:pe},ne),se.length||pe?b().createElement(z.ScatterPlotWidgetUI,{data:se,tooltipFormatter:Q,xAxisFormatter:K,yAxisFormatter:Z,animation:q}):b().createElement(z.NoDataAlert,re))}te.propTypes={id:P.PropTypes.string.isRequired,title:P.PropTypes.string.isRequired,dataSource:P.PropTypes.string.isRequired,xAxisColumn:P.PropTypes.string.isRequired,yAxisColumn:P.PropTypes.string.isRequired,animation:P.PropTypes.bool,xAxisFormatter:P.PropTypes.func,yAxisFormatter:P.PropTypes.func,tooltipFormatter:P.PropTypes.func,onError:P.PropTypes.func,wrapperProps:P.PropTypes.object,noDataAlertProps:P.PropTypes.object},te.defaultProps={tooltip:!0,animation:!0,wrapperProps:{},noDataAlertProps:{},tooltipFormatter:function tooltipFormatter(p){return"[".concat(p.value[0],", ").concat(p.value[1],")")},xAxisFormatter:function xAxisFormatter(p){return p},yAxisFormatter:function yAxisFormatter(p){return p}};var _e,we=te,Ce=(W(_e={},B.GroupDateTypes.YEARS,31536e6),W(_e,B.GroupDateTypes.MONTHS,2592e6),W(_e,B.GroupDateTypes.WEEKS,6048e5),W(_e,B.GroupDateTypes.DAYS,864e5),_e);function ae(y){var P=y.id,L=y.title,D=y.dataSource,N=y.column,q=y.operationColumn,Z=y.operation,K=y.stepSizeOptions,Q=y.onError,X=y.wrapperProps,ne=y.noDataAlertProps,re=y.chartType,ie=y.tooltip,se=y.tooltipFormatter,de=y.formatter,ue=y.height,pe=y.showControls,be=y.animation,ge=y.isPlaying,he=y.onPlay,me=y.isPaused,ve=y.onPause,je=y.onStop,ye=y.onTimelineUpdate,Oe=y.timeWindow,xe=y.onTimeWindowUpdate,_e=y.stepSize,we=(0,S.useDispatch)(),Se=(0,S.useSelector)((function(p){return(0,T.selectIsViewportFeaturesReadyForSource)(p,D)})),Ee=j({dataSource:D,id:P}),ke=o((0,p.useState)([]),2),Pe=ke[0],Ie=ke[1],Le=o((0,p.useState)(_e),2),Me=Le[0],Te=Le[1],Re=o((0,p.useState)(!0),2),We=Re[0],ze=Re[1];(0,p.useEffect)((function(){_e!==Me&&Te(_e)}),[_e]),(0,p.useEffect)((function(){ze(!0),Se&&le({filters:Ee,dataSource:D,column:N,stepSize:Me,operationColumn:q,operation:Z}).then((function(p){p&&(ze(!1),Ie(p))})).catch((function(p){ze(!1),Q&&Q(p)}))}),[P,Ee,D,N,Me,Se,ze,q,Z,Q]);var Fe=(0,p.useCallback)((function(p){We||(we((0,T.addFilter)({id:D,column:N,type:B._FilterTypes.TIME,values:[p.map((function(p){var b;return(null===(b=p.getTime)||void 0===b?void 0:b.call(p))||p}))],owner:P})),xe&&xe(p))}),[N,D,We,we,P,xe]),Ae=(0,p.useCallback)((function(p){if(!We){var b=Pe[p].name;we((0,T.addFilter)({id:D,column:N,type:B._FilterTypes.TIME,values:[[b,b+Ce[Me]]],owner:P})),ye&&ye(new Date(b))}}),[N,D,We,we,P,ye,Me,Pe]),Be=(0,p.useCallback)((function(){we((0,T.removeFilter)({id:D,column:N})),je&&je()}),[N,D,we,je]),De=o((0,p.useState)(null),2),Ne=De[0],He=De[1],Ve=function oe(){He(null)};return b().createElement(b().Fragment,null,b().createElement(z.WrapperWidgetUI,e({title:L,isLoading:We},X,{actions:[].concat(H((null==X?void 0:X.actions)||[]),H(null!=K&&K.length?[{id:"a0",name:"Bucket size",icon:b().createElement(ce,null),action:function action(p){null!=p&&p.currentTarget&&He(p.currentTarget)}}]:[]))}),Pe.length||We?b().createElement(z.TimeSeriesWidgetUI,{data:Pe,stepSize:Me,chartType:re,tooltip:ie,tooltipFormatter:se,formatter:de,height:ue,showControls:pe,animation:be,isPlaying:ge,onPlay:he,isPaused:me,onPause:ve,onStop:Be,onTimelineUpdate:Ae,timeWindow:Oe,onTimeWindowUpdate:Fe}):b().createElement(z.NoDataAlert,ne)),b().createElement(fe.Menu,{anchorEl:Ne,keepMounted:!0,open:Boolean(Ne),onClose:Ve},b().createElement(fe.MenuItem,{disabled:!0},b().createElement(fe.Typography,{variant:"caption",color:"textSecondary"},"Step size")),K.map((function(p){return b().createElement(fe.MenuItem,{key:p,selected:Me===p,onClick:function onClick(){return function(p){Te(p),Ve()}(p)}},(0,fe.capitalize)(p))}))))}ae.propTypes={id:P.PropTypes.string.isRequired,title:P.PropTypes.string.isRequired,dataSource:P.PropTypes.string.isRequired,column:P.PropTypes.string.isRequired,operationColumn:P.PropTypes.string,operation:P.PropTypes.oneOf(Object.values(B.AggregationTypes)).isRequired,stepSizeOptions:P.PropTypes.arrayOf(P.PropTypes.oneOf(Object.values(B.GroupDateTypes))),onError:P.PropTypes.func,wrapperProps:P.PropTypes.object,noDataAlertProps:P.PropTypes.object,tooltip:P.PropTypes.bool,tooltipFormatter:P.PropTypes.func,formatter:P.PropTypes.func,height:P.PropTypes.string,animation:P.PropTypes.bool,isPlaying:P.PropTypes.bool,onPlay:P.PropTypes.func,isPaused:P.PropTypes.bool,onPause:P.PropTypes.func,onStop:P.PropTypes.func,onTimelineUpdate:P.PropTypes.func,timeWindow:P.PropTypes.arrayOf(P.PropTypes.any),onTimeWindowUpdate:P.PropTypes.func,showControls:P.PropTypes.bool,chartType:P.PropTypes.oneOf(Object.values(z.TIME_SERIES_CHART_TYPES)),stepSize:P.PropTypes.oneOf(Object.values(B.GroupDateTypes)).isRequired},ae.defaultProps={operation:B.AggregationTypes.COUNT,stepSizeOptions:[],wrapperProps:{},noDataAlertProps:{},tooltip:!0,formatter:function formatter(p){return p},animation:!0,isPlaying:!1,isPaused:!1,timeWindow:[],showControls:!0,chartType:z.TIME_SERIES_CHART_TYPES.LINE};var Se=ae;function ce(){return b().createElement(fe.SvgIcon,null,b().createElement("path",{d:"M19 14l.3 1.5c.32.12.614.278.883.475l.197.155 1.45-.49 1 1.73-1.14 1c.069.429.078.68.03 1.065l-.03.205 1.14 1-1 1.73-1.45-.49c-.256.216-.538.394-.845.533l-.235.097L19 24h-2l-.3-1.51c-.32-.12-.614-.278-.883-.475l-.197-.155-1.45.49-1-1.73 1.14-1c-.067-.417-.078-.667-.033-1.028l.033-.232-1.14-1 1-1.73 1.45.49c.256-.216.538-.394.845-.533l.235-.097L17 14h2zM8 2v2h8V2h2v2h1c1.05 0 1.918.82 1.994 1.851L21 6v6h-2v-2H5v10h6v2H5c-1.06 0-1.919-.82-1.995-1.851L3 20l.01-14c0-1.05.802-1.918 1.84-1.994L5 4h1V2h2zm10 15c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm1-11H5v2h14V6z",id:"-\u21b3Color",fill:"inherit"}))}}(),y}())},526:function(p,b,y){"use strict";var S=y(49),P=y(61),L=y(41),T=y(1081),z=y(2540),B=y(2589),D=y(729),N=y(152),q=y(1386),Z=y(97),K=y(500),Q=y.n(K),X=y(43),ne=Object(T.a)((function(p){return{root:{padding:p.spacing(1.5),borderRadius:0,borderRightStyle:"solid",borderRightWidth:1,borderRightColor:Object(Z.alpha)(p.palette.common.white,.25)}}}));var re=function MenuButton(p){var b=p.handleDrawerVisibility,y=ne(),S=Object(N.a)();return Object(X.jsx)(q.a,{"aria-label":"open drawer",size:"medium",onClick:b,className:y.root,children:Object(X.jsx)(Q.a,{htmlColor:S.palette.common.white})})},ie=y(48),le=y(289),se=y(2542),de=y(2534),ue=y(2579),pe=y(2566),be=y(2537),ge=y(2549),fe=y(2515);var he,me,ve=function useOpenCloseHandler(){var p=Object(L.useState)(!1),b=Object(S.a)(p,2),y=b[0],P=b[1];return{open:y,handleOpen:function handleOpen(){P((function(p){return!p}))},handleClose:function handleClose(){P(!1)}}},je=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconSocialNotifications(p,b){var y=p.title,S=p.titleId,P=_objectWithoutProperties(p,je);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,he||(he=L.createElement("defs",null)),me||(me=L.createElement("path",{fill:"#FFFFFF",fillRule:"evenodd",d:"M12 21.75c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32v-.68c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.11 6 7.67 6 10.75v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})))}var ye,Oe=L.forwardRef(SvgIconSocialNotifications),xe=(y.p,["title","titleId"]);function icon_social_notifications_off_extends(){return icon_social_notifications_off_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_social_notifications_off_extends.apply(this,arguments)}function icon_social_notifications_off_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_social_notifications_off_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconSocialNotificationsOff(p,b){var y=p.title,S=p.titleId,P=icon_social_notifications_off_objectWithoutProperties(p,xe);return L.createElement("svg",icon_social_notifications_off_extends({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ye||(ye=L.createElement("g",{fill:"none",fillOpacity:.25,fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M22.61 43.5c2.2 0 4-1.8 4-4h-8c0 2.2 1.8 4 4 4zm0-31c4.98 0 8 4.04 8 9v.2l4 4v-4.2c0-6.14-3.26-11.28-9-12.64V7.5c0-1.66-1.34-3-3-3s-3 1.34-3 3v1.36c-.48.12-.94.3-1.38.46l3.28 3.28c.36-.04.72-.1 1.1-.1zM9.43 6.2L6.61 9.02l5.62 5.62c-1.04 2-1.62 4.34-1.62 6.86v10l-4 4v2h28.48l3.48 3.48 2.82-2.82L9.43 6.2zm21.18 27.3h-16v-12c0-1.36.24-2.64.68-3.8l15.32 15.32v.48z",transform:"translate(-924 -664) translate(826 640) translate(98 24)"})))))))}var _e=L.forwardRef(SvgIconSocialNotificationsOff),we=(y.p,Object(T.a)((function(p){return{popper:{marginTop:p.spacing(1.5),marginRight:p.spacing(-7.5)},paper:{overflow:"hidden",padding:p.spacing(3),textAlign:"center"},openedIconBgColor:{backgroundColor:p.palette.action.selected},notAvailableIcon:{fontSize:p.typography.pxToRem(48)}}})));var Ce,Se=function Notifications(){var p=we(),b=ve(),y=b.open,S=b.handleOpen,P=b.handleClose,T=Object(L.useRef)();return Object(X.jsxs)("div",{ref:T,children:[Object(X.jsx)(q.a,{onClick:S,className:"".concat(y?p.openedIconBgColor:""),children:Object(X.jsx)(se.a,{color:"secondary",variant:"dot",invisible:!0,children:Object(X.jsx)(de.a,{component:Oe})})}),Object(X.jsx)(ue.a,{className:p.popper,open:y,role:void 0,placement:"bottom-end",transition:!0,anchorEl:T.current,modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}},children:function children(b){var y=b.TransitionProps;return Object(X.jsx)(pe.a,Object(ie.a)(Object(ie.a)({},y),{},{style:{transformOrigin:"right top"},children:Object(X.jsx)(be.a,{classes:{root:p.paper},elevation:8,children:Object(X.jsx)(ge.a,{onClickAway:P,children:Object(X.jsxs)("div",{children:[Object(X.jsx)(D.a,{mb:2,children:Object(X.jsx)(de.a,{viewBox:"0 0 48 48",component:_e,className:p.notAvailableIcon})}),Object(X.jsx)(fe.a,{variant:"body2",color:"textPrimary",children:Object(X.jsx)(le.a,{id:"common.utils.notifications.notAvailable.title"})}),Object(X.jsx)(fe.a,{variant:"caption",color:"textSecondary",children:Object(X.jsx)(le.a,{id:"common.utils.notifications.notAvailable.content"})})]})})})}))}})]})},Ee=y(50),ke=y(291),Pe=y(2593),Ie=y(2557),Le=y(2578),Me=y(2573),Te=y(423),Re=["title","titleId"];function icon_action_logout_extends(){return icon_action_logout_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_logout_extends.apply(this,arguments)}function icon_action_logout_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_logout_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionLogout(p,b){var y=p.title,S=p.titleId,P=icon_action_logout_objectWithoutProperties(p,Re);return L.createElement("svg",icon_action_logout_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,Ce||(Ce=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#C1300B",fillRule:"nonzero"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z",transform:"translate(-842 -456) translate(826 441) translate(0 9) translate(16 6)"}))))))))}var We=L.forwardRef(SvgIconActionLogout),ze=(y.p,y(424)),Fe=y(150),Ae=y(9),Be=Object(T.a)((function(p){return{popper:{marginTop:p.spacing(1.5),marginRight:p.spacing(-1),maxWidth:p.spacing(40),minWidth:p.spacing(30)},paper:{overflow:"hidden"},email:{marginBottom:p.spacing(.5)},menuItem:{paddingTop:p.spacing(1.75),paddingBottom:p.spacing(1.75),width:"100%"},menuItemIcon:{marginLeft:p.spacing(.25),minWidth:p.spacing(5)},withEllipsis:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},iconRoot:{width:p.spacing(4.5),height:p.spacing(4.5),borderRadius:"50%",backgroundColor:Object(Z.alpha)(p.palette.secondary.main,.12),display:"flex",alignItems:"center",justifyContent:"center",marginRight:p.spacing(1.25),"& path":{fillOpacity:1,fill:p.palette.secondary.dark}},accountName:{fontWeight:600}}}));var De=function UserInfo(){var p=Be(),b=Object(Ee.b)((function(p){return p.users.me})),y=Object(Fe.c)(b),S=ve(),P=S.open,T=S.handleOpen,z=S.handleClose,B=Object(L.useRef)(),N=Object(ke.b)().logout;function handleLogout(){N({returnTo:Ae.a.accountsUrl})}return Object(X.jsxs)("div",{ref:B,children:[Object(X.jsx)(Te.a,Object(ie.a)(Object(ie.a)({},y),{},{onClick:T})),Object(X.jsx)(ue.a,{className:p.popper,open:P,role:void 0,placement:"bottom-end",transition:!0,anchorEl:B.current,modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}},children:function children(y){var S,P,L=y.TransitionProps;return Object(X.jsx)(pe.a,Object(ie.a)(Object(ie.a)({},L),{},{style:{transformOrigin:"right top"},children:Object(X.jsx)(be.a,{classes:{root:p.paper},elevation:8,children:Object(X.jsx)(ge.a,{onClickAway:z,children:Object(X.jsxs)("div",{children:[Object(X.jsxs)(D.a,{px:1.25,pt:1.25,display:"flex",alignItems:"center",children:[Object(X.jsx)("div",{className:p.iconRoot,children:Object(X.jsx)(ze.a,{})}),Object(X.jsx)(Pe.a,{placement:"top",title:Object(X.jsx)(le.a,{id:"common.logout.account"}),arrow:!0,children:Object(X.jsx)(fe.a,{className:[p.accountName,p.withEllipsis].join(" "),variant:"body2",color:"textPrimary",children:(null===b||void 0===b||null===(S=b.user_metadata)||void 0===S?void 0:S.account_name)||"-"})})]}),Object(X.jsxs)(D.a,{p:2,children:[Object(X.jsx)(fe.a,{variant:"body2",color:"textPrimary",className:[p.email,p.withEllipsis].join(" "),children:(null===b||void 0===b?void 0:b.email)||(null===b||void 0===b?void 0:b.name)||"\u2014"}),Object(X.jsx)(fe.a,{variant:"caption",color:"textSecondary",children:b&&Fe.b[null===b||void 0===b||null===(P=b.app_metadata)||void 0===P?void 0:P.roles[0]]||"\u2014"})]}),Object(X.jsx)(Ie.a,{}),Object(X.jsxs)(Le.a,{component:"button",onClick:handleLogout,classes:{root:p.menuItem},children:[Object(X.jsx)(Me.a,{classes:{root:p.menuItemIcon},children:Object(X.jsx)(We,{fontSize:"small"})}),Object(X.jsx)(fe.a,{variant:"body2",color:"error",children:Object(X.jsx)(le.a,{id:"common.logout.logoutButton"})})]})]})})})}))}})]})},Ne=y(628);Object(Ne.a)()((function BreakpointsDebug(p){var b=p.width;return Object(X.jsx)(D.a,{ml:1,children:Object(X.jsxs)(fe.a,{color:"secondary",variant:"subtitle1",children:["[",b,"]"]})})}));var He=y(1405),Ve=Object(T.a)((function(p){return{icon:{color:p.palette.common.white,"&.open":{backgroundColor:"rgba(255, 255, 255, 0.12)"}},popper:{marginTop:p.spacing(1.5),marginRight:p.spacing(-1),maxWidth:p.spacing(40),minWidth:p.spacing(30)},paper:{overflow:"hidden",width:p.spacing(40)}}}));var Ue=function HeaderPopper(p){var b=p.icon,y=p.children,S=p.open,P=p.handleOpen,T=p.handleClose,z=Ve(),B=Object(L.useRef)();return Object(X.jsx)(ge.a,{onClickAway:T,children:Object(X.jsxs)("div",{ref:B,children:[Object(X.jsx)(q.a,{className:[z.icon,S?"open":null].join(" "),onClick:P,children:b}),Object(X.jsx)(ue.a,{className:z.popper,open:S,role:void 0,placement:"bottom-end",transition:!0,anchorEl:B.current,modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}},children:function children(p){var b=p.TransitionProps;return Object(X.jsx)(pe.a,Object(ie.a)(Object(ie.a)({},b),{},{style:{transformOrigin:"right top"},children:Object(X.jsx)(be.a,{classes:{root:z.paper},elevation:8,children:y})}))}})]})})},Ge=y(107),qe=y(64),Je=y(177);var Ze=function useImportingJobs(){var p=Object(Ee.a)(),b=Object(Ee.b)((function(p){return p.users.me})),y=Object(Ee.b)((function(p){return p.jobsImporting.importingJobsStatusRequest})),S=Object(Ee.b)((function(p){return p.jobsImporting.importingJobs})),P=Object(Ee.b)(Je.e),T=Object(Ee.b)(Je.b);return Object(L.useEffect)((function(){if(y===qe.b.Idle){var S=new Date,P=new Date(S.setDate(S.getDate()-1)).toString();p(Object(Je.f)({owner:null===b||void 0===b?void 0:b.user_id,createdSince:P,status:"pending,running,success,failure"}))}}),[y,b,p]),{importingJobs:S,importingJobsNotCleared:P,clearJobs:function clearJobs(){p(Object(Je.j)())},areAnyImportingJobsPending:T}},$e=y(284),Ye=y(2519),Ke=y(2548);var Qe=function JobsTabsItem(p){var b=p.children,y=p.hasJobs,S=p.areJobsRunning,P=p.clearJobs,L=Object(N.a)();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(D.a,{maxHeight:L.spacing(40),overflow:"auto",role:"list",children:b}),Object(X.jsx)(D.a,{p:1,children:y?Object(X.jsx)(Ye.a,{color:"primary","aria-label":"clear",onClick:P,children:"Clear"}):S?!y&&Object(X.jsx)(D.a,{display:"flex",justifyContent:"center",alignItems:"center",mb:3,mt:3,children:Object(X.jsx)(Ke.a,{size:24})}):Object(X.jsx)(fe.a,{variant:"subtitle2",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.nojobs"})})})]})};var Xe=function JobsImportingTab(){var p=Ze(),b=p.importingJobsNotCleared,y=p.clearJobs,S=p.areAnyImportingJobsPending,P=b.length>0;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Qe,{hasJobs:P,areJobsRunning:S,clearJobs:y,children:Object(X.jsx)(X.Fragment,{children:b.map((function(p){return Object(X.jsxs)("div",{children:[Object(X.jsx)(D.a,{p:2,children:Object(X.jsx)($e.a,{job:p})}),Object(X.jsx)(Ie.a,{})]},p.jobId)}))})})})},et=y(194),tt=y(114),nt=y(254),rt=y(2551),ot=y(2556),at=y(2555),it=y(2554),lt=y(639),ct=y(350);var st=function useProcessingJobs(){var p=Object(Ee.a)(),b=Object(Ee.b)((function(p){return p.users.me})),y=Object(Ee.b)((function(p){return p.jobs.processingJobsStatus})),P=Object(Ee.b)((function(p){return p.jobs.processingJobs})),T=Object(Ee.b)(ct.c),z=Object(L.useState)([]),B=Object(S.a)(z,2),D=B[0],N=B[1],q=Object(L.useCallback)((function(){var p=P.filter(lt.b);N(p)}),[P]);return Object(L.useEffect)((function(){var S=new Date,P=new Date(S.setDate(S.getDate()-1)).toString();y===qe.b.Idle&&p(Object(ct.i)({owner:null===b||void 0===b?void 0:b.user_id,createdSince:P}))}),[y,b,p]),Object(L.useEffect)((function(){q()}),[q,P,p]),{processingJobs:P,processingJobsNotCleared:D,clearJobs:function clearJobs(){var b=D.filter((function(p){return p.status&&[Ge.d.Failure,Ge.d.Success].includes(p.status.status)}));p(Object(ct.e)(b))},cancelJob:function cancelJob(b){b.connection&&p(Object(ct.h)({job:b}))},areAnyProcessingJobsRunning:T}},dt=Object(T.a)((function(p){return{question:{fontWeight:300,marginBottom:p.spacing(1)},jobName:{fontWeight:"normal"},cancelBtn:{color:p.palette.error.main}}}));var ut=function JobItemProcessCancelDialog(p){var b,y,S=p.job,P=p.open,L=p.onClose,T=dt(),z=st().cancelJob;return Object(X.jsxs)(rt.a,{open:P,onClose:L,"aria-labelledby":"job-cancel-dialog-title",children:[Object(X.jsx)(ot.a,{id:"job-cancel-dialog-title",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.cancel.title"})}),Object(X.jsx)(at.a,{children:Object(X.jsxs)(D.a,{display:"flex",flexDirection:"column",children:[Object(X.jsx)(fe.a,{variant:"caption",color:"textSecondary",className:T.question,children:Object(X.jsx)(le.a,{id:"jobs.tilesets.cancel.question"})}),Object(X.jsx)(fe.a,{variant:"caption",className:T.jobName,children:(null===S||void 0===S||null===(b=S.response)||void 0===b||null===(y=b.metadata)||void 0===y?void 0:y.name)||Object(X.jsx)(le.a,{id:"jobs.customQuery"})})]})}),Object(X.jsxs)(it.a,{children:[Object(X.jsx)(Ye.a,{onClick:L,color:"primary",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.cancel.continue"})}),Object(X.jsx)(Ye.a,{onClick:function cancelAndClose(){z(S),L()},className:T.cancelBtn,children:Object(X.jsx)(le.a,{id:"jobs.tilesets.cancel.confirm"})})]})]})},pt=y(2512),bt=y(2623),gt=Object(T.a)((function(p){return{errorMessage:{fontWeight:"normal",maxWidth:p.spacing(69),overflowY:"auto",color:p.palette.error.relatedDark},errorIntro:{fontWeight:"normal",fontSize:p.spacing(1.5)},errorInfo:{color:p.palette.common.black}}}));var ft=function JobItemProcessErrorDialog(p){var b,y,S=p.job,P=p.open,L=p.onClose,T=gt();return Object(X.jsxs)(rt.a,{open:P,onClose:L,"aria-labelledby":"job-error-dialog-title",children:[Object(X.jsx)(ot.a,{id:"job-error-dialog-title",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.error.title"})}),Object(X.jsxs)(at.a,{children:[Object(X.jsx)(D.a,{mb:1,children:Object(X.jsx)(fe.a,{className:T.errorIntro,color:"textSecondary",children:function accessDeniedError(){var p,b,y,P,L;return!!(S.dryRun&&"Access Denied"===(null===(p=S.dryRun)||void 0===p?void 0:p.error)||(null===(b=S.status)||void 0===b?void 0:b.error)&&(null===(y=S.status)||void 0===y||null===(P=y.error)||void 0===P||null===(L=P.msg)||void 0===L?void 0:L.indexOf("Access Denied"))>-1)}()?Object(X.jsx)(le.a,{id:"jobs.tilesets.error.access",values:{documentationLink:Object(X.jsx)("a",{href:"https://docs.carto.com/carto-user-manual/connections/creating-a-connection/#connection-to-bigquery",target:"_blank",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.error.documentationLink"})})}}):Object(X.jsx)(le.a,{id:"jobs.tilesets.error.general"})})}),Object(X.jsx)(fe.a,{variant:"caption",className:T.errorInfo,children:Object(X.jsx)(le.a,{id:"jobs.tilesets.error.info"})}),Object(X.jsx)(bt.a,{severity:"error",className:T.errorMessage,children:Object(X.jsx)(fe.a,{variant:"caption",children:null===(b=S.status)||void 0===b||null===(y=b.error)||void 0===y?void 0:y.msg})})]}),Object(X.jsx)(it.a,{children:Object(X.jsx)(pt.a,{container:!0,direction:"column",alignItems:"flex-end",children:Object(X.jsx)(pt.a,{item:!0,children:Object(X.jsx)(Ye.a,{onClick:L,color:"primary",children:Object(X.jsx)(le.a,{id:"common.button.done"})})})})})]})},ht=Object(T.a)((function(p){return{queryWrapper:{fontWeight:"normal",maxWidth:p.spacing(69),overflowY:"auto",color:p.palette.error.relatedDark}}}));var mt=function JobItemProcessSQLQueryDialog(p){var b,y=p.job,S=p.open,P=p.onClose,L=ht();return Object(X.jsxs)(rt.a,{open:S,onClose:P,"aria-labelledby":"job-sql-dialog-title",children:[Object(X.jsx)(ot.a,{id:"job-sql-dialog-title",children:Object(X.jsx)(le.a,{id:"jobs.customQuery"})}),Object(X.jsxs)(at.a,{children:[Object(X.jsx)(fe.a,{variant:"caption",color:"textSecondary",children:Object(X.jsx)(le.a,{id:"jobs.tilesets.query"})}),Object(X.jsx)(bt.a,{severity:"success",className:L.queryWrapper,children:Object(X.jsx)(fe.a,{variant:"caption",children:null===(b=y.status)||void 0===b?void 0:b.query})})]}),Object(X.jsx)(it.a,{children:Object(X.jsx)(pt.a,{container:!0,direction:"column",alignItems:"flex-end",children:Object(X.jsx)(pt.a,{item:!0,children:Object(X.jsx)(Ye.a,{onClick:P,color:"primary",children:Object(X.jsx)(le.a,{id:"common.button.done"})})})})})]})};var vt=function JobProcessingItem(p){var b,y,P,T=p.job,z=Object(et.a)(),B=Object(tt.g)(),D=null===T||void 0===T||null===(b=T.response)||void 0===b?void 0:b.metadata.customQuery,N=Object(L.useState)(!1),q=Object(S.a)(N,2),Z=q[0],K=q[1],Q=Object(L.useState)(!1),ne=Object(S.a)(Q,2),re=ne[0],ie=ne[1],le=Object(L.useState)(!1),se=Object(S.a)(le,2),de=se[0],ue=se[1],pe=function getJobStatus(){var p,b=null===(p=T.status)||void 0===p?void 0:p.status;return b!==Ge.d.Running&&b?b===Ge.d.Failure?Ge.d.Failure:b===Ge.d.Success?Ge.d.Success:void 0:Ge.d.Running}();return Object(X.jsxs)(X.Fragment,{children:[pe&&Object(X.jsx)(nt.a,{status:pe,name:(null===T||void 0===T||null===(y=T.response)||void 0===y||null===(P=y.metadata)||void 0===P?void 0:P.name)||z.formatMessage({id:"jobs.customQuery"}),successMessage:z.formatMessage({id:"jobs.tilesets.status.success"}),errorMessage:z.formatMessage({id:"jobs.tilesets.status.failure"}),runningMessage:z.formatMessage({id:"jobs.tilesets.status.running"}),tooltipSuccessMessage:z.formatMessage({id:"jobs.tilesets.tooltip.success"}),tooltipErrorMessage:z.formatMessage({id:"jobs.tooltip.error"}),tooltipRunningMessage:z.formatMessage({id:"jobs.tooltip.running"}),onClick:function handleClick(){pe===Ge.d.Success?D?ie(!0):B("/data/explorer/".concat(T.response.metadata.connection,"/").concat(T.response.metadata.name)):pe===Ge.d.Failure?K(!0):pe===Ge.d.Running&&ue(!0)}}),Object(X.jsx)(ft,{job:T,open:Z,onClose:function handleCloseDialog(){K(!1)}}),Object(X.jsx)(mt,{job:T,open:re,onClose:function handleCloseSQLDialog(){ie(!1)}}),Object(X.jsx)(ut,{job:T,open:de,onClose:function handleCloseCancelDialog(){ue(!1)}})]})};var jt=function JobsProcessingTab(){var p=st(),b=p.processingJobsNotCleared,y=p.clearJobs,S=p.areAnyProcessingJobsRunning,P=b.length>0;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(Qe,{hasJobs:P,areJobsRunning:S,clearJobs:y,children:Object(X.jsx)(X.Fragment,{children:b.map((function(p){return Object(X.jsxs)("div",{children:[Object(X.jsx)(D.a,{p:2,children:Object(X.jsx)(vt,{job:p})}),Object(X.jsx)(Ie.a,{})]},p.jobId)}))})})})};var yt=function JobsTabs(p){var b=p.selectedTab;return Object(X.jsx)(X.Fragment,{children:0===b?Object(X.jsx)(jt,{}):1===b?Object(X.jsx)(fe.a,{variant:"subtitle1",children:Object(X.jsx)(Xe,{})}):Object(X.jsx)(fe.a,{variant:"subtitle1",children:Object(X.jsx)(le.a,{id:"jobs.tabs.na"})})})},Ot=y(1406),xt=y(1410),_t=y(2621),wt=y(2583),Ct=Object(T.a)((function(p){return{processing:{marginRight:p.spacing(9)},imports:{marginRight:0}}}));var St=function JobsTabsHeader(p){var b=p.selectedTab,y=p.onTabChange,S=Ct(),P=st().processingJobsNotCleared,L=Ze().importingJobsNotCleared;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(D.a,{pl:3,children:Object(X.jsx)(pe.a,{in:!0,children:Object(X.jsxs)(_t.a,{centered:!0,value:b,onChange:function onChange(p,b){return y(b)},children:[Object(X.jsx)(wt.a,{disabled:!P.length,className:S.processing,label:"Processing"}),Object(X.jsx)(wt.a,{disabled:!L.length,className:S.imports,label:"Imports"})]})})}),Object(X.jsx)(Ie.a,{})]})},Et=Object(T.a)((function(){return{jobsIcon:{"&.loading":{animation:"$spin 1000ms linear infinite"}},"@keyframes spin":{"0%":{transform:"rotate(360deg)"},"100%":{transform:"rotate(0deg)"}}}}));var kt=function JobsPopper(p){var b=p.loading,y=p.lastJobStatus,P=Et(),T=Object(L.useState)(0),z=Object(S.a)(T,2),B=z[0],D=z[1],N=ve(),q=N.open,Z=N.handleOpen,K=N.handleClose,Q=st().processingJobsNotCleared,ne=Ze().importingJobsNotCleared,re=Object(Ee.b)((function(p){return p.jobs.createProcessingJobStatus})),ie=Object(Ee.b)((function(p){return p.jobsImporting.currentImportingJob})),le=Object(L.useMemo)((function(){return y===Ge.d.Success?Object(X.jsx)(Ot.a,{"data-testid":"success",className:[P.jobsIcon,q?"open":null].join(" ")}):y===Ge.d.Failure?Object(X.jsx)(xt.a,{"data-testid":"failure",className:[P.jobsIcon,q?"open":null].join(" ")}):Object(X.jsx)(He.a,{"data-testid":"running",className:[P.jobsIcon,b&&"loading",q&&"open"].join(" "),color:"inherit"})}),[P.jobsIcon,y,b,q]);return Object(L.useEffect)((function(){q||(Q.length&&!ne.length?D(0):!Q.length&&ne.length&&D(1))}),[q,ne.length,Q.length]),Object(L.useEffect)((function(){q||(re===qe.b.Pending?(D(0),Z()):ie&&ie.status===Ge.d.Pending&&D(1))}),[re,ie,Z,q]),Object(X.jsx)(Ue,{icon:le,open:q,handleOpen:Z,handleClose:K,children:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(St,{selectedTab:B,onTabChange:function onTabChange(p){return D(p)}}),Object(X.jsx)(yt,{selectedTab:B})]})})},Pt=Object(T.a)((function(p){return{appBar:{zIndex:995},appBarDark:{backgroundColor:p.palette.primary.dark},toolbar:Object(P.a)({minHeight:p.spacing(6)},p.breakpoints.up("xl"),{minHeight:p.spacing(8)}),content:Object(P.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:p.spacing(0,1.5),width:"100%"},p.breakpoints.up("md"),{paddingLeft:p.spacing(3)}),logo:{display:"flex",alignItems:"center",maxWidth:"calc(100% - 300px)"},rightBlock:{display:"flex",alignItems:"center"},actions:{display:"flex",alignItems:"center"}}}));b.a=function HeaderBase(p){var b=p.actions,y=p.logo,P=p.showDrawerButton,T=p.handleDrawerVisibility,N=p.elevation,q=void 0===N?1:N,Z=p.dark,K=p.contentClassName,Q=Pt(),ne=Object(L.useState)(!1),ie=Object(S.a)(ne,1)[0],le=Object(L.useState)(null),se=Object(S.a)(le,2),de=se[0],ue=se[1],pe=st(),be=pe.processingJobsNotCleared,ge=pe.areAnyProcessingJobsRunning,fe=Ze(),he=fe.importingJobsNotCleared,me=fe.areAnyImportingJobsPending;return Object(L.useEffect)((function(){var p=Ge.d.Success;be.find((function(p){var b;return(null===(b=p.status)||void 0===b?void 0:b.status)===Ge.d.Failure}))||he.find((function(p){return p.status===Ge.d.Failure}))?p=Ge.d.Failure:(ge||me)&&(p=Ge.d.Running),ue(p)}),[me,ge,be,he]),Object(X.jsx)(z.a,{component:"header",position:"relative",elevation:q,className:[Q.appBar,Z?Q.appBarDark:""].join(" "),children:Object(X.jsxs)(B.a,{disableGutters:!0,className:Q.toolbar,children:[P&&Object(X.jsx)(re,{handleDrawerVisibility:T}),Object(X.jsxs)(D.a,{className:[Q.content,K||""].join(" "),children:[Object(X.jsxs)(D.a,{className:Q.logo,children:[!!y&&y,!1]}),Object(X.jsxs)(D.a,{className:Q.rightBlock,children:[!!b&&Object(X.jsx)(D.a,{className:Q.actions,mr:1,children:b}),ie&&Object(X.jsx)(D.a,{ml:1,mr:1,children:Object(X.jsx)(Se,{})}),be.length||he.length?Object(X.jsx)(D.a,{ml:1,children:Object(X.jsx)(kt,{lastJobStatus:de,loading:ge||me})}):null,Object(X.jsx)(D.a,{ml:1,children:Object(X.jsx)(De,{})})]})]})]})})}},531:function(p,b,y){"use strict";var S=y(80),P=y(49),L=y(41),T=y(1081),z=y(2596),B=y(110),D=y(50),N=y(64),q=y(119),Z=y(89),K=y(101),Q=y(133),X=y(289),ne=y(2515),re=y(2519),ie=y(729),le=y(276),se=y(83),de=y(141),ue=y(43),pe=Object(T.a)((function(p){return{root:{width:"100%",padding:p.spacing(4.5,3),textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},title:{marginTop:p.spacing(1.5),marginBottom:p.spacing(.5)}}}));var be,ge,fe=function DataExplorerCreateConnection(){var p=pe(),b=Object(de.a)().userHasEditionRole,y=function CreateAConnection(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(ne.a,{variant:"caption",className:p.title,color:"textSecondary",children:Object(ue.jsx)(X.a,{id:"data-explorer.createConnection"})}),Object(ue.jsx)(re.a,{component:se.b,variant:"text",to:"/connections/create",color:"primary",size:"small",children:Object(ue.jsx)(X.a,{id:"data-explorer.tilesets.no-connection.button"})})]})},S=function CanNotCreateAConnection(){return Object(ue.jsx)(ne.a,{variant:"caption",className:p.title,color:"textSecondary",children:Object(ue.jsx)(X.a,{id:"data-explorer.cantCreateConnection"})})};return Object(ue.jsxs)(ie.a,{className:p.root,children:[Object(ue.jsx)(le.a,{}),b?Object(ue.jsx)(y,{}):Object(ue.jsx)(S,{})]})},he=y(2593),me=y(2548),ve=y(96),je=y(2595),ye=y(97),Oe=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgCartoIconProductsTilesets(p,b){var y=p.title,S=p.titleId,P=_objectWithoutProperties(p,Oe);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,be||(be=L.createElement("defs",null,L.createElement("filter",{id:"k678p2yp9a",colorInterpolationFilters:"auto"},L.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0"})))),ge||(ge=L.createElement("g",{fill:"current"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",{transform:"translate(-644.000000, -1607.000000) translate(530.000000, 1326.000000) translate(0.000000, 277.000000) translate(114.000000, 4.000000)"},L.createElement("g",null,L.createElement("path",{fill:"current",d:"M9.946 18.343c-.025-.001-.043-.003-.061-.006l-.062-.01-.05-.013c-.098-.028-.192-.074-.277-.14l.1.067c-.037-.021-.074-.045-.108-.072l.066.043-.058-.037-7.501-5.716c-.435-.33-.438-.984-.008-1.32l3.751-2.926c.298-.233.716-.235 1.018-.006L10 10.68l3.246-2.472c.267-.204.627-.224.914-.063l.103.07 3.75 2.925c.43.337.427.99-.008 1.32l-7.5 5.716c-.018.014-.037.027-.057.04l-.043.026c-.056.031-.116.055-.177.073-.017.004-.033.009-.05.012-.02.005-.04.008-.061.011l-.055.006h-.116zm.054-5.57l-2.386 1.818L10 16.453l2.385-1.862L10 12.773zM6.256 9.922l-2.392 1.866 2.34 1.782 2.42-1.844-2.368-1.804zm7.488 0l-2.37 1.804 2.42 1.844 2.341-1.782-2.39-1.866zM9.495 2.004c.299-.227.712-.227 1.01 0l3.75 2.856c.438.334.438.992 0 1.326l-3.75 2.858c-.298.227-.711.227-1.01 0l-3.75-2.858c-.438-.334-.438-.992 0-1.326zM10 3.714L7.625 5.522 10 7.332l2.375-1.81L10 3.715z",transform:"translate(-0.000000, 0.000000)"})))))))))}var xe,_e,we=L.forwardRef(SvgCartoIconProductsTilesets),Ce=(y.p,y(432)),Se=["title","titleId"];function icon_file_folder_open_extends(){return icon_file_folder_open_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_file_folder_open_extends.apply(this,arguments)}function icon_file_folder_open_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_file_folder_open_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconFileFolderOpen(p,b){var y=p.title,S=p.titleId,P=icon_file_folder_open_objectWithoutProperties(p,Se);return L.createElement("svg",icon_file_folder_open_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,xe||(xe=L.createElement("defs",null,L.createElement("filter",{id:"thkrks4x3a",colorInterpolationFilters:"auto"},L.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0"})))),_e||(_e=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",{filter:"url(#thkrks4x3a)",transform:"translate(-588.000000, -308.000000) translate(530.000000, 304.000000) translate(58.000000, 4.000000)"},L.createElement("g",null,L.createElement("path",{fill:"#2C3032",d:"M16.667 5H10L8.333 3.333h-5c-.916 0-1.658.75-1.658 1.667l-.008 10c0 .917.75 1.667 1.666 1.667h13.334c.916 0 1.666-.75 1.666-1.667V6.667c0-.917-.75-1.667-1.666-1.667zm0 10H3.333V6.667h13.334V15z",transform:"translate(0.000000, 0.000000)"}))))))))}var Ee,ke,Pe=L.forwardRef(SvgIconFileFolderOpen),Ie=(y.p,["title","titleId"]);function icon_editor_table_chart_extends(){return icon_editor_table_chart_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_table_chart_extends.apply(this,arguments)}function icon_editor_table_chart_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_table_chart_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorTableChart(p,b){var y=p.title,S=p.titleId,P=icon_editor_table_chart_objectWithoutProperties(p,Ie);return L.createElement("svg",icon_editor_table_chart_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,Ee||(Ee=L.createElement("defs",null,L.createElement("filter",{id:"48g67o654a",colorInterpolationFilters:"auto"},L.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0"})))),ke||(ke=L.createElement("g",{fill:"current",fillRule:"evenodd"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",{transform:"translate(-178.000000, -441.000000) translate(64.000000, 48.000000) translate(0.000000, 149.000000) translate(0.000000, 240.000000) translate(114.000000, 4.000000)"},L.createElement("g",null,L.createElement("path",{fill:"current",d:"M16.25 2.5H3.75c-.917 0-1.667.75-1.667 1.667v11.666c0 .917.75 1.667 1.667 1.667h12.5c.917 0 1.667-.75 1.667-1.667V4.167c0-.917-.75-1.667-1.667-1.667zm0 1.667v2.5H3.75v-2.5h12.5zm-4.167 11.666H7.917v-7.5h4.166v7.5zm-8.333-7.5h2.5v7.5h-2.5v-7.5zm10 7.5v-7.5h2.5v7.5h-2.5z",transform:"translate(-0.000000, 0.000000)"}))))))))))}var Le=L.forwardRef(SvgIconEditorTableChart),Me=(y.p,Object(T.a)((function(){return{root:{"&:not(.not-sticky).Mui-expanded > $content":{position:"sticky",top:0,zIndex:5,background:ve.a.palette.common.white}},group:{marginBottom:ve.a.spacing(1),marginLeft:ve.a.spacing(2.75),"& $group":{marginBottom:0,marginLeft:ve.a.spacing(3.5)},"& $labelIconWrapper":{borderRadius:0,padding:0,background:"transparent",marginRight:ve.a.spacing(1),height:ve.a.spacing(2.5),"& svg":{width:ve.a.spacing(2.5),height:ve.a.spacing(2.5)}},"& $labelTitle":{fontWeight:400},"& $content":{padding:ve.a.spacing(.125,1,.125,4),position:"relative !important",boxShadow:"none !important",top:"auto !important",zIndex:"1 !important",background:"transparent !important"},"& $labelContent":{padding:ve.a.spacing(.25,.75)}},content:{padding:ve.a.spacing(0,1,0,4.5),position:"relative"},label:{position:"relative",display:"block",flex:1,padding:0,backgroundColor:"transparent !important","&:hover, &:focus":{"& $labelContent":{backgroundColor:Object(ye.alpha)(ve.a.palette.common.black,.05)}}},labelLoading:{paddingRight:ve.a.spacing(3.25)},labelActive:{"&, &:hover, &:focus":{"& $labelContent":{backgroundColor:Object(ye.alpha)(ve.a.palette.primary.main,.08)},"& $labelTitle":{color:ve.a.palette.primary.main},"& $labelIconWrapper svg path":{fillOpacity:1,fill:ve.a.palette.primary.main}}},labelContent:{display:"flex",flex:1,alignItems:"center",borderRadius:ve.a.spacing(.5),padding:ve.a.spacing(.5,1,.5,.5),transition:ve.a.transitions.create("background-color",{easing:ve.a.transitions.easing.easeIn,duration:ve.a.transitions.duration.short})},labelIconWrapper:{padding:ve.a.spacing(.5),borderRadius:ve.a.spacing(.5),backgroundColor:ve.a.palette.primary.relatedLight,height:ve.a.spacing(4),marginRight:ve.a.spacing(1.5),"& svg":{width:ve.a.spacing(3),height:ve.a.spacing(3),"& path":{transition:ve.a.transitions.create(["fill","fill-opacity"],{easing:ve.a.transitions.easing.easeIn,duration:ve.a.transitions.duration.short})}},"&.groupLikeIcon":{borderRadius:0,padding:0,background:"transparent",marginRight:ve.a.spacing(1),height:ve.a.spacing(2.5),"& svg":{width:ve.a.spacing(2.5),height:ve.a.spacing(2.5)}}},labelTitle:{display:"block",maxWidth:"100%",transition:ve.a.transitions.create("color",{easing:ve.a.transitions.easing.easeIn,duration:ve.a.transitions.duration.short})},iconContainer:{margin:0,width:"".concat(ve.a.spacing(3),"px !important"),height:"".concat(ve.a.spacing(3),"px !important"),position:"absolute",left:ve.a.spacing(1.5),top:"50%",transform:"translateY(-50%)"},loadingRoot:{height:ve.a.spacing(2.25),position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"},objectIcon:{fill:ve.a.palette.text.secondary},normalWeight:{fontWeight:400}}})));var Te=function DataTreeItem(p){var b=p.node,y=p.itemId,S=p.provider,T=p.connection,z=p.initial,B=p.icon,N=p.children,q=p.onlyGeomData,Z=p.firstLevelSkipped,X=p.onClick,re=p.objectSelected,ie=p.objectExpanded,le=p.selected,se=Object(D.a)(),de=Me(),pe=Object(D.b)((function(p){return p.dataExplorer.dataExplorerTreeLoadingNodes})),be=Object(L.useState)(!1),ge=Object(P.a)(be,2),fe=ge[0],ve=ge[1],ye=Object(L.useState)(!1),Oe=Object(P.a)(ye,2),xe=Oe[0],_e=Oe[1],Se=Object(L.useState)(!1),Ee=Object(P.a)(Se,2),ke=Ee[0],Ie=Ee[1],Te=Object(L.useRef)(null),Re=b.carto_dw?K.a:b.name;Object(L.useEffect)((function(){ve(-1!==pe.indexOf(y))}),[pe,y]);var We=function fetchByLink(p,b){var y;if((null===p||void 0===p?void 0:p._links)&&(null===p||void 0===p||null===(y=p._links)||void 0===y?void 0:y.resources)){if(se(Object(Q.O)(null)),p.type===K.d.Table||p.type===K.d.Tileset){var S={connection:T,source:p.id,type:p.type,infoLink:p._links.resources};re&&re(S)}else se(Object(Q.l)({link:p._links.resources,targetKey:b,onlyGeomData:q}));ie&&ie(b)}},ze=xe&&b.children&&Object.keys(b.children).length,Fe=Object(L.useCallback)((function(){(null===Te||void 0===Te?void 0:Te.current)&&(Te.current.scrollWidth>Te.current.clientWidth&&Ie(!0))}),[]),Ae=Object(L.useCallback)((function(){ke&&Ie(!1)}),[ke,Ie]);return Object(ue.jsx)(je.a,{classes:{root:"".concat(de.root," ").concat(z?"is-initial":""," ").concat(Z?"not-sticky":""),group:de.group,content:de.content,label:[de.label,fe?de.labelLoading:"",le===b.id?de.labelActive:""].join(" "),iconContainer:de.iconContainer},"aria-label":b.name,"data-id":b.name,nodeId:y,label:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("div",{className:de.labelContent,children:[Object(ue.jsx)("div",{className:[de.labelIconWrapper,Z&&!z?"groupLikeIcon":""].join(" "),children:B||(b.type===K.d.Tileset?Object(ue.jsx)(we,{className:de.objectIcon}):b.type===K.d.Table||b.type===K.d.Data||b.type===K.d.Geography?Object(ue.jsx)(Le,{className:de.objectIcon}):ze?Object(ue.jsx)(Pe,{}):Object(ue.jsx)(Ce.a,{}))}),Object(ue.jsx)(he.a,{open:ke,placement:"top",title:b.name||b.id,children:Object(ue.jsx)(ne.a,{onMouseEnter:Fe,onMouseLeave:Ae,ref:Te,className:[de.labelTitle,Z?de.normalWeight:""].join(" "),variant:"caption",color:"textPrimary",noWrap:!0,children:Re||b.id})})]}),fe&&Object(ue.jsx)("div",{className:de.loadingRoot,children:Object(ue.jsx)(me.a,{size:16})})]}),onClick:function onClick(){!function toggleOpen(){_e(!xe)}(),X&&X(),!X&&We(b,y)},children:b.children&&Object.keys(b.children).length?Object.keys(b.children).map((function(p){return b.children&&b.children[p]?Object(ue.jsx)(DataTreeItem,{itemId:"".concat(y,".").concat(p,".children"),selected:le,node:b.children[p],provider:S,connection:T,objectSelected:re,onlyGeomData:q,onClick:function onClick(){b.children&&b.children[p]&&!b.children[p].children&&We(b.children[p],"".concat(y,".").concat(p,".children")),ie("".concat(y,".").concat(p,".children"))},objectExpanded:ie,children:N&&N},"".concat(y,".").concat(p,".children")):Object(ue.jsx)(ue.Fragment,{})})):b.type!==K.d.Tileset&&b.type!==K.d.Table&&b.type!==K.d.Data&&b.type!==K.d.Geography&&(!b.children||z)&&Object(ue.jsx)(ue.Fragment,{})})},Re=y(168),We=y(361),ze=y(114),Fe=Object(T.a)((function(p){return{root:{width:"100%"},loader:{margin:p.spacing(4.5,0)},expanded:{transform:"rotate(90deg)"}}}));b.a=function DataTreeView(p){var b,y,T=p.onClick,X=p.connectionId,ne=p.onlyGeomData,re=p.expandedPath,ie=p.nextResource,le=Object(D.a)(),se=Object(ze.g)(),de=Fe(),pe=Object(Re.a)().sendErrorNotification;if(re){var be=re[0]===K.h.EXPLORER;b=be&&re[1],y=be&&re[2]}var ge=Object(D.b)((function(p){return p.dataExplorer.currentSelectedNode})),he=Object(D.b)((function(p){return p.dataExplorer.expandedNodes})),me=Object(D.b)((function(p){return p.connections.myConnections})),ve=Object(D.b)((function(p){return p.connections.myConnectionsStatus})),je=Object(L.useState)(!0),ye=Object(P.a)(je,2),Oe=ye[0],xe=ye[1],_e=Object(D.b)((function(p){return p.dataExplorer.dataExplorerTree})),we=Object(D.b)((function(p){return p.dataExplorer.dataExplorerTreeError})),Ce=Object(D.b)((function(p){return p.dataExplorer.dataExplorerNodeNotFound})),Se=Object(D.b)((function(p){return p.dataExplorer.dataExplorerTreeLoadingNodes})),Ee=Object(L.useState)(!1),ke=Object(P.a)(Ee,2),Pe=ke[0],Ie=ke[1],Le=Object(q.a)(Z.f.BIGQUERY),Me=Object(q.a)(Z.f.SNOWFLAKE),Ae=Object(q.a)(Z.f.REDSHIFT),Be=Object(q.a)(Z.f.POSTGRES),De=Object(q.a)(Z.f.DATABRICKS),Ne=Object(q.a)(Z.f.CARTO);Object(L.useEffect)((function(){Ce&&(se("/data/non_existent_resource/404"),le(Object(Q.L)(null)))}),[se,le,Ce]),Object(L.useEffect)((function(){ve===N.b.Idle&&le(Object(Z.h)())}),[le,ve]),Object(L.useEffect)((function(){xe(ve===N.b.Pending)}),[ve]),Object(L.useEffect)((function(){if(null===we||void 0===we?void 0:we.error){var p=we.error;pe(p)}}),[pe,we]),Object(L.useEffect)((function(){me&&me.map((function(p){var b=_e[p.provider_id],y=b[p.id];(0===Object.keys(b).length||!y)&&le(Object(Q.N)({connection:p,provider:p.provider_id}))}))}),[le,me,_e]);var He=Object(L.useCallback)((function(p){var b=Object(S.a)(he);he.find((function(b){return b===p}))?b=he.filter((function(b){return b!==p})):b.push(p),le(Object(Q.S)(b))}),[le,he]),Ve=Object(L.useCallback)((function(p){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],y=p&&p.children&&!Object.keys(p.children).length;y&&((null===p||void 0===p?void 0:p.id)&&(null===p||void 0===p?void 0:p.provider_id)&&le(Object(Q.m)({connectionId:p.id,targetKey:"".concat(p.provider_id,".").concat(p.id,".children")})),b&&He("".concat(p.provider_id,".").concat(p.id,".children")))}),[le,He]),Ue=Object(L.useCallback)((function(p){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(_e).map((function(y){Object.keys(_e[y]).filter((function(b){return!p||b===p})).forEach((function(p){Ve(_e[y][p],b)}))}))}),[_e,Ve]);Object(L.useEffect)((function(){X&&Object.keys(_e).map((function(p){Object.keys(_e[p]).filter((function(p){return!X||p===X})).forEach((function(b){Ve(_e[p][b])}))}))}),[X,_e,Ve]),Object(L.useEffect)((function(){ie!==y&&Ie(!1)}),[ie,y]),Object(L.useEffect)((function(){if(b&&(null===me||void 0===me?void 0:me.length)&&!Pe){var p=me.find((function(p){return p.name===b}));if(p){var S,P="".concat(p.provider_id,".").concat(p.id,".children");-1===he.indexOf(P)&&Ue(p.id,!0);var L=null===(S=_e[p.provider_id][p.id])||void 0===S?void 0:S.children,T=L&&Object.keys(L).length,z=-1===Se.indexOf(P);y&&z&&T&&(Ie(!0),le(Object(Q.n)({connectionId:p.id,provider:p.provider_id,resourcePath:y})))}else se("/data/invalid_connection/404")}}),[le,b,y,Pe,_e,Se,he,Ue,me,se]);var Ge=function providerIcon(p,b){if(b)return Ne.icon;switch(p){case"redshift":return Ae.icon;case"postgres":return Be.icon;case"bigquery":return Le.icon;case"snowflake":return Me.icon;case"databricks":return De.icon;default:throw new Error("Invalid provider type")}},qe=function displayConnectionChildren(p,b,y,S){return p?Object.keys(p).map((function(P){var L=p[P];return Object(ue.jsx)(Te,{node:L,itemId:"".concat(y,".").concat(P,".children"),initial:!1,firstLevelSkipped:!0,provider:"".concat(b),onlyGeomData:ne,connection:S,selected:ge,objectExpanded:function objectExpanded(p){He(p)},objectSelected:function objectSelected(p){le(Object(Q.y)(p.source)),T(p)}},"".concat(y,".").concat(P,".children"))})):null};return Object(ue.jsxs)("div",{className:de.root,children:[Oe&&Object(ue.jsx)(B.a,{className:de.loader}),!Oe&&!(null===me||void 0===me?void 0:me.length)&&Object(ue.jsx)(fe,{}),Object.keys(_e).map((function(p){return Object(ue.jsx)(z.a,{defaultCollapseIcon:Object(ue.jsx)(We.a,{className:de.expanded}),defaultExpandIcon:Object(ue.jsx)(We.a,{}),expanded:he,children:Object.keys(_e[p]).filter((function(p){return!X||p===X})).map((function(b){return Object(ue.jsx)(L.Fragment,{children:X?_e[p][b].children?qe(_e[p][b].children,p,"".concat(p,".").concat(b,".children"),X):null:Object(ue.jsx)(Te,{node:_e[p][b],itemId:"".concat(p,".").concat(b,".children"),initial:!0,provider:"".concat(p),onlyGeomData:ne,connection:b,icon:Ge(p,_e[p][b].carto_dw),onClick:function onClick(){He("".concat(p,".").concat(b,".children")),Ve(_e[p][b])},objectExpanded:function objectExpanded(p){He(p)},selected:ge,objectSelected:function objectSelected(p){le(Object(Q.y)(p.source));var b=me.find((function(b){return b.id===p.connection}));b&&(p.connectionName=b.name,Ie(!1),T(p))}},"".concat(p,".").concat(b,".children"))},b)}))},p)}))]})}},534:function(p,b,y){"use strict";y.d(b,"a",(function(){return Z})),y.d(b,"b",(function(){return K}));var S,P=y(49),L=y(41),T=y(1081),z=y(729),B=y(434),D=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconContentRemove(p,b){var y=p.title,P=p.titleId,T=_objectWithoutProperties(p,D);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":P},T),y?L.createElement("title",{id:P},y):null,S||(S=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("g",null,L.createElement("path",{d:"M19 13L5 13 5 11 19 11z",transform:"translate(-344.000000, -1970.000000) translate(296.202020, 1970.000000) translate(47.797980, 0.000000)"})))))))}var N=L.forwardRef(SvgIconContentRemove),q=(y.p,y(43)),Z=20,K=1,Q=Object(T.a)((function(p){return{zoomControl:{userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",position:"absolute",left:p.spacing(3),bottom:p.spacing(3),display:"flex",flexDirection:"row",zIndex:9,borderRadius:p.spacing(.5),boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.16), 0 2px 1px -1px rgba(0, 0, 0, 0.04), 0 1px 1px 0 rgba(0, 0, 0, 0.16)",backgroundColor:p.palette.common.white,"& > div":{alignItems:"center",display:"flex",fontSize:p.spacing(1.5),fontWeight:600,fontStretch:"normal",fontStyle:"normal",lineHeight:1.33,letterSpacing:"0.2px",color:p.palette.grey[600],height:p.spacing(4.5),justifyContent:"center",width:p.spacing(4.5)},"& > div:not(:last-child)":{borderRight:"1px solid rgba(0, 0, 0, 0.12)"},"& > div:last-child, & > div:first-child":{cursor:"pointer"},"&.vertical":{flexDirection:"column-reverse","& > div:not(:first-child)":{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},"& > div:not(:last-child)":{borderRight:"none"}},transition:p.transitions.create(["left"],{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.standard})}}}));b.c=function ZoomControl(p){var b=p.zoom,y=p.minZoom,S=void 0===y?K:y,T=p.maxZoom,D=void 0===T?Z:T,X=p.zoomChanged,ne=p.customClasses,re=void 0===ne?[]:ne,ie=Q(),le=Object(L.useState)(Math.floor(b)),se=Object(P.a)(le,2),de=se[0],ue=se[1];return Object(L.useEffect)((function(){ue(Math.floor(b))}),[b]),Object(q.jsxs)(z.a,{className:re.concat(ie.zoomControl).join(" "),children:[Object(q.jsx)(z.a,{onClick:function zoomOut(){var p=de-1;p>=S&&(ue(p),X(p))},children:Object(q.jsx)(N,{})}),Object(q.jsx)(z.a,{children:de}),Object(q.jsx)(z.a,{onClick:function zoomIn(){var p=de+1;p<=D&&(ue(p),X(p))},children:Object(q.jsx)(B.a,{})})]})}},535:function(p,b,y){"use strict";var S,P=y(1),L=y.n(P),T=y(4),z=y(49),B=y(41),D=y(194),N=y(289),q=y(1081),Z=y(2515),K=y(729),Q=y(1386),X=y(2592),ne=y(2564),re=y(367),ie=y(101),le=y(278),se=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgFileUploadNoFill(p,b){var y=p.title,P=p.titleId,L=_objectWithoutProperties(p,se);return B.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 32 32",ref:b,"aria-labelledby":P},L),y?B.createElement("title",{id:P},y):null,S||(S=B.createElement("path",{id:"t8g86qsg4a",d:"M18.667 2.667H8c-1.467 0-2.653 1.2-2.653 2.666l-.014 21.334c0 1.466 1.187 2.666 2.654 2.666H24c1.467 0 2.667-1.2 2.667-2.666v-16l-8-8zm5.333 24H8V5.333h9.333V12H24v14.667zm-13.333-6.654l1.88 1.88 2.12-2.106v5.546h2.666v-5.546l2.12 2.12 1.88-1.894-5.32-5.346-5.346 5.346z"})))}var de,ue=B.forwardRef(SvgFileUploadNoFill),pe=(y.p,y(249)),be=y(422),ge=y(2623),fe=y(172),he=y(43),me=Object(q.a)((function(p){return{uploadMethodsIcon:{"&.MuiIconButton-colorPrimary:not(:hover)":{backgroundColor:p.palette.primary.relatedLight}}}}));!function(p){p[p.LOCAL_FILE=0]="LOCAL_FILE",p[p.URL=1]="URL"}(de||(de={}));b.a=function ImportDatasetFileForm(p){var b=p.connection,y=p.form,S=p.onFileChange,P=p.onTableNameChange,q=p.showDatasetAlreadyExistsMessage,se=p.messageError,ve=Object(D.a)(),je=me(),ye=y.register,Oe=y.formState,xe=y.control,_e=Object(B.useState)(de.LOCAL_FILE),we=Object(z.a)(_e,2),Ce=we[0],Se=we[1],Ee=function(){var p=Object(T.a)(L.a.mark((function _callee(p){var b;return L.a.wrap((function _callee$(y){for(;;)switch(y.prev=y.next){case 0:if(!(p.size>be.a)){y.next=3;break}return b=be.a/1024/1024,y.abrupt("return","".concat(ve.formatMessage({id:"data-explorer.import.notValidFileSize"})," ").concat(b,"MB"));case 3:case"end":return y.stop()}}),_callee)})));return function fileSizeValidatorMessage(b){return p.apply(this,arguments)}}();return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(Z.a,{"aria-label":"dataset file description",variant:"body2",variantMapping:{body2:"h6"},color:"textSecondary",children:Object(he.jsx)(N.a,{id:"data-explorer.import.datasetFileDescription",values:{warehouse:Object(he.jsx)(Z.a,{variant:"body2",display:"inline",children:(null===b||void 0===b?void 0:b.carto_dw)?ie.a:null===b||void 0===b?void 0:b.name})}})}),Object(he.jsxs)(K.a,{mt:2,display:"flex",children:[Object(he.jsxs)(K.a,{children:[Object(he.jsx)(Z.a,{variant:"caption",children:Object(he.jsx)(N.a,{id:"data-explorer.import.uploadMethod"})}),Object(he.jsxs)(K.a,{mt:.5,display:"flex",children:[Object(he.jsx)(Q.a,{"aria-label":"fileButtonSelector",className:je.uploadMethodsIcon,color:Ce===de.LOCAL_FILE?"primary":void 0,onClick:function setUploadMethodToFile(){Se(de.LOCAL_FILE)},children:Object(he.jsx)(ue,{style:{fill:"currentColor",fillOpacity:Ce===de.LOCAL_FILE?1:.6}})}),Object(he.jsx)(K.a,{ml:1,children:Object(he.jsx)(Q.a,{"aria-label":"urlButtonSelector",className:je.uploadMethodsIcon,color:Ce===de.URL?"primary":void 0,onClick:function setUploadMethodToURL(){Se(de.URL)},children:Object(he.jsx)(le.a,{style:{fill:"currentColor",fillOpacity:Ce===de.LOCAL_FILE?.6:1}})})})]})]}),Object(he.jsxs)(K.a,{ml:3,flexGrow:"1",flexShrink:"1",children:[Object(he.jsxs)(K.a,{children:[Object(he.jsx)(K.a,{mb:.5,children:Object(he.jsx)(Z.a,{variant:"caption",children:Object(he.jsx)(N.a,{id:Ce===de.LOCAL_FILE?"data-explorer.import.localFile":"data-explorer.import.enterURL"})})}),Ce===de.LOCAL_FILE?Object(he.jsx)(re.a,{inputRef:ye({required:!0}),onFileChange:S,name:"fileName",size:"small",placeholder:ve.formatMessage({id:"data-explorer.import.uploadPlaceHolder"}),accept:".zip,.geojson,.tar,.gz,.tgz,.csv",validator:Ee}):Object(he.jsx)(fe.a,{name:"url",control:xe,rules:{required:!0,validate:function validate(p){return Object(pe.b)(p)||ve.formatMessage({id:"data-explorer.import.notValidUrl"})}},defaultValue:"",render:function render(p){var b,y,S,P=p.onChange,L=p.value,T=void 0===L?"":L;return Object(he.jsx)(X.a,{variant:"outlined",size:"small",type:"url",inputProps:{"aria-label":"url"},placeholder:"https://storage.googleapis.com/carto_test_tables/places.zip",error:!!(null===(b=Oe.errors)||void 0===b?void 0:b.url),helperText:null===(y=Oe.errors)||void 0===y||null===(S=y.url)||void 0===S?void 0:S.message,value:T,onChange:function onChange(p){return P(p.target.value.trim())}})}}),Object(he.jsx)(K.a,{mt:1,children:Object(he.jsxs)(ne.a,{style:{fontWeight:"normal"},children:[Object(he.jsx)(N.a,{id:"data-explorer.import.supportedFileFormatsDescription"}),"\xa0"]})})]}),Object(he.jsxs)(K.a,{mt:3,children:[Object(he.jsx)(K.a,{mb:.5,children:Object(he.jsx)(Z.a,{variant:"caption",children:Object(he.jsx)(N.a,{id:"data-explorer.import.tableName"})})}),Object(he.jsx)(X.a,{inputRef:ye({required:!0}),name:"name",inputProps:{"aria-label":"name"},variant:"outlined",size:"small",placeholder:ve.formatMessage({id:"data-explorer.import.tableNamePlaceholder"}),onChange:P}),Object(he.jsx)(K.a,{mt:1,children:Object(he.jsx)(ne.a,{style:{fontWeight:"normal"},children:Object(he.jsx)(N.a,{id:"data-explorer.import.tableNameDescription"})})}),q&&Object(he.jsx)(K.a,{mt:2,children:Object(he.jsx)(ge.a,{severity:"warning",children:Object(he.jsx)(N.a,{id:"data-explorer.import.datasetAlreadyExists"})})}),!q&&se&&Object(he.jsx)(K.a,{mt:2,children:Object(he.jsx)(ge.a,{severity:"error",children:se})})]})]})]})]})}},666:function(p,b,y){"use strict";var S,P=y(1081),L=y(2512),T=y(1386),z=y(2534),B=y(2593),D=y(194),N=y(278),q=y(41),Z=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgSocialFacebook(p,b){var y=p.title,P=p.titleId,L=_objectWithoutProperties(p,Z);return q.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":P},L),y?q.createElement("title",{id:P},y):null,S||(S=q.createElement("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",transform:"translate(-1233.000000, -458.000000) translate(1186.000000, 452.000000) translate(41.000000, 0.000000) translate(6.000000, 6.000000)"})))}var K,Q=q.forwardRef(SvgSocialFacebook),X=(y.p,["title","titleId"]);function social_linkedin_extends(){return social_linkedin_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},social_linkedin_extends.apply(this,arguments)}function social_linkedin_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function social_linkedin_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgSocialLinkedin(p,b){var y=p.title,S=p.titleId,P=social_linkedin_objectWithoutProperties(p,X);return q.createElement("svg",social_linkedin_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?q.createElement("title",{id:S},y):null,K||(K=q.createElement("path",{d:"M19.2 3H4.8C3.81 3 3 3.81 3 4.8v14.4c0 .99.81 1.8 1.8 1.8h14.4c.99 0 1.8-.81 1.8-1.8V4.8c0-.99-.81-1.8-1.8-1.8zM8.4 18.3H5.7v-8.1h2.7v8.1zM7.05 8.67c-.9 0-1.62-.72-1.62-1.62 0-.9.72-1.62 1.62-1.62.9 0 1.62.72 1.62 1.62 0 .9-.72 1.62-1.62 1.62zM18.3 18.3h-2.7v-4.77c0-.72-.63-1.35-1.35-1.35-.72 0-1.35.63-1.35 1.35v4.77h-2.7v-8.1h2.7v1.08c.45-.72 1.44-1.26 2.25-1.26 1.71 0 3.15 1.44 3.15 3.15v5.13z",transform:"translate(-1313.000000, -458.000000) translate(1186.000000, 452.000000) translate(121.000000, 0.000000) translate(6.000000, 6.000000)"})))}var ne,re=q.forwardRef(SvgSocialLinkedin),ie=(y.p,["title","titleId"]);function social_twitter_extends(){return social_twitter_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},social_twitter_extends.apply(this,arguments)}function social_twitter_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function social_twitter_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgSocialTwitter(p,b){var y=p.title,S=p.titleId,P=social_twitter_objectWithoutProperties(p,ie);return q.createElement("svg",social_twitter_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},P),y?q.createElement("title",{id:S},y):null,ne||(ne=q.createElement("path",{d:"M21 6.731c-.67.294-1.383.489-2.126.583.765-.457 1.349-1.174 1.623-2.04-.713.426-1.5.726-2.34.894C17.48 5.447 16.515 5 15.462 5c-2.043 0-3.688 1.658-3.688 3.691 0 .293.025.574.085.842-3.068-.15-5.782-1.62-7.606-3.86-.318.552-.505 1.184-.505 1.865 0 1.278.658 2.41 1.64 3.067-.594-.011-1.175-.184-1.668-.455v.04c0 1.794 1.28 3.284 2.956 3.627-.3.082-.627.121-.967.121-.236 0-.475-.013-.699-.063.479 1.461 1.835 2.536 3.449 2.57-1.256.983-2.85 1.575-4.576 1.575-.303 0-.593-.014-.883-.051 1.635 1.054 3.572 1.656 5.661 1.656 6.79 0 10.503-5.625 10.503-10.5 0-.164-.006-.321-.014-.478.733-.52 1.348-1.169 1.85-1.916z",transform:"translate(-1273.000000, -458.000000) translate(1186.000000, 452.000000) translate(81.000000, 0.000000) translate(6.000000, 6.000000)"})))}var le=q.forwardRef(SvgSocialTwitter),se=(y.p,y(142)),de=y(43),ue=Object(P.a)((function(p){return{button:{marginLeft:p.spacing(1),color:p.palette.text.secondary,"&:hover":{color:p.palette.primary.main},"&:not($buttonSmall)":{padding:p.spacing(.875),"& svg":{width:p.spacing(2.25),height:p.spacing(2.25)}}},buttonSmall:{}}}));b.a=function SocialNetworks(p){var b=p.url,y=p.size,S=void 0===y?"small":y,P=p.hideCopy,q=ue(),Z=Object(D.a)();return Object(de.jsxs)(L.a,{container:!0,children:[Object(de.jsx)(T.a,{classes:{root:q.button,sizeSmall:q.buttonSmall},href:function twitterUrl(){return"".concat("https://twitter.com/intent/tweet","?url=").concat(encodeURIComponent(b))}(),component:"a",target:"_blank",rel:"noopener noreferrer",size:S,children:Object(de.jsx)(z.a,{component:le})}),Object(de.jsx)(T.a,{classes:{root:q.button,sizeSmall:q.buttonSmall},href:function linkedinUrl(){return"".concat("http://www.linkedin.com/shareArticle?mini=true","&url=").concat(encodeURIComponent(b))}(),component:"a",target:"_blank",rel:"noopener noreferrer",size:S,children:Object(de.jsx)(z.a,{component:re})}),Object(de.jsx)(T.a,{classes:{root:q.button,sizeSmall:q.buttonSmall},href:function facebookUrl(){return"".concat("https://www.facebook.com/sharer/sharer.php","?u=").concat(encodeURIComponent(b))}(),component:"a",target:"_blank",rel:"noopener noreferrer",size:S,children:Object(de.jsx)(z.a,{component:Q})}),!P&&Object(de.jsx)(de.Fragment,{children:Object(de.jsx)(B.a,{placement:"top",title:Z.formatMessage({id:"common.button.copyLink"}),arrow:!0,children:Object(de.jsx)(T.a,{classes:{root:q.button,sizeSmall:q.buttonSmall},size:S,onClick:function onClick(){return Object(se.a)(b)},children:Object(de.jsx)(z.a,{component:N.a})})})})]})}},675:function(p,b,y){"use strict";var S,P=y(1081),L=y(2593),T=y(50),z=y(41),B=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgets(p,b){var y=p.title,P=p.titleId,L=_objectWithoutProperties(p,B);return z.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",ref:b,"aria-labelledby":P},L),y?z.createElement("title",{id:P},y):null,S||(S=z.createElement("path",{d:"M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2.5 2.1h-15V5h15v14.1zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}var D=z.forwardRef(SvgIconWidgets),N=(y.p,y(94)),q=y(289),Z=y(174),K=y(43),Q=Object(P.a)((function(p){return{button:{backgroundColor:p.palette.common.white,".map-container &":{marginBottom:p.spacing(1),color:p.palette.common.black}},disabled:{opacity:.25,pointerEvents:"none"}}}));b.a=function BuilderToolbarWidgetsIcon(){var p=Q(),b=Object(T.a)(),y=Object(T.b)((function(p){return p.builder.widgets})),S=Object(T.b)((function(p){return p.builder.isWidgetPanelOpen})),P=y.length>0;return Object(K.jsx)(L.a,{arrow:!0,placement:"bottom",title:P?"":Object(K.jsx)(q.a,{id:"builder.widgets.noWidgets"}),children:Object(K.jsx)("div",{children:Object(K.jsx)(Z.a,{active:S&&P,onClick:function onClick(){return b(Object(N.v)(!S))},icon:Object(K.jsx)(D,{}),className:"".concat(p.button," ").concat(!P&&p.disabled)})})})}},74:function(p,b,y){p.exports=y(473)},910:function(p,b,y){"use strict";var S=y(61),P=y(1081),L=y(2580),T=y(2623),z=y(50),B=y(289),D=y(259),N=y(43),q=Object(P.a)((function(p){return{notification:{minWidth:p.spacing(37.5)},snackbar:Object(S.a)({},p.breakpoints.up("md"),{marginLeft:p.spacing(15.75)})}}));b.a=function AppNotification(){var p=q(),b=Object(z.a)(),y=Object(z.b)((function(p){return p.notifications.showNotification})),S=Object(z.b)((function(p){return p.notifications.notificationMessage})),P=Object(z.b)((function(p){return p.notifications.notificationFormattedMessage})),Z=Object(z.b)((function(p){return p.notifications.notificationType}));return Object(N.jsx)(L.a,{open:y,autoHideDuration:3200,onClose:function onClose(){return b(Object(D.c)())},anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{root:p.snackbar},children:Object(N.jsx)(T.a,{elevation:1,severity:Z,className:p.notification,children:P&&S?Object(N.jsx)(B.a,{id:S}):S})})}},93:function(p,b,y){"use strict";function _taggedTemplateLiteral(p,b){return b||(b=p.slice(0)),Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(b)}}))}y.d(b,"a",(function(){return _taggedTemplateLiteral}))},938:function(p){p.exports=JSON.parse('[{"key":"intersectAndAggregate","query":"SELECT\\n  n.neighborhood,\\n  ST_UNION_AGG(n.neighborhood_geom) as geom,\\n  count(t.tree_id) as num_trees,\\nFROM\\n  `bigquery-public-data.san_francisco_neighborhoods.boundaries` n,\\n  `bigquery-public-data.san_francisco_trees.street_trees` t\\nWHERE\\n  ST_INTERSECTS(n.neighborhood_geom,ST_GEOGPOINT(t.longitude,t.latitude))\\nGROUP BY 1","label":"Intersect and Aggregate","image":"sql_aggregation.svg"},{"key":"createLinesFromPoints","query":"SELECT\\n  ST_MAKELINE(ST_GEOGPOINT(start_station_longitude,start_station_latitude),ST_GEOGPOINT(end_station_longitude,end_station_latitude)) as geom,\\n  starttime as start_time,\\n  stoptime as stop_time,\\n  start_station_name as from_station,\\n  end_station_name as to_station,\\n  tripduration as trip_duration\\nFROM `bigquery-public-data.new_york.citibike_trips`\\nWHERE start_station_name != end_station_name\\nLIMIT 10000","label":"Create Lines from Points","image":"sql_create-lines.svg"},{"key":"linkSecondLayer","query":"SELECT\\n  n.neighborhood,\\n  ST_GEOGPOINT(t.longitude,t.latitude) as geom,\\n  t.species,\\n  t.plant_date\\nFROM\\n  `bigquery-public-data.san_francisco_neighborhoods.boundaries` n,\\n  `bigquery-public-data.san_francisco_trees.street_trees` t\\nWHERE\\n  ST_INTERSECTS(n.neighborhood_geom,ST_GEOGPOINT(t.longitude,t.latitude))\\nAND\\n  n.neighborhood = \'Peralta Heights\'","label":"Link Second Layer","image":"sql_link-second-layer.svg"},{"key":"addColumn","query":"SELECT\\n  d.c0001_t AS population_2016,\\n  d.c0004_t AS total_dwellings,\\n  d.c0006_t AS population_sq_km,\\n  g.geom AS geom,\\n  g.geoid\\nFROM `carto-do-public-data.can_statistics.demographics_sociodemographics_can_censusdivision_2016_5yrs_2016` d\\nJOIN `carto-do-public-data.carto.geography_can_censusdivision_2016` g\\nON d.geoid=g.geoid","label":"Add Columns from 2nd Dataset","image":"sql_add-column.svg"},{"key":"bufferTravel","query":"SELECT bqcarto.transformations.ST_BUFFER(ST_GEOGPOINT(longitude,latitude),150,\\"meters\\",1) AS geom\\nFROM `bigquery-public-data.chicago_crime.crime`\\nLIMIT 10000","label":"Create Distance Buffers","image":"sql_buffer-travel.svg"},{"key":"centroide","query":"SELECT ST_CENTROID(geom) AS geom FROM carto-do-public-data.esp_ine.geography_esp_censussection_2011","label":"Create Centroids of Geometries","image":"sql_centroide.svg"}]')},939:function(p,b,y){"use strict";var S=y(47),P=y(54);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var L=P(y(41)),T=(0,S(y(140)).default)(L.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineOutlined");b.default=T},940:function(p,b,y){"use strict";y.d(b,"a",(function(){return useJsApiLoader}));var S=y(49),P=y(1),L=y.n(P),T=y(161),z=y(51),B=y(53),D=y(67),N=y(68),q=y(41),Z=y(124),K=function invariant(p,b,y,S,P,L,T,z){if(!p){var B;if(void 0===b)B=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var D=[y,S,P,L,T,z],N=0;(B=new Error(b.replace(/%s/g,(function(){return D[N++]})))).name="Invariant Violation"}throw B.framesToPop=1,B}},Q=Object(q.createContext)(null);var X=function applyUpdaterToNextProps(p,b,y,S){var P={};return function forEach(p,b){Object.keys(p).forEach((function iterator(y){return b(p[y],y)}))}(p,(function iter(p,L){var T=y[L];T!==b[L]&&(P[L]=T,p(S,T))})),P};function registerEvents(p,b,y){return function reduce(p,b,y){return Object.keys(p).reduce((function reducer(y,S){return b(y,p[S],S)}),y)}(y,(function reducer(y,S,P){return"function"===typeof p[P]&&y.push(google.maps.event.addListener(b,S,p[P])),y}),[])}function unregisterEvent(p){google.maps.event.removeListener(p)}function unregisterEvents(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p.forEach(unregisterEvent)}function applyUpdatersToPropsAndRegisterEvents(p){var b=p.updaterMap,y=p.eventMap,S=p.prevProps,P=p.nextProps,L=p.instance,T=registerEvents(P,L,y);return X(b,S,P,L),T}var ne={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},re={extraMapTypes:function extraMapTypes(p,b){b.forEach((function forEachExtra(b,y){p.mapTypes.set(String(y),b)}))},center:function center(p,b){p.setCenter(b)},clickableIcons:function clickableIcons(p,b){p.setClickableIcons(b)},heading:function heading(p,b){p.setHeading(b)},mapTypeId:function mapTypeId(p,b){p.setMapTypeId(b)},options:function options(p,b){p.setOptions(b)},streetView:function streetView(p,b){p.setStreetView(b)},tilt:function tilt(p,b){p.setTilt(b)},zoom:function zoom(p,b){p.setZoom(b)}};q.PureComponent;function __rest(p,b){var y={};for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&b.indexOf(S)<0&&(y[S]=p[S]);if(null!=p&&"function"===typeof Object.getOwnPropertySymbols){var P=0;for(S=Object.getOwnPropertySymbols(p);P<S.length;P++)b.indexOf(S[P])<0&&Object.prototype.propertyIsEnumerable.call(p,S[P])&&(y[S[P]]=p[S[P]])}return y}function __awaiter(p,b,y,S){return new(y||(y=Promise))((function(P,L){function fulfilled(p){try{step(S.next(p))}catch(b){L(b)}}function rejected(p){try{step(S.throw(p))}catch(b){L(b)}}function step(p){p.done?P(p.value):function adopt(p){return p instanceof y?p:new y((function(b){b(p)}))}(p.value).then(fulfilled,rejected)}step((S=S.apply(p,b||[])).next())}))}var ie="undefined"!==typeof document,le=function injectScript(p){var b=p.url,y=p.id,S=p.nonce;return ie?new Promise((function injectScriptCallback(p,P){var L=document.getElementById(y),T=window;if(L){var z=L.getAttribute("data-state");if(L.src===b&&"error"!==z){if("ready"===z)return p(y);var B=T.initMap,D=L.onerror;return T.initMap=function initMap(){B&&B(),p(y)},void(L.onerror=function(p){D&&D(p),P(p)})}L.remove()}var N=document.createElement("script");N.type="text/javascript",N.src=b,N.id=y,N.async=!0,N.nonce=S,N.onerror=function onerror(p){N.setAttribute("data-state","error"),P(p)},T.initMap=function onload(){N.setAttribute("data-state","ready"),p(y)},document.head.appendChild(N)})).catch((function(p){throw console.error("injectScript error: ",p),p})):Promise.reject(new Error("document is undefined"))},se=function isRobotoStyle(p){return!(!p.href||0!==p.href.indexOf("https://fonts.googleapis.com/css?family=Roboto"))||("style"===p.tagName.toLowerCase()&&p.styleSheet&&p.styleSheet.cssText&&0===p.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(p.styleSheet.cssText="",!0):"style"===p.tagName.toLowerCase()&&p.innerHTML&&0===p.innerHTML.replace("\r\n","").indexOf(".gm-style")?(p.innerHTML="",!0):"style"===p.tagName.toLowerCase()&&!p.styleSheet&&!p.innerHTML)},de=function preventGoogleFonts(){var p=document.getElementsByTagName("head")[0],b=p.insertBefore.bind(p);p.insertBefore=function insertBefore(y,S){se(y)||Reflect.apply(b,p,[y,S])};var y=p.appendChild.bind(p);p.appendChild=function appendChild(b){se(b)||Reflect.apply(y,p,[b])}};function makeLoadScriptUrl(p){var b=p.googleMapsApiKey,y=p.googleMapsClientId,S=p.version,P=void 0===S?"weekly":S,L=p.language,T=p.region,z=p.libraries,B=p.channel,D=p.mapIds,N=[];return K(b&&y||!(b&&y),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),b?N.push("key=".concat(b)):y&&N.push("client=".concat(y)),P&&N.push("v=".concat(P)),L&&N.push("language=".concat(L)),T&&N.push("region=".concat(T)),z&&z.length&&N.push("libraries=".concat(z.sort().join(","))),B&&N.push("channel=".concat(B)),D&&D.length&&N.push("map_ids=".concat(D.join(","))),N.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(N.join("&"))}var ue=!1;function DefaultLoadingElement(){return q.createElement("div",null,"Loading...")}var pe,be={id:"script-loader",version:"weekly"},ge=function(p){Object(D.a)(LoadScript,p);var b=Object(N.a)(LoadScript);function LoadScript(){var p;return Object(z.a)(this,LoadScript),(p=b.apply(this,arguments)).check=q.createRef(),p.state={loaded:!1},p.cleanupCallback=function(){delete window.google.maps,p.injectScript()},p.isCleaningUp=function(){return __awaiter(Object(T.a)(p),void 0,void 0,L.a.mark((function _callee(){var p;return L.a.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:return p=function _promiseCallback(p){if(ue){if(ie)var b=window.setInterval((function interval(){ue||(window.clearInterval(b),p())}),1)}else p()},b.abrupt("return",new Promise(p));case 2:case"end":return b.stop()}}),_callee)})))},p.cleanup=function(){ue=!0;var b=document.getElementById(p.props.id);b&&b.parentNode&&b.parentNode.removeChild(b),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function filter(p){return"string"===typeof p.src&&p.src.includes("maps.googleapis")})).forEach((function forEach(p){p.parentNode&&p.parentNode.removeChild(p)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function filter(p){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===p.href})).forEach((function forEach(p){p.parentNode&&p.parentNode.removeChild(p)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function filter(p){return void 0!==p.innerText&&p.innerText.length>0&&p.innerText.includes(".gm-")})).forEach((function forEach(p){p.parentNode&&p.parentNode.removeChild(p)}))},p.injectScript=function(){p.props.preventGoogleFontsLoading&&de(),K(!!p.props.id,'LoadScript requires "id" prop to be a string: %s',p.props.id);var b={id:p.props.id,nonce:p.props.nonce,url:makeLoadScriptUrl(p.props)};le(b).then((function(){p.props.onLoad&&p.props.onLoad(),p.setState((function setLoaded(){return{loaded:!0}}))})).catch((function(b){p.props.onError&&p.props.onError(b),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(p.props.googleMapsApiKey||"-",") or Client ID (").concat(p.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},p}return Object(B.a)(LoadScript,[{key:"componentDidMount",value:function componentDidMount(){if(ie){if(window.google&&window.google.maps&&!ue)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function error(p){console.error("Error at injecting script after cleaning up: ",p)}))}}},{key:"componentDidUpdate",value:function componentDidUpdate(p){this.props.libraries!==p.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ie&&p.language!==this.props.language&&(this.cleanup(),this.setState((function setLoaded(){return{loaded:!1}}),this.cleanupCallback))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var p=this;if(ie){this.cleanup();window.setTimeout((function timeoutCallback(){p.check.current||(delete window.google,ue=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}},{key:"render",value:function render(){return q.createElement(q.Fragment,null,q.createElement("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||q.createElement(DefaultLoadingElement,null))}}]),LoadScript}(q.PureComponent);ge.defaultProps=be;var fe=q.createElement(DefaultLoadingElement,null);q.memo((function LoadScriptNext(p){var b=p.loadingElement,y=p.onLoad,P=p.onError,L=p.onUnmount,T=p.children,z=function useLoadScript(p){var b=p.id,y=void 0===b?be.id:b,P=p.version,L=void 0===P?be.version:P,T=p.nonce,z=p.googleMapsApiKey,B=p.googleMapsClientId,D=p.language,N=p.region,Z=p.libraries,Q=p.preventGoogleFontsLoading,X=p.channel,ne=p.mapIds,re=q.useRef(!1),se=q.useState(!1),ue=Object(S.a)(se,2),ge=ue[0],fe=ue[1],he=q.useState(void 0),me=Object(S.a)(he,2),ve=me[0],je=me[1];q.useEffect((function trackMountedState(){return re.current=!0,function(){re.current=!1}}),[]),q.useEffect((function applyPreventGoogleFonts(){ie&&Q&&de()}),[Q]),q.useEffect((function validateLoadedState(){ge&&K(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[ge]);var ye=makeLoadScriptUrl({version:L,googleMapsApiKey:z,googleMapsClientId:B,language:D,region:N,libraries:Z,channel:X,mapIds:ne});q.useEffect((function loadScriptAndModifyLoadedState(){function setLoadedIfMounted(){re.current&&(fe(!0),pe=ye)}ie&&(window.google&&window.google.maps&&pe===ye?setLoadedIfMounted():le({id:y,url:ye,nonce:T}).then(setLoadedIfMounted).catch((function handleInjectError(p){re.current&&je(p),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(z||"-",") or Client ID (").concat(B||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(p)})))}),[y,ye,T]);var Oe=q.useRef();return q.useEffect((function checkPerformance(){Oe.current&&Z!==Oe.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Oe.current=Z}),[Z]),{isLoaded:ge,loadError:ve,url:ye}}(__rest(p,["loadingElement","onLoad","onError","onUnmount","children"])),B=z.isLoaded,D=z.loadError;return q.useEffect((function handleOnLoad(){B&&"function"===typeof y&&y()}),[B,y]),q.useEffect((function handleOnError(){D&&"function"===typeof P&&P(D)}),[D,P]),q.useEffect((function handleOnUnmount(){return function(){L&&L()}}),[L]),B?T:b||fe}));var he=function equal(p,b){if(p===b)return!0;if(p&&b&&"object"==typeof p&&"object"==typeof b){if(p.constructor!==b.constructor)return!1;var y,S,P;if(Array.isArray(p)){if((y=p.length)!=b.length)return!1;for(S=y;0!==S--;)if(!equal(p[S],b[S]))return!1;return!0}if(p.constructor===RegExp)return p.source===b.source&&p.flags===b.flags;if(p.valueOf!==Object.prototype.valueOf)return p.valueOf()===b.valueOf();if(p.toString!==Object.prototype.toString)return p.toString()===b.toString();if((y=(P=Object.keys(p)).length)!==Object.keys(b).length)return!1;for(S=y;0!==S--;)if(!Object.prototype.hasOwnProperty.call(b,P[S]))return!1;for(S=y;0!==S--;){var L=P[S];if(!equal(p[L],b[L]))return!1}return!0}return p!==p&&b!==b},me="__googleMapsScriptId",ve=function(){function Loader(p){var b=p.apiKey,y=p.channel,S=p.client,P=p.id,L=void 0===P?me:P,T=p.libraries,B=void 0===T?[]:T,D=p.language,N=p.region,q=p.version,Z=p.mapIds,K=p.nonce,Q=p.retries,X=void 0===Q?3:Q,ne=p.url,re=void 0===ne?"https://maps.googleapis.com/maps/api/js":ne;if(Object(z.a)(this,Loader),this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.version=q,this.apiKey=b,this.channel=y,this.client=S,this.id=L||me,this.libraries=B,this.language=D,this.region=N,this.mapIds=Z,this.nonce=K,this.retries=X,this.url=re,Loader.instance){if(!he(this.options,Loader.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Loader.instance.options)));return Loader.instance}Loader.instance=this}return Object(B.a)(Loader,[{key:"options",get:function get(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}},{key:"failed",get:function get(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}},{key:"createUrl",value:function createUrl(){var p=this.url;return p+="?callback=".concat(this.CALLBACK),this.apiKey&&(p+="&key=".concat(this.apiKey)),this.channel&&(p+="&channel=".concat(this.channel)),this.client&&(p+="&client=".concat(this.client)),this.libraries.length>0&&(p+="&libraries=".concat(this.libraries.join(","))),this.language&&(p+="&language=".concat(this.language)),this.region&&(p+="&region=".concat(this.region)),this.version&&(p+="&v=".concat(this.version)),this.mapIds&&(p+="&map_ids=".concat(this.mapIds.join(","))),p}},{key:"load",value:function load(){return this.loadPromise()}},{key:"loadPromise",value:function loadPromise(){var p=this;return new Promise((function(b,y){p.loadCallback((function(p){p?y(p.error):b(window.google)}))}))}},{key:"loadCallback",value:function loadCallback(p){this.callbacks.push(p),this.execute()}},{key:"setScript",value:function setScript(){if(document.getElementById(this.id))this.callback();else{var p=this.createUrl(),b=document.createElement("script");b.id=this.id,b.type="text/javascript",b.src=p,b.onerror=this.loadErrorCallback.bind(this),b.defer=!0,b.async=!0,this.nonce&&(b.nonce=this.nonce),document.head.appendChild(b)}}},{key:"deleteScript",value:function deleteScript(){var p=document.getElementById(this.id);p&&p.remove()}},{key:"reset",value:function reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}},{key:"resetIfRetryingFailed",value:function resetIfRetryingFailed(){this.failed&&this.reset()}},{key:"loadErrorCallback",value:function loadErrorCallback(p){var b=this;if(this.errors.push(p),this.errors.length<=this.retries){var y=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Google Maps script, retrying in ".concat(y," ms.")),setTimeout((function(){b.deleteScript(),b.setScript()}),y)}else this.onerrorEvent=p,this.callback()}},{key:"setCallback",value:function setCallback(){window.__googleMapsCallback=this.callback.bind(this)}},{key:"callback",value:function callback(){var p=this;this.done=!0,this.loading=!1,this.callbacks.forEach((function(b){b(p.onerrorEvent)})),this.callbacks=[]}},{key:"execute",value:function execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}]),Loader}();function useJsApiLoader(p){var b=p.id,y=void 0===b?be.id:b,P=p.version,L=void 0===P?be.version:P,T=p.nonce,z=p.googleMapsApiKey,B=p.language,D=p.region,N=p.libraries,Z=p.preventGoogleFontsLoading,K=p.mapIds,Q=q.useState(!1),X=Object(S.a)(Q,2),ne=X[0],re=X[1],le=q.useState(void 0),se=Object(S.a)(le,2),ue=se[0],pe=se[1],ge=q.useMemo((function memo(){return new ve({id:y,apiKey:z,version:L,libraries:N,language:B,region:D,mapIds:K,nonce:T})}),[y,z,L,N,B,D,K,T]);q.useEffect((function effect(){ne||ge.load().then((function then(){re(!0)})).catch((function onrejected(p){pe(p)}))}),[]),q.useEffect((function applyPreventGoogleFonts(){ie&&Z&&de()}),[Z]);var fe=q.useRef();return q.useEffect((function effect(){fe.current&&N!==fe.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),fe.current=N}),[N]),{isLoaded:ne,loadError:ue}}var je={},ye={options:function options(p,b){p.setOptions(b)}},Oe=function(p){Object(D.a)(TrafficLayer,p);var b=Object(N.a)(TrafficLayer);function TrafficLayer(){var p;return Object(z.a)(this,TrafficLayer),(p=b.apply(this,arguments)).state={trafficLayer:null},p.setTrafficLayerCallback=function(){null!==p.state.trafficLayer&&p.props.onLoad&&p.props.onLoad(p.state.trafficLayer)},p.registeredEvents=[],p}return Object(B.a)(TrafficLayer,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ye,eventMap:je,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setTrafficLayer(){return{trafficLayer:p}}),this.setTrafficLayerCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.trafficLayer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ye,eventMap:je,prevProps:p,nextProps:this.props,instance:this.state.trafficLayer}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),unregisterEvents(this.registeredEvents),this.state.trafficLayer.setMap(null))}},{key:"render",value:function render(){return null}}]),TrafficLayer}(q.PureComponent);Oe.contextType=Q;var xe=function(p){Object(D.a)(BicyclingLayer,p);var b=Object(N.a)(BicyclingLayer);function BicyclingLayer(){var p;return Object(z.a)(this,BicyclingLayer),(p=b.apply(this,arguments)).state={bicyclingLayer:null},p.setBicyclingLayerCallback=function(){null!==p.state.bicyclingLayer&&(p.state.bicyclingLayer.setMap(p.context),p.props.onLoad&&p.props.onLoad(p.state.bicyclingLayer))},p}return Object(B.a)(BicyclingLayer,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.BicyclingLayer;this.setState((function setBicyclingLayer(){return{bicyclingLayer:p}}),this.setBicyclingLayerCallback)}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}},{key:"render",value:function render(){return null}}]),BicyclingLayer}(q.PureComponent);xe.contextType=Q;var _e=function(p){Object(D.a)(TransitLayer,p);var b=Object(N.a)(TransitLayer);function TransitLayer(){var p;return Object(z.a)(this,TransitLayer),(p=b.apply(this,arguments)).state={transitLayer:null},p.setTransitLayerCallback=function(){null!==p.state.transitLayer&&(p.state.transitLayer.setMap(p.context),p.props.onLoad&&p.props.onLoad(p.state.transitLayer))},p}return Object(B.a)(TransitLayer,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.TransitLayer;this.setState((function setTransitLayer(){return{transitLayer:p}}),this.setTransitLayerCallback)}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}},{key:"render",value:function render(){return null}}]),TransitLayer}(q.PureComponent);_e.contextType=Q;var we={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ce={drawingMode:function drawingMode(p,b){p.setDrawingMode(b)},options:function options(p,b){p.setOptions(b)}};(function(p){Object(D.a)(DrawingManager,p);var b=Object(N.a)(DrawingManager);function DrawingManager(p){var y;return Object(z.a)(this,DrawingManager),(y=b.call(this,p)).registeredEvents=[],y.state={drawingManager:null},y.setDrawingManagerCallback=function(){null!==y.state.drawingManager&&y.props.onLoad&&y.props.onLoad(y.state.drawingManager)},K(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),y}return Object(B.a)(DrawingManager,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ce,eventMap:we,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setDrawingManager(){return{drawingManager:p}}),this.setDrawingManagerCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.drawingManager&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ce,eventMap:we,prevProps:p,nextProps:this.props,instance:this.state.drawingManager}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),unregisterEvents(this.registeredEvents),this.state.drawingManager.setMap(null))}},{key:"render",value:function render(){return q.createElement(q.Fragment,null)}}]),DrawingManager}(q.PureComponent)).contextType=Q;var Se={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Ee={animation:function animation(p,b){p.setAnimation(b)},clickable:function clickable(p,b){p.setClickable(b)},cursor:function cursor(p,b){p.setCursor(b)},draggable:function draggable(p,b){p.setDraggable(b)},icon:function icon(p,b){p.setIcon(b)},label:function label(p,b){p.setLabel(b)},map:function map(p,b){p.setMap(b)},opacity:function opacity(p,b){p.setOpacity(b)},options:function options(p,b){p.setOptions(b)},position:function position(p,b){p.setPosition(b)},shape:function shape(p,b){p.setShape(b)},title:function title(p,b){p.setTitle(b)},visible:function visible(p,b){p.setVisible(b)},zIndex:function zIndex(p,b){p.setZIndex(b)}},ke=function(p){Object(D.a)(Marker,p);var b=Object(N.a)(Marker);function Marker(){var p;return Object(z.a)(this,Marker),(p=b.apply(this,arguments)).registeredEvents=[],p}return Object(B.a)(Marker,[{key:"componentDidMount",value:function componentDidMount(){var p=Object.assign(Object.assign(Object.assign({},this.props.options||{}),this.props.clusterer?{}:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(p),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ee,eventMap:Se,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){this.marker&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ee,eventMap:Se,prevProps:p,nextProps:this.props,instance:this.marker}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),unregisterEvents(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}},{key:"render",value:function render(){var p=this,b=null;return this.props.children&&(b=q.Children.map(this.props.children,(function(b){if(!q.isValidElement(b))return b;var y=b;return q.cloneElement(y,{anchor:p.marker})}))),b||null}}]),Marker}(q.PureComponent);ke.contextType=Q;var Pe=function(){function ClusterIcon(p,b){p.getClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster=p,this.className=this.cluster.getClusterer().getClusterClass(),this.styles=b,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.setMap(p.getMap())}return ClusterIcon.prototype.onAdd=function(){var p,b,y=this;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div),this.boundsChangedListener=google.maps.event.addListener(this.getMap(),"boundschanged",(function boundsChanged(){b=p})),google.maps.event.addDomListener(this.div,"mousedown",(function onMouseDown(){p=!0,b=!1})),google.maps.event.addDomListener(this.div,"click",(function(S){if(p=!1,!b){var P=y.cluster.getClusterer();if(google.maps.event.trigger(P,"click",y.cluster),google.maps.event.trigger(P,"clusterclick",y.cluster),P.getZoomOnClick()){var L=P.getMaxZoom(),T=y.cluster.getBounds();P.getMap().fitBounds(T),setTimeout((function timeout(){P.getMap().fitBounds(T),null!==L&&P.getMap().getZoom()>L&&P.getMap().setZoom(L+1)}),100)}S.cancelBubble=!0,S.stopPropagation&&S.stopPropagation()}})),google.maps.event.addDomListener(this.div,"mouseover",(function(){google.maps.event.trigger(y.cluster.getClusterer(),"mouseover",y.cluster)})),google.maps.event.addDomListener(this.div,"mouseout",(function(){google.maps.event.trigger(y.cluster.getClusterer(),"mouseout",y.cluster)}))},ClusterIcon.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),google.maps.event.clearInstanceListeners(this.div),this.div.parentNode.removeChild(this.div),this.div=null)},ClusterIcon.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var p=this.getPosFromLatLng(this.center),b=p.x,y=p.y;this.div.style.top=y+"px",this.div.style.left=b+"px"}},ClusterIcon.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},ClusterIcon.prototype.show=function(){if(this.div&&this.center){var p="",b="",y=this.backgroundPosition.split(" "),S=parseInt(y[0].replace(/^\s+|\s+$/g,""),10),P=parseInt(y[1].replace(/^\s+|\s+$/g,""),10),L=this.getPosFromLatLng(this.center);b=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,this.div.style.cssText=this.createCss(L),p="<img alt='"+b+"' src='"+this.url+"' style='position: absolute; top: "+P+"px; left: "+S+"px; ",this.cluster.getClusterer().enableRetinaIcons||(p+="clip: rect("+-1*P+"px, "+(-1*S+this.width)+"px, "+(-1*P+this.height)+"px, "+-1*S+"px);"),p+="'>",this.div.innerHTML=p+"<div style='position: absolute;top: "+this.anchorText[0]+"px;left: "+this.anchorText[1]+"px;color: "+this.textColor+";font-size: "+this.textSize+"px;font-family: "+this.fontFamily+";font-weight: "+this.fontWeight+";font-style: "+this.fontStyle+";text-decoration: "+this.textDecoration+";text-align: center;width: "+this.width+"px;line-height:"+this.height+"px;'>"+this.sums.text+"</div>",this.div.title=b,this.div.style.display=""}this.visible=!0},ClusterIcon.prototype.useStyle=function(p){this.sums=p;var b=this.styles[Math.min(this.styles.length-1,Math.max(0,p.index-1))];this.url=b.url,this.height=b.height,this.width=b.width,b.className&&(this.className=this.className+" "+b.className),this.anchorText=b.anchorText||[0,0],this.anchorIcon=b.anchorIcon||[this.height/2,this.width/2],this.textColor=b.textColor||"black",this.textSize=b.textSize||11,this.textDecoration=b.textDecoration||"none",this.fontWeight=b.fontWeight||"bold",this.fontStyle=b.fontStyle||"normal",this.fontFamily=b.fontFamily||"Arial,sans-serif",this.backgroundPosition=b.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(p){this.center=p},ClusterIcon.prototype.createCss=function(p){var b=[];return b.push("cursor: pointer;"),b.push("position: absolute; top: "+p.y+"px; left: "+p.x+"px;"),b.push("width: "+this.width+"px; height: "+this.height+"px;"),b.join("")},ClusterIcon.prototype.getPosFromLatLng=function(p){var b=this.getProjection().fromLatLngToDivPixel(p);return b.x-=this.anchorIcon[1],b.y-=this.anchorIcon[0],b},ClusterIcon}(),Ie=function(){function Cluster(p){this.markerClusterer=p,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Pe(this,this.markerClusterer.getStyles())}return Cluster.prototype.getSize=function(){return this.markers.length},Cluster.prototype.getMarkers=function(){return this.markers},Cluster.prototype.getCenter=function(){return this.center},Cluster.prototype.getMap=function(){return this.map},Cluster.prototype.getClusterer=function(){return this.markerClusterer},Cluster.prototype.getBounds=function(){for(var p=new google.maps.LatLngBounds(this.center,this.center),b=this.getMarkers(),y=0;y<b.length;y++){var S=b[y].getPosition();S&&p.extend(S)}return p},Cluster.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},Cluster.prototype.addMarker=function(p){if(this.isMarkerAlreadyAdded(p))return!1;var b;if(this.center){if(this.averageCenter&&(b=p.getPosition())){var y=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(y-1)+b.lat())/y,(this.center.lng()*(y-1)+b.lng())/y),this.calculateBounds()}}else(b=p.getPosition())&&(this.center=b,this.calculateBounds());p.isAdded=!0,this.markers.push(p);var S=this.markers.length,P=this.markerClusterer.getMaxZoom(),L=this.map.getZoom();if(null!==P&&"undefined"!==typeof L&&L>P)p.getMap()!==this.map&&p.setMap(this.map);else if(S<this.minClusterSize)p.getMap()!==this.map&&p.setMap(this.map);else if(S===this.minClusterSize)for(var T=0;T<S;T++)this.markers[T].setMap(null);else p.setMap(null);return!0},Cluster.prototype.isMarkerInClusterBounds=function(p){if(null!==this.bounds){var b=p.getPosition();if(b)return this.bounds.contains(b)}return!1},Cluster.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},Cluster.prototype.updateIcon=function(){var p=this.markers.length,b=this.markerClusterer.getMaxZoom(),y=this.map.getZoom();null!==b&&"undefined"!==typeof y&&y>b||p<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},Cluster.prototype.isMarkerAlreadyAdded=function(p){if(this.markers.includes)return this.markers.includes(p);for(var b=0;b<this.markers.length;b++)if(p===this.markers[b])return!0;return!1},Cluster}(),Le=function CALCULATOR(p,b){var y=p.length,S=y.toString().length,P=Math.min(S,b);return{text:y.toString(),index:P,title:""}},Me=[53,56,66,78,90],Te=function(){function Clusterer(p,b,y){void 0===b&&(b=[]),void 0===y&&(y={}),this.extend(Clusterer,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=y.gridSize||60,this.minClusterSize=y.minimumClusterSize||2,this.maxZoom=y.maxZoom||null,this.styles=y.styles||[],this.title=y.title||"",this.zoomOnClick=!0,void 0!==y.zoomOnClick&&(this.zoomOnClick=y.zoomOnClick),this.averageCenter=!1,void 0!==y.averageCenter&&(this.averageCenter=y.averageCenter),this.ignoreHidden=!1,void 0!==y.ignoreHidden&&(this.ignoreHidden=y.ignoreHidden),this.enableRetinaIcons=!1,void 0!==y.enableRetinaIcons&&(this.enableRetinaIcons=y.enableRetinaIcons),this.imagePath=y.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=y.imageExtension||"png",this.imageSizes=y.imageSizes||Me,this.calculator=y.calculator||Le,this.batchSize=y.batchSize||2e3,this.batchSizeIE=y.batchSizeIE||500,this.clusterClass=y.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(b,!0),this.setMap(p)}return Clusterer.prototype.onAdd=function(){var p=this;this.activeMap=this.getMap(),this.ready=!0,this.repaint(),this.listeners=[google.maps.event.addListener(this.getMap(),"zoom_changed",(function(){p.resetViewport(!1),p.getMap().getZoom()!==(p.get("minZoom")||0)&&p.getMap().getZoom()!==p.get("maxZoom")||google.maps.event.trigger(p,"idle")})),google.maps.event.addListener(this.getMap(),"idle",(function(){p.redraw()}))]},Clusterer.prototype.onRemove=function(){for(var p=0;p<this.markers.length;p++)this.markers[p].getMap()!==this.activeMap&&this.markers[p].setMap(this.activeMap);for(p=0;p<this.clusters.length;p++)this.clusters[p].remove();this.clusters=[];for(p=0;p<this.listeners.length;p++)google.maps.event.removeListener(this.listeners[p]);this.listeners=[],this.activeMap=null,this.ready=!1},Clusterer.prototype.draw=function(){},Clusterer.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var p=0;p<this.imageSizes.length;p++)this.styles.push({url:this.imagePath+(p+1)+"."+this.imageExtension,height:this.imageSizes[p],width:this.imageSizes[p]})},Clusterer.prototype.fitMapToMarkers=function(){for(var p=this.getMarkers(),b=new google.maps.LatLngBounds,y=0;y<p.length;y++){var S=p[y].getPosition();S&&b.extend(S)}this.getMap().fitBounds(b)},Clusterer.prototype.getGridSize=function(){return this.gridSize},Clusterer.prototype.setGridSize=function(p){this.gridSize=p},Clusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize},Clusterer.prototype.setMinimumClusterSize=function(p){this.minClusterSize=p},Clusterer.prototype.getMaxZoom=function(){return this.maxZoom},Clusterer.prototype.setMaxZoom=function(p){this.maxZoom=p},Clusterer.prototype.getStyles=function(){return this.styles},Clusterer.prototype.setStyles=function(p){this.styles=p},Clusterer.prototype.getTitle=function(){return this.title},Clusterer.prototype.setTitle=function(p){this.title=p},Clusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick},Clusterer.prototype.setZoomOnClick=function(p){this.zoomOnClick=p},Clusterer.prototype.getAverageCenter=function(){return this.averageCenter},Clusterer.prototype.setAverageCenter=function(p){this.averageCenter=p},Clusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden},Clusterer.prototype.setIgnoreHidden=function(p){this.ignoreHidden=p},Clusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},Clusterer.prototype.setEnableRetinaIcons=function(p){this.enableRetinaIcons=p},Clusterer.prototype.getImageExtension=function(){return this.imageExtension},Clusterer.prototype.setImageExtension=function(p){this.imageExtension=p},Clusterer.prototype.getImagePath=function(){return this.imagePath},Clusterer.prototype.setImagePath=function(p){this.imagePath=p},Clusterer.prototype.getImageSizes=function(){return this.imageSizes},Clusterer.prototype.setImageSizes=function(p){this.imageSizes=p},Clusterer.prototype.getCalculator=function(){return this.calculator},Clusterer.prototype.setCalculator=function(p){this.calculator=p},Clusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE},Clusterer.prototype.setBatchSizeIE=function(p){this.batchSizeIE=p},Clusterer.prototype.getClusterClass=function(){return this.clusterClass},Clusterer.prototype.setClusterClass=function(p){this.clusterClass=p},Clusterer.prototype.getMarkers=function(){return this.markers},Clusterer.prototype.getTotalMarkers=function(){return this.markers.length},Clusterer.prototype.getClusters=function(){return this.clusters},Clusterer.prototype.getTotalClusters=function(){return this.clusters.length},Clusterer.prototype.addMarker=function(p,b){this.pushMarkerTo(p),b||this.redraw()},Clusterer.prototype.addMarkers=function(p,b){for(var y in p)p.hasOwnProperty(y)&&this.pushMarkerTo(p[y]);b||this.redraw()},Clusterer.prototype.pushMarkerTo=function(p){var b=this;p.getDraggable()&&google.maps.event.addListener(p,"dragend",(function(){b.ready&&(p.isAdded=!1,b.repaint())})),p.isAdded=!1,this.markers.push(p)},Clusterer.prototype.removeMarker_=function(p){var b=-1;if(this.markers.indexOf)b=this.markers.indexOf(p);else for(var y=0;y<this.markers.length;y++)if(p===this.markers[y]){b=y;break}return-1!==b&&(p.setMap(null),this.markers.splice(b,1),!0)},Clusterer.prototype.removeMarker=function(p,b){var y=this.removeMarker_(p);return!b&&y&&this.repaint(),y},Clusterer.prototype.removeMarkers=function(p,b){for(var y=!1,S=0;S<p.length;S++)y=y||this.removeMarker_(p[S]);return!b&&y&&this.repaint(),y},Clusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},Clusterer.prototype.repaint=function(){var p=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function timeout(){for(var b=0;b<p.length;b++)p[b].remove()}),0)},Clusterer.prototype.getExtendedBounds=function(p){var b=this.getProjection(),y=b.fromLatLngToDivPixel(new google.maps.LatLng(p.getNorthEast().lat(),p.getNorthEast().lng()));y.x+=this.gridSize,y.y-=this.gridSize;var S=b.fromLatLngToDivPixel(new google.maps.LatLng(p.getSouthWest().lat(),p.getSouthWest().lng()));return S.x-=this.gridSize,S.y+=this.gridSize,p.extend(b.fromDivPixelToLatLng(y)),p.extend(b.fromDivPixelToLatLng(S)),p},Clusterer.prototype.redraw=function(){this.createClusters(0)},Clusterer.prototype.resetViewport=function(p){for(var b=0;b<this.clusters.length;b++)this.clusters[b].remove();this.clusters=[];for(b=0;b<this.markers.length;b++){var y=this.markers[b];y.isAdded=!1,p&&y.setMap(null)}},Clusterer.prototype.distanceBetweenPoints=function(p,b){var y=(b.lat()-p.lat())*Math.PI/180,S=(b.lng()-p.lng())*Math.PI/180,P=Math.sin(y/2)*Math.sin(y/2)+Math.cos(p.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(S/2)*Math.sin(S/2);return 2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P))*6371},Clusterer.prototype.isMarkerInBounds=function(p,b){var y=p.getPosition();return!!y&&b.contains(y)},Clusterer.prototype.addToClosestCluster=function(p){for(var b,y=4e4,S=null,P=0;P<this.clusters.length;P++){var L=(b=this.clusters[P]).getCenter(),T=p.getPosition();if(L&&T){var z=this.distanceBetweenPoints(L,T);z<y&&(y=z,S=b)}}S&&S.isMarkerInClusterBounds(p)?S.addMarker(p):((b=new Ie(this)).addMarker(p),this.clusters.push(b))},Clusterer.prototype.createClusters=function(p){var b=this;if(this.ready){0===p&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var y=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),S=this.getExtendedBounds(y),P=Math.min(p+this.batchSize,this.markers.length),L=p;L<P;L++){var T=this.markers[L];!T.isAdded&&this.isMarkerInBounds(T,S)&&(!this.ignoreHidden||this.ignoreHidden&&T.getVisible())&&this.addToClosestCluster(T)}if(P<this.markers.length)this.timerRefStatic=window.setTimeout((function(){b.createClusters(P)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(L=0;L<this.clusters.length;L++)this.clusters[L].updateIcon()}}},Clusterer.prototype.extend=function(p,b){return function applyExtend(p){for(var b in p.prototype)this.prototype[b]=p.prototype[b];return this}.apply(p,[b])},Clusterer}(),Re={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},We={averageCenter:function averageCenter(p,b){p.setAverageCenter(b)},batchSizeIE:function batchSizeIE(p,b){p.setBatchSizeIE(b)},calculator:function calculator(p,b){p.setCalculator(b)},clusterClass:function clusterClass(p,b){p.setClusterClass(b)},enableRetinaIcons:function enableRetinaIcons(p,b){p.setEnableRetinaIcons(b)},gridSize:function gridSize(p,b){p.setGridSize(b)},ignoreHidden:function ignoreHidden(p,b){p.setIgnoreHidden(b)},imageExtension:function imageExtension(p,b){p.setImageExtension(b)},imagePath:function imagePath(p,b){p.setImagePath(b)},imageSizes:function imageSizes(p,b){p.setImageSizes(b)},maxZoom:function maxZoom(p,b){p.setMaxZoom(b)},minimumClusterSize:function minimumClusterSize(p,b){p.setMinimumClusterSize(b)},styles:function styles(p,b){p.setStyles(b)},title:function title(p,b){p.setTitle(b)},zoomOnClick:function zoomOnClick(p,b){p.setZoomOnClick(b)}},ze=function(p){Object(D.a)(ClustererComponent,p);var b=Object(N.a)(ClustererComponent);function ClustererComponent(){var p;return Object(z.a)(this,ClustererComponent),(p=b.apply(this,arguments)).registeredEvents=[],p.state={markerClusterer:null},p.setClustererCallback=function(){null!==p.state.markerClusterer&&p.props.onLoad&&p.props.onLoad(p.state.markerClusterer)},p}return Object(B.a)(ClustererComponent,[{key:"componentDidMount",value:function componentDidMount(){if(this.context){var p=new Te(this.context,[],this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:We,eventMap:Re,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setClusterer(){return{markerClusterer:p}}),this.setClustererCallback)}}},{key:"componentDidUpdate",value:function componentDidUpdate(p){this.state.markerClusterer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:We,eventMap:Re,prevProps:p,nextProps:this.props,instance:this.state.markerClusterer}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),unregisterEvents(this.registeredEvents),this.state.markerClusterer.setMap(null))}},{key:"render",value:function render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}]),ClustererComponent}(q.PureComponent);ze.contextType=Q;var Fe=function(){function InfoBox(p){void 0===p&&(p={}),this.extend(InfoBox,google.maps.OverlayView),this.content=p.content||"",this.disableAutoPan=p.disableAutoPan||!1,this.maxWidth=p.maxWidth||0,this.pixelOffset=p.pixelOffset||new google.maps.Size(0,0),this.position=p.position||new google.maps.LatLng(0,0),this.zIndex=p.zIndex||null,this.boxClass=p.boxClass||"infoBox",this.boxStyle=p.boxStyle||{},this.closeBoxMargin=p.closeBoxMargin||"2px",this.closeBoxURL=p.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===p.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=p.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof p.visible&&("undefined"===typeof p.isHidden?p.visible=!0:p.visible=!p.isHidden),this.isHidden=!p.visible,this.alignBottom=p.alignBottom||!1,this.pane=p.pane||"floatPane",this.enableEventPropagation=p.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return InfoBox.prototype.createInfoBoxDiv=function(){var p=this;function cancelHandler(p){p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation()}if(!this.div){if(this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content)),this.getPanes()[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var b=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-b.left-b.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var y=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],S=0;S<y.length;S++)this.eventListeners.push(google.maps.event.addDomListener(this.div,y[S],cancelHandler));this.eventListeners.push(google.maps.event.addDomListener(this.div,"mouseover",(function(){p.div&&(p.div.style.cursor="default")})))}this.contextListener=google.maps.event.addDomListener(this.div,"contextmenu",(function ignoreHandler(b){b.returnValue=!1,b.preventDefault&&b.preventDefault(),p.enableEventPropagation||cancelHandler(b)})),google.maps.event.trigger(this,"domready")}},InfoBox.prototype.getCloseBoxImg=function(){var p="";return""!==this.closeBoxURL&&(p='<img alt=""',p+=' aria-hidden="true"',p+=" src='"+this.closeBoxURL+"'",p+=" align=right",p+=" style='",p+=" position: relative;",p+=" cursor: pointer;",p+=" margin: "+this.closeBoxMargin+";",p+="'>"),p},InfoBox.prototype.addClickHandler=function(){if(this.div&&this.div.firstChild&&""!==this.closeBoxURL){var p=this.div.firstChild;this.closeListener=google.maps.event.addDomListener(p,"click",this.getCloseClickHandler())}else this.closeListener=null},InfoBox.prototype.getCloseClickHandler=function(){var p=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),google.maps.event.trigger(p,"closeclick"),p.close()}},InfoBox.prototype.panBox=function(p){if(this.div&&!p){var b=this.getMap();if(b instanceof google.maps.Map){var y=0,S=0,P=b.getBounds();P&&!P.contains(this.position)&&b.setCenter(this.position);var L=b.getDiv(),T=L.offsetWidth,z=L.offsetHeight,B=this.pixelOffset.width,D=this.pixelOffset.height,N=this.div.offsetWidth,q=this.div.offsetHeight,Z=this.infoBoxClearance.width,K=this.infoBoxClearance.height,Q=this.getProjection().fromLatLngToContainerPixel(this.position);null!==Q&&(Q.x<-B+Z?y=Q.x+B-Z:Q.x+N+B+Z>T&&(y=Q.x+N+B+Z-T),this.alignBottom?Q.y<-D+K+q?S=Q.y+D-K-q:Q.y+D+K>z&&(S=Q.y+D+K-z):Q.y<-D+K?S=Q.y+D-K:Q.y+q+D+K>z&&(S=Q.y+q+D+K-z)),0===y&&0===S||b.panBy(y,S)}}},InfoBox.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var p=this.boxStyle;for(var b in p)p.hasOwnProperty(b)&&(this.div.style[b]=p[b]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var y=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*y+')"',this.div.style.filter="alpha(opacity="+100*y+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},InfoBox.prototype.getBoxWidths=function(){var p={top:0,bottom:0,left:0,right:0};if(!this.div)return p;if(document.defaultView&&document.defaultView.getComputedStyle){var b=this.div.ownerDocument,y=b&&b.defaultView?b.defaultView.getComputedStyle(this.div,""):null;y&&(p.top=parseInt(y.borderTopWidth||"",10)||0,p.bottom=parseInt(y.borderBottomWidth||"",10)||0,p.left=parseInt(y.borderLeftWidth||"",10)||0,p.right=parseInt(y.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var S=this.div.currentStyle;S&&(p.top=parseInt(S.borderTopWidth||"",10)||0,p.bottom=parseInt(S.borderBottomWidth||"",10)||0,p.left=parseInt(S.borderLeftWidth||"",10)||0,p.right=parseInt(S.borderRightWidth||"",10)||0)}return p},InfoBox.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},InfoBox.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var p=this.getProjection().fromLatLngToDivPixel(this.position);null!==p&&(this.div.style.left=p.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(p.y+this.pixelOffset.height)+"px":this.div.style.top=p.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},InfoBox.prototype.setOptions=function(p){void 0===p&&(p={}),"undefined"!==typeof p.boxClass&&(this.boxClass=p.boxClass,this.setBoxStyle()),"undefined"!==typeof p.boxStyle&&(this.boxStyle=p.boxStyle,this.setBoxStyle()),"undefined"!==typeof p.content&&this.setContent(p.content),"undefined"!==typeof p.disableAutoPan&&(this.disableAutoPan=p.disableAutoPan),"undefined"!==typeof p.maxWidth&&(this.maxWidth=p.maxWidth),"undefined"!==typeof p.pixelOffset&&(this.pixelOffset=p.pixelOffset),"undefined"!==typeof p.alignBottom&&(this.alignBottom=p.alignBottom),"undefined"!==typeof p.position&&this.setPosition(p.position),"undefined"!==typeof p.zIndex&&this.setZIndex(p.zIndex),"undefined"!==typeof p.closeBoxMargin&&(this.closeBoxMargin=p.closeBoxMargin),"undefined"!==typeof p.closeBoxURL&&(this.closeBoxURL=p.closeBoxURL),"undefined"!==typeof p.infoBoxClearance&&(this.infoBoxClearance=p.infoBoxClearance),"undefined"!==typeof p.isHidden&&(this.isHidden=p.isHidden),"undefined"!==typeof p.visible&&(this.isHidden=!p.visible),"undefined"!==typeof p.enableEventPropagation&&(this.enableEventPropagation=p.enableEventPropagation),this.div&&this.draw()},InfoBox.prototype.setContent=function(p){this.content=p,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof p?this.div.innerHTML=this.getCloseBoxImg()+p:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(p)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof p?this.div.innerHTML=this.getCloseBoxImg()+p:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(p))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(p){this.position=p,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setVisible=function(p){this.isHidden=!p,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},InfoBox.prototype.setZIndex=function(p){this.zIndex=p,this.div&&(this.div.style.zIndex=p+""),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.getContent=function(){return this.content},InfoBox.prototype.getPosition=function(){return this.position},InfoBox.prototype.getZIndex=function(){return this.zIndex},InfoBox.prototype.getVisible=function(){var p=this.getMap();return"undefined"!==typeof p&&null!==p&&!this.isHidden},InfoBox.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},InfoBox.prototype.open=function(p,b){var y=this;b&&(this.position=b.getPosition(),this.moveListener=google.maps.event.addListener(b,"position_changed",(function(){var p=b.getPosition();y.setPosition(p)})),this.mapListener=google.maps.event.addListener(b,"map_changed",(function(){y.setMap(b.map)}))),this.setMap(p),this.div&&this.panBox()},InfoBox.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var p=0;p<this.eventListeners.length;p++)google.maps.event.removeListener(this.eventListeners[p]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},InfoBox.prototype.extend=function(p,b){return function applyExtend(p){for(var b in p.prototype)this.prototype.hasOwnProperty(b)||(this.prototype[b]=p.prototype[b]);return this}.apply(p,[b])},InfoBox}(),Ae={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Be={options:function options(p,b){p.setOptions(b)},position:function position(p,b){b instanceof google.maps.LatLng?p.setPosition(b):p.setPosition(new google.maps.LatLng(b.lat,b.lng))},visible:function visible(p,b){p.setVisible(b)},zIndex:function zIndex(p,b){p.setZIndex(b)}},De=function(p){Object(D.a)(InfoBoxComponent,p);var b=Object(N.a)(InfoBoxComponent);function InfoBoxComponent(){var p;return Object(z.a)(this,InfoBoxComponent),(p=b.apply(this,arguments)).registeredEvents=[],p.containerElement=null,p.state={infoBox:null},p.open=function(b,y){y?b.open(p.context,y):b.getPosition()?b.open(p.context):K(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},p.setInfoBoxCallback=function(){var b=p.props,y=b.anchor,S=b.onLoad,P=p.state.infoBox;null!==P&&null!==p.containerElement&&(P.setContent(p.containerElement),p.open(P,y),S&&S(P))},p}return Object(B.a)(InfoBoxComponent,[{key:"componentDidMount",value:function componentDidMount(){var p,b=this.props.options||{},y=b.position,S=__rest(b,["position"]);!y||y instanceof google.maps.LatLng||(p=new google.maps.LatLng(y.lat,y.lng));var P=new Fe(Object.assign(Object.assign({},S),p?{position:p}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Be,eventMap:Ae,prevProps:{},nextProps:this.props,instance:P}),this.setState({infoBox:P},this.setInfoBoxCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){var b=this.state.infoBox;null!==b&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Be,eventMap:Ae,prevProps:p,nextProps:this.props,instance:b}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){var p=this.props.onUnmount,b=this.state.infoBox;null!==b&&(p&&p(b),unregisterEvents(this.registeredEvents),b.close())}},{key:"render",value:function render(){return this.containerElement?Z.createPortal(q.Children.only(this.props.children),this.containerElement):null}}]),InfoBoxComponent}(q.PureComponent);De.contextType=Q;var Ne={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},He={options:function options(p,b){p.setOptions(b)},position:function position(p,b){p.setPosition(b)},zIndex:function zIndex(p,b){p.setZIndex(b)}},Ve=function(p){Object(D.a)(InfoWindow,p);var b=Object(N.a)(InfoWindow);function InfoWindow(){var p;return Object(z.a)(this,InfoWindow),(p=b.apply(this,arguments)).registeredEvents=[],p.containerElement=null,p.state={infoWindow:null},p.open=function(b,y){y?b.open(p.context,y):b.getPosition()?b.open(p.context):K(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},p.setInfoWindowCallback=function(){null!==p.state.infoWindow&&null!==p.containerElement&&(p.state.infoWindow.setContent(p.containerElement),p.open(p.state.infoWindow,p.props.anchor),p.props.onLoad&&p.props.onLoad(p.state.infoWindow))},p}return Object(B.a)(InfoWindow,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:He,eventMap:Ne,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setInfoWindow(){return{infoWindow:p}}),this.setInfoWindowCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.infoWindow&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:He,eventMap:Ne,prevProps:p,nextProps:this.props,instance:this.state.infoWindow}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.infoWindow&&(unregisterEvents(this.registeredEvents),this.state.infoWindow.close())}},{key:"render",value:function render(){return this.containerElement?Z.createPortal(q.Children.only(this.props.children),this.containerElement):q.createElement(q.Fragment,null)}}]),InfoWindow}(q.PureComponent);Ve.contextType=Q;var Ue={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ge={draggable:function draggable(p,b){p.setDraggable(b)},editable:function editable(p,b){p.setEditable(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)},path:function path(p,b){p.setPath(b)},visible:function visible(p,b){p.setVisible(b)}},qe=function(p){Object(D.a)(Polyline,p);var b=Object(N.a)(Polyline);function Polyline(){var p;return Object(z.a)(this,Polyline),(p=b.apply(this,arguments)).registeredEvents=[],p.state={polyline:null},p.setPolylineCallback=function(){null!==p.state.polyline&&p.props.onLoad&&p.props.onLoad(p.state.polyline)},p}return Object(B.a)(Polyline,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ge,eventMap:Ue,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setPolyline(){return{polyline:p}}),this.setPolylineCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.polyline&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ge,eventMap:Ue,prevProps:p,nextProps:this.props,instance:this.state.polyline}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),unregisterEvents(this.registeredEvents),this.state.polyline.setMap(null))}},{key:"render",value:function render(){return q.createElement(q.Fragment,null)}}]),Polyline}(q.PureComponent);qe.contextType=Q;var Je={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ze={draggable:function draggable(p,b){p.setDraggable(b)},editable:function editable(p,b){p.setEditable(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)},path:function path(p,b){p.setPath(b)},paths:function paths(p,b){p.setPaths(b)},visible:function visible(p,b){p.setVisible(b)}},$e=function(p){Object(D.a)(Polygon,p);var b=Object(N.a)(Polygon);function Polygon(){var p;return Object(z.a)(this,Polygon),(p=b.apply(this,arguments)).registeredEvents=[],p.state={polygon:null},p.setPolygonCallback=function(){null!==p.state.polygon&&p.props.onLoad&&p.props.onLoad(p.state.polygon)},p}return Object(B.a)(Polygon,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ze,eventMap:Je,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setPolygon(){return{polygon:p}}),this.setPolygonCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.polygon&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ze,eventMap:Je,prevProps:p,nextProps:this.props,instance:this.state.polygon}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),unregisterEvents(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}},{key:"render",value:function render(){return null}}]),Polygon}(q.PureComponent);$e.contextType=Q;var Ye={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ke={bounds:function bounds(p,b){p.setBounds(b)},draggable:function draggable(p,b){p.setDraggable(b)},editable:function editable(p,b){p.setEditable(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)},visible:function visible(p,b){p.setVisible(b)}},Qe=function(p){Object(D.a)(Rectangle,p);var b=Object(N.a)(Rectangle);function Rectangle(){var p;return Object(z.a)(this,Rectangle),(p=b.apply(this,arguments)).registeredEvents=[],p.state={rectangle:null},p.setRectangleCallback=function(){null!==p.state.rectangle&&p.props.onLoad&&p.props.onLoad(p.state.rectangle)},p}return Object(B.a)(Rectangle,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ke,eventMap:Ye,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setRectangle(){return{rectangle:p}}),this.setRectangleCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.rectangle&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Ke,eventMap:Ye,prevProps:p,nextProps:this.props,instance:this.state.rectangle}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),unregisterEvents(this.registeredEvents),this.state.rectangle.setMap(null))}},{key:"render",value:function render(){return q.createElement(q.Fragment,null)}}]),Rectangle}(q.PureComponent);Qe.contextType=Q;var Xe={onCenterChanged:"center_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRadiusChanged:"radius_changed",onRightClick:"rightclick"},et={center:function center(p,b){p.setCenter(b)},draggable:function draggable(p,b){p.setDraggable(b)},editable:function editable(p,b){p.setEditable(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)},radius:function radius(p,b){p.setRadius(b)},visible:function visible(p,b){p.setVisible(b)}},tt=function(p){Object(D.a)(Circle,p);var b=Object(N.a)(Circle);function Circle(){var p;return Object(z.a)(this,Circle),(p=b.apply(this,arguments)).registeredEvents=[],p.state={circle:null},p.setCircleCallback=function(){null!==p.state.circle&&p.props.onLoad&&p.props.onLoad(p.state.circle)},p}return Object(B.a)(Circle,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:et,eventMap:Xe,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setCircle(){return{circle:p}}),this.setCircleCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.circle&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:et,eventMap:Xe,prevProps:p,nextProps:this.props,instance:this.state.circle}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),unregisterEvents(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}},{key:"render",value:function render(){return q.createElement(q.Fragment,null)}}]),Circle}(q.PureComponent);tt.contextType=Q;var nt={onAddFeature:"addfeature",onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onRightClick:"rightclick",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},rt={add:function add(p,b){p.add(b)},addgeojson:function addgeojson(p,b,y){p.addGeoJson(b,y)},contains:function contains(p,b){p.contains(b)},foreach:function foreach(p,b){p.forEach(b)},loadgeojson:function loadgeojson(p,b,y,S){p.loadGeoJson(b,y,S)},overridestyle:function overridestyle(p,b,y){p.overrideStyle(b,y)},remove:function remove(p,b){p.remove(b)},revertstyle:function revertstyle(p,b){p.revertStyle(b)},controlposition:function controlposition(p,b){p.setControlPosition(b)},controls:function controls(p,b){p.setControls(b)},drawingmode:function drawingmode(p,b){p.setDrawingMode(b)},map:function map(p,b){p.setMap(b)},style:function style(p,b){p.setStyle(b)},togeojson:function togeojson(p,b){p.toGeoJson(b)}},ot=function(p){Object(D.a)(Data,p);var b=Object(N.a)(Data);function Data(){var p;return Object(z.a)(this,Data),(p=b.apply(this,arguments)).registeredEvents=[],p.state={data:null},p.setDataCallback=function(){null!==p.state.data&&p.props.onLoad&&p.props.onLoad(p.state.data)},p}return Object(B.a)(Data,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:rt,eventMap:nt,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setData(){return{data:p}}),this.setDataCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.data&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:rt,eventMap:nt,prevProps:p,nextProps:this.props,instance:this.state.data}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),unregisterEvents(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}},{key:"render",value:function render(){return null}}]),Data}(q.PureComponent);ot.contextType=Q;var at={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},it={options:function options(p,b){p.setOptions(b)},url:function url(p,b){p.setUrl(b)},zIndex:function zIndex(p,b){p.setZIndex(b)}},lt=function(p){Object(D.a)(KmlLayer,p);var b=Object(N.a)(KmlLayer);function KmlLayer(){var p;return Object(z.a)(this,KmlLayer),(p=b.apply(this,arguments)).registeredEvents=[],p.state={kmlLayer:null},p.setKmlLayerCallback=function(){null!==p.state.kmlLayer&&p.props.onLoad&&p.props.onLoad(p.state.kmlLayer)},p}return Object(B.a)(KmlLayer,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:it,eventMap:at,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setLmlLayer(){return{kmlLayer:p}}),this.setKmlLayerCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.kmlLayer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:it,eventMap:at,prevProps:p,nextProps:this.props,instance:this.state.kmlLayer}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),unregisterEvents(this.registeredEvents),this.state.kmlLayer.setMap(null))}},{key:"render",value:function render(){return null}}]),KmlLayer}(q.PureComponent);lt.contextType=Q;var ct=function createLatLng(p,b){return new b(p.lat,p.lng)},st=function createLatLngBounds(p,b){return new b(new google.maps.LatLng(p.ne.lat,p.ne.lng),new google.maps.LatLng(p.sw.lat,p.sw.lng))},dt=function ensureOfType(p,b,y){return p instanceof b?p:y(p,b)};function convertToLatLngString(p){return p?(p instanceof google.maps.LatLng?p:new google.maps.LatLng(p.lat,p.lng))+"":""}function convertToLatLngBoundsString(p){return p?(p instanceof google.maps.LatLngBounds?p:new google.maps.LatLngBounds(new google.maps.LatLng(p.south,p.east),new google.maps.LatLng(p.north,p.west)))+"":""}var ut=function(p){Object(D.a)(OverlayView,p);var b=Object(N.a)(OverlayView);function OverlayView(p){var y;Object(z.a)(this,OverlayView),(y=b.call(this,p)).state={paneEl:null,containerStyle:{position:"absolute"}},y.updatePane=function(){var p=y.props.mapPaneName,b=y.overlayView.getPanes();K(!!p,"OverlayView requires props.mapPaneName but got %s",p),b?y.setState({paneEl:b[p]}):y.setState({paneEl:null})},y.onAdd=function(){var p,b;y.updatePane(),null===(b=(p=y.props).onLoad)||void 0===b||b.call(p,y.overlayView)},y.onPositionElement=function(){var p=function getLayoutStyles(p,b,y,S){return void 0!==y?function getLayoutStylesByBounds(p,b,y){var S=p&&p.fromLatLngToDivPixel(y.getNorthEast()),P=p&&p.fromLatLngToDivPixel(y.getSouthWest());return S&&P?{left:"".concat(P.x+b.x,"px"),top:"".concat(S.y+b.y,"px"),width:"".concat(S.x-P.x-b.x,"px"),height:"".concat(P.y-S.y-b.y,"px")}:{left:"-9999px",top:"-9999px"}}(p,b,dt(y,google.maps.LatLngBounds,st)):function getLayoutStylesByPosition(p,b,y){var S=p&&p.fromLatLngToDivPixel(y);if(S){var P=S.x,L=S.y;return{left:"".concat(P+b.x,"px"),top:"".concat(L+b.y,"px")}}return{left:"-9999px",top:"-9999px"}}(p,b,dt(S,google.maps.LatLng,ct))}(y.overlayView.getProjection(),Object.assign({x:0,y:0},y.containerRef.current?function getOffsetOverride(p,b){return"function"===typeof b?b(p.offsetWidth,p.offsetHeight):{}}(y.containerRef.current,y.props.getPixelPositionOffset):{}),y.props.bounds,y.props.position),b=y.state.containerStyle;(function arePositionsEqual(p,b){return p.left===b.left&&p.top===b.top&&p.width===b.height&&p.height===b.height})(p,{left:b.left,top:b.top,width:b.width,height:b.height})||y.setState({containerStyle:Object.assign(Object.assign({},p),{position:"absolute"})})},y.draw=function(){y.onPositionElement()},y.onRemove=function(){var p,b;y.setState((function(){return{paneEl:null}})),null===(b=(p=y.props).onUnmount)||void 0===b||b.call(p,y.overlayView)},y.containerRef=q.createRef();var S=new google.maps.OverlayView;return S.onAdd=y.onAdd,S.draw=y.draw,S.onRemove=y.onRemove,y.overlayView=S,y}return Object(B.a)(OverlayView,[{key:"componentDidMount",value:function componentDidMount(){this.overlayView.setMap(this.context)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){var b=convertToLatLngString(p.position),y=convertToLatLngString(this.props.position),S=convertToLatLngBoundsString(p.bounds),P=convertToLatLngBoundsString(this.props.bounds);b===y&&S===P||this.overlayView.draw(),p.mapPaneName!==this.props.mapPaneName&&this.updatePane()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.overlayView.setMap(null)}},{key:"render",value:function render(){var p=this.state.paneEl;return p?Z.createPortal(q.createElement("div",{ref:this.containerRef,style:this.state.containerStyle},q.Children.only(this.props.children)),p):null}}]),OverlayView}(q.PureComponent);ut.FLOAT_PANE="floatPane",ut.MAP_PANE="mapPane",ut.MARKER_LAYER="markerLayer",ut.OVERLAY_LAYER="overlayLayer",ut.OVERLAY_MOUSE_TARGET="overlayMouseTarget",ut.contextType=Q;var pt={onDblClick:"dblclick",onClick:"click"},bt={opacity:function opacity(p,b){p.setOpacity(b)}},gt=function(p){Object(D.a)(GroundOverlay,p);var b=Object(N.a)(GroundOverlay);function GroundOverlay(){var p;return Object(z.a)(this,GroundOverlay),(p=b.apply(this,arguments)).registeredEvents=[],p.state={groundOverlay:null},p.setGroundOverlayCallback=function(){null!==p.state.groundOverlay&&p.props.onLoad&&p.props.onLoad(p.state.groundOverlay)},p}return Object(B.a)(GroundOverlay,[{key:"componentDidMount",value:function componentDidMount(){K(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var p=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:bt,eventMap:pt,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setGroundOverlay(){return{groundOverlay:p}}),this.setGroundOverlayCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.groundOverlay&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:bt,eventMap:pt,prevProps:p,nextProps:this.props,instance:this.state.groundOverlay}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}},{key:"render",value:function render(){return null}}]),GroundOverlay}(q.PureComponent);gt.defaultProps={onLoad:function noop(){}},gt.contextType=Q;var ft={},ht={data:function data(p,b){p.setData(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)}},mt=function(p){Object(D.a)(HeatmapLayer,p);var b=Object(N.a)(HeatmapLayer);function HeatmapLayer(){var p;return Object(z.a)(this,HeatmapLayer),(p=b.apply(this,arguments)).registeredEvents=[],p.state={heatmapLayer:null},p.setHeatmapLayerCallback=function(){null!==p.state.heatmapLayer&&p.props.onLoad&&p.props.onLoad(p.state.heatmapLayer)},p}return Object(B.a)(HeatmapLayer,[{key:"componentDidMount",value:function componentDidMount(){K(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),K(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var p=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ht,eventMap:ft,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setHeatmapLayer(){return{heatmapLayer:p}}),this.setHeatmapLayerCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:ht,eventMap:ft,prevProps:p,nextProps:this.props,instance:this.state.heatmapLayer})}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),unregisterEvents(this.registeredEvents),this.state.heatmapLayer.setMap(null))}},{key:"render",value:function render(){return null}}]),HeatmapLayer}(q.PureComponent);mt.contextType=Q;var vt={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},jt={register:function register(p,b,y){p.registerPanoProvider(b,y)},links:function links(p,b){p.setLinks(b)},motionTracking:function motionTracking(p,b){p.setMotionTracking(b)},options:function options(p,b){p.setOptions(b)},pano:function pano(p,b){p.setPano(b)},position:function position(p,b){p.setPosition(b)},pov:function pov(p,b){p.setPov(b)},visible:function visible(p,b){p.setVisible(b)},zoom:function zoom(p,b){p.setZoom(b)}},yt=function(p){Object(D.a)(StreetViewPanorama,p);var b=Object(N.a)(StreetViewPanorama);function StreetViewPanorama(){var p;return Object(z.a)(this,StreetViewPanorama),(p=b.apply(this,arguments)).registeredEvents=[],p.state={streetViewPanorama:null},p.setStreetViewPanoramaCallback=function(){null!==p.state.streetViewPanorama&&p.props.onLoad&&p.props.onLoad(p.state.streetViewPanorama)},p}return Object(B.a)(StreetViewPanorama,[{key:"componentDidMount",value:function componentDidMount(){var p=this.context.getStreetView();this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:jt,eventMap:vt,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setStreetViewPanorama(){return{streetViewPanorama:p}}),this.setStreetViewPanoramaCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.streetViewPanorama&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:jt,eventMap:vt,prevProps:p,nextProps:this.props,instance:this.state.streetViewPanorama}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),unregisterEvents(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}},{key:"render",value:function render(){return null}}]),StreetViewPanorama}(q.PureComponent);yt.contextType=Q;var Ot=function(p){Object(D.a)(StreetViewService,p);var b=Object(N.a)(StreetViewService);function StreetViewService(){var p;return Object(z.a)(this,StreetViewService),(p=b.apply(this,arguments)).state={streetViewService:null},p.setStreetViewServiceCallback=function(){null!==p.state.streetViewService&&p.props.onLoad&&p.props.onLoad(p.state.streetViewService)},p}return Object(B.a)(StreetViewService,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.StreetViewService;this.setState((function setStreetViewService(){return{streetViewService:p}}),this.setStreetViewServiceCallback)}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}},{key:"render",value:function render(){return null}}]),StreetViewService}(q.PureComponent);Ot.contextType=Q;q.PureComponent;var xt={onDirectionsChanged:"directions_changed"},_t={directions:function directions(p,b){p.setDirections(b)},map:function map(p,b){p.setMap(b)},options:function options(p,b){p.setOptions(b)},panel:function panel(p,b){p.setPanel(b)},routeIndex:function routeIndex(p,b){p.setRouteIndex(b)}},wt=function(p){Object(D.a)(DirectionsRenderer,p);var b=Object(N.a)(DirectionsRenderer);function DirectionsRenderer(){var p;return Object(z.a)(this,DirectionsRenderer),(p=b.apply(this,arguments)).registeredEvents=[],p.state={directionsRenderer:null},p.setDirectionsRendererCallback=function(){null!==p.state.directionsRenderer&&(p.state.directionsRenderer.setMap(p.context),p.props.onLoad&&p.props.onLoad(p.state.directionsRenderer))},p}return Object(B.a)(DirectionsRenderer,[{key:"componentDidMount",value:function componentDidMount(){var p=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:_t,eventMap:xt,prevProps:{},nextProps:this.props,instance:p}),this.setState((function setDirectionsRenderer(){return{directionsRenderer:p}}),this.setDirectionsRendererCallback)}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.directionsRenderer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:_t,eventMap:xt,prevProps:p,nextProps:this.props,instance:this.state.directionsRenderer}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),unregisterEvents(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}},{key:"render",value:function render(){return q.createElement(q.Fragment,null)}}]),DirectionsRenderer}(q.PureComponent);wt.contextType=Q;q.PureComponent;var Ct={onPlacesChanged:"places_changed"},St={bounds:function bounds(p,b){p.setBounds(b)}},Et=function(p){Object(D.a)(StandaloneSearchBox,p);var b=Object(N.a)(StandaloneSearchBox);function StandaloneSearchBox(){var p;return Object(z.a)(this,StandaloneSearchBox),(p=b.apply(this,arguments)).registeredEvents=[],p.containerElement=q.createRef(),p.state={searchBox:null},p.setSearchBoxCallback=function(){null!==p.state.searchBox&&p.props.onLoad&&p.props.onLoad(p.state.searchBox)},p}return Object(B.a)(StandaloneSearchBox,[{key:"componentDidMount",value:function componentDidMount(){if(K(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var p=this.containerElement.current.querySelector("input");if(null!==p){var b=new google.maps.places.SearchBox(p,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:St,eventMap:Ct,prevProps:{},nextProps:this.props,instance:b}),this.setState((function setSearchBox(){return{searchBox:b}}),this.setSearchBoxCallback)}}}},{key:"componentDidUpdate",value:function componentDidUpdate(p){null!==this.state.searchBox&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:St,eventMap:Ct,prevProps:p,nextProps:this.props,instance:this.state.searchBox}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),unregisterEvents(this.registeredEvents))}},{key:"render",value:function render(){return q.createElement("div",{ref:this.containerElement},q.Children.only(this.props.children))}}]),StandaloneSearchBox}(q.PureComponent);Et.contextType=Q;var kt={onPlaceChanged:"place_changed"},Pt={bounds:function bounds(p,b){p.setBounds(b)},restrictions:function restrictions(p,b){p.setComponentRestrictions(b)},fields:function fields(p,b){p.setFields(b)},options:function options(p,b){p.setOptions(b)},types:function types(p,b){p.setTypes(b)}},It=function(p){Object(D.a)(Autocomplete,p);var b=Object(N.a)(Autocomplete);function Autocomplete(){var p;return Object(z.a)(this,Autocomplete),(p=b.apply(this,arguments)).registeredEvents=[],p.containerElement=q.createRef(),p.state={autocomplete:null},p.setAutocompleteCallback=function(){null!==p.state.autocomplete&&p.props.onLoad&&p.props.onLoad(p.state.autocomplete)},p}return Object(B.a)(Autocomplete,[{key:"componentDidMount",value:function componentDidMount(){K(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var p=this.containerElement.current.querySelector("input");if(p){var b=new google.maps.places.Autocomplete(p,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Pt,eventMap:kt,prevProps:{},nextProps:this.props,instance:b}),this.setState((function setAutocomplete(){return{autocomplete:b}}),this.setAutocompleteCallback)}}},{key:"componentDidUpdate",value:function componentDidUpdate(p){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:Pt,eventMap:kt,prevProps:p,nextProps:this.props,instance:this.state.autocomplete})}},{key:"componentWillUnmount",value:function componentWillUnmount(){null!==this.state.autocomplete&&unregisterEvents(this.registeredEvents)}},{key:"render",value:function render(){return q.createElement("div",{ref:this.containerElement,className:this.props.className||""},q.Children.only(this.props.children))}}]),Autocomplete}(q.PureComponent);It.contextType=Q},941:function(p,b,y){"use strict";var S=y(47),P=y(54);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var L=P(y(41)),T=(0,S(y(140)).default)(L.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");b.default=T},942:function(p,b,y){"use strict";var S=y(47),P=y(54);Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var L=P(y(41)),T=(0,S(y(140)).default)(L.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");b.default=T},943:function(p,b,y){"use strict";y.d(b,"a",(function(){return useLoadPrivateMap})),y.d(b,"b",(function(){return useLoadPublicMap}));var S,P=y(48),L=y(49),T=y(1),z=y.n(T),B=y(4),D=y(41),N=y(114),q=y(83),Z=y(50),K=y(64),Q=y(127),X=y(94),ne=y(89),re=y(237),ie=y(98);function useLoadPrivateMap(){var p=Object(Z.a)(),b=Object(Z.b)((function(p){return p.connections.myConnectionsStatus}));useLoadMap(X.k,ie.b.Private),Object(D.useEffect)((function(){b===K.b.Idle&&p(Object(ne.h)())}),[b,p])}function useLoadPublicMap(){var p=Object(Z.b)((function(p){return p.maps.currentMap})),b=null===p||void 0===p?void 0:p.token;useLoadMap(X.l,ie.b.Public),Object(D.useEffect)((function(){b&&Object(K.n)(Object(B.a)(z.a.mark((function _callee(){return z.a.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,b;case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}}),_callee)}))))}),[b])}function useLoadMap(p,b){var y=Object(N.g)(),T=Object(Z.a)(),z=Object(N.h)().mapId,B=Object(q.d)(),ne=Object(L.a)(B,1)[0],le=Object(Z.b)(re.h),se=Object(Z.b)((function(p){return p.maps.currentMap})),de=Object(Z.b)((function(p){return p.maps.currentMapStatus})),ue=Object(Z.b)((function(p){return p.builder.isLoading})),pe=Object(Z.b)((function(p){return p.maps.fetchMapError})),be=Object(Z.b)((function(p){return p.maps.currentMapDatasets})),ge=Object(Z.b)((function(p){var b,y;return null===(b=p.keplerGl.map)||void 0===b||null===(y=b.visState)||void 0===y?void 0:y.layers})),fe=Object(Z.b)((function(p){return p.connections.myConnectionsStatus})),he=null===se||void 0===se?void 0:se.id,me=Object(D.useState)(!1),ve=Object(L.a)(me,2),je=ve[0],ye=ve[1],Oe=Object(D.useCallback)((function(){T(Object(X.q)()),T(Object(Q.o)(void 0)),T(Object(Q.p)([])),T(Object(Q.u)()),T(Object(X.x)(void 0))}),[T]);Object(D.useEffect)((function(){return Oe(),function(){Oe()}}),[Oe]),Object(D.useEffect)((function(){T(Object(X.x)(b))}),[T,b]),Object(D.useEffect)((function(){var p=(b===ie.b.Public||b===ie.b.Private&&fe===K.b.Fulfilled)&&le;ye(p)}),[fe,le,b]);var xe=Object(D.useMemo)((function(){var p=ge?ge.map((function(p){return p.config.dataId})):[];return be.every((function(b){return b.status===K.b.Fulfilled&&p.includes(b.id)}))}),[be,ge]);Object(D.useEffect)((function(){var p=!ue&&b===ie.b.Private&&(!be.length||be.every((function(p){return p.status===K.b.Fulfilled})))&&xe;T(Object(X.t)(p))}),[de,be,xe,T,ue,b]),Object(D.useEffect)((function(){var p=de===K.b.Pending||be.length>0&&be.some((function(p){return p.status!==K.b.Fulfilled&&p.status!==K.b.Rejected}));Object(X.u)(p)})),Object(D.useEffect)((function(){404===(null===pe||void 0===pe?void 0:pe.status)||401===(null===pe||void 0===pe?void 0:pe.status)||403===(null===pe||void 0===pe?void 0:pe.status)?y("/404"):500===(null===pe||void 0===pe?void 0:pe.status)&&y("/500")}),[pe,y]),Object(D.useEffect)((function(){if(je)switch(function compareParamWithStore(p,b){if(p&&(!b||b!==p))return S.GET_MAP_DETAILS;if(!p&&b)return S.REDIRECT_TO_MAP_URL;if(!p&&!b)return S.CREATE_NEW_MAP;if(p&&b&&b===p)return S.LOAD_MAP_FROM_MAP_DETAILS}(z,he)){case S.CREATE_NEW_MAP:var L=function getLayerRequestFromSearchParams(p){var b=p.get("provider"),y=p.get("type"),S=p.get("source"),P=p.get("connection"),L=p.get("title");if(b&&y&&S&&P)return{provider:b,type:ie.c[y],source:S,connection:P,title:L}}(ne),B=(null===L||void 0===L?void 0:L.title)||void 0;B||(null===L||void 0===L?void 0:L.type)!==ie.c.query?!B&&(null===L||void 0===L?void 0:L.source)&&(B=L.source):B="Custom SQL query",T(Object(Q.c)(Object(P.a)({map:{title:B}},L&&{layer:L})));break;case S.REDIRECT_TO_MAP_URL:y("/builder/".concat(he),{replace:!0});break;case S.GET_MAP_DETAILS:T(Object(Q.m)({id:z,privacy:b}));break;case S.LOAD_MAP_FROM_MAP_DETAILS:T(p())}}),[z,b,ne,he,T,y,p,je])}!function(p){p[p.GET_MAP_DETAILS=0]="GET_MAP_DETAILS",p[p.REDIRECT_TO_MAP_URL=1]="REDIRECT_TO_MAP_URL",p[p.CREATE_NEW_MAP=2]="CREATE_NEW_MAP",p[p.LOAD_MAP_FROM_MAP_DETAILS=3]="LOAD_MAP_FROM_MAP_DETAILS"}(S||(S={}))},947:function(p,b,y){"use strict";var S=y(49),P=y(1081),L=y(2580),T=y(2537),z=y(2515),B=y(2514),D=y(50),N=y(64),q=y(41),Z=y(289),K=y(116),Q=y(97),X=y(354),ne=y(43),re=Object(P.a)((function(p){return{root:{"&.with-header":{marginTop:p.spacing(5)}},paper:{overflow:"hidden"},paperLight:{},paperDark:{backgroundColor:p.palette.primary.main,color:p.palette.common.white,"& $progress":{backgroundColor:Object(Q.alpha)(p.palette.common.white,.2)}},paperWithTitle:{width:p.spacing(40),"& $content":{padding:p.spacing(1,2,1.5,2)}},paperWithoutTitle:{"& $content":{padding:p.spacing(.75,2,1)},"& $progress":{height:p.spacing(.25)}},progress:{},content:{display:"flex",alignItems:"flex-start"},contentWithTitle:{},contentWithoutTitle:{alignItems:"center","& $contentText":{marginTop:p.spacing(.5)}},contentImage:{width:p.spacing(4),marginRight:p.spacing(1.5),marginTop:p.spacing(.5)},contentText:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}));b.a=function BuilderLoading(p){var b=p.dark,y=p.showMapTitle,P=p.vertical,Q=p.rootClassName,ie=re(),le=Object(D.b)((function(p){return p.maps.currentMapDatasets})),se=Object(D.b)((function(p){return p.maps.currentMapStatus})),de=Object(D.b)((function(p){var b;return null===(b=p.maps.currentMap)||void 0===b?void 0:b.title})),ue=Object(D.b)((function(p){return p.builder.isLoading})),pe=Object(q.useState)(10),be=Object(S.a)(pe,2),ge=be[0],fe=be[1];return Object(q.useEffect)((function(){document.title=K.a}),[]),Object(q.useEffect)((function(){if(se===N.b.Rejected)fe(100);else if(se!==N.b.Fulfilled)return;if(le.length){var p=le.filter((function(p){return p.status===N.b.Fulfilled})).length;fe(Math.max(Math.round(p/le.length*100),10))}else fe(100)}),[le,se]),Object(ne.jsx)(L.a,{anchorOrigin:{horizontal:"center",vertical:P||"bottom"},classes:{root:"".concat(ie.root," ").concat(Q||"")},open:ue,children:Object(ne.jsxs)(T.a,{elevation:4,classes:{root:[ie.paper,b?ie.paperDark:ie.paperLight,y?ie.paperWithTitle:ie.paperWithoutTitle].join(" ")},children:[Object(ne.jsx)(B.a,{variant:"determinate",value:ge,color:b?"secondary":"primary",classes:{root:ie.progress}}),y?Object(ne.jsxs)("div",{className:[ie.content,de?ie.contentWithTitle:ie.contentWithoutTitle].join(" "),children:[Object(ne.jsx)("img",{alt:"carto-logo-dot",className:ie.contentImage,src:X.a}),Object(ne.jsxs)("div",{className:ie.contentText,children:[!!de&&Object(ne.jsx)(z.a,{noWrap:!0,variant:"subtitle1",color:"inherit",children:de}),Object(ne.jsx)(z.a,{variant:"caption",color:"inherit",children:Object(ne.jsx)(Z.a,{id:"builder.loading.dataSources"})})]})]}):Object(ne.jsx)("div",{className:ie.content,children:Object(ne.jsx)(z.a,{noWrap:!0,variant:"caption",color:"inherit",children:Object(ne.jsx)(Z.a,{id:"builder.loading.dataSources"})})})]})})}},957:function(p,b,y){"use strict";var S=y(48),P=y(41),L=y.n(P),T=y(94),z=y(74),B=y(43);function CustomPanelHeaderFactory(){return function(){return Object(B.jsx)(B.Fragment,{})}}var D=y(61),N=y(977),q=y(116),Z=y(98),K=y(97),Q=y(130),X=Object(N.a)("div")((function(p){var b,y=p.theme;return b={transition:y.transitions.create("width",{easing:"ease",duration:250}),width:0,maxWidth:"80%",position:"relative","& .side-panel--container":{padding:0,width:0,backgroundColor:"transparent",transform:"translate(-".concat(q.o,")"),transition:y.transitions.create(["transform","box-shadow","background-color"],{easing:"ease",duration:250}),zIndex:991},"& .side-bar__close":{opacity:.6},"& .side-side-panel__header__bottom":{minHeight:y.spacing(6)},"& .side-bar, & .side-panel--container":{width:"".concat(q.o," !important"),maxWidth:"100%"},"& .side-bar":{boxShadow:"none"},"& .map-container":{"&:after":{pointerEvents:"none",zIndex:12,opacity:0,position:"absolute",content:'""',top:0,left:0,width:"100%",height:"100%",backgroundColor:Object(K.alpha)(y.palette.common.black,.4),transition:y.transitions.create("opacity",{easing:"ease",duration:250})}},"& + div":Object(D.a)({minWidth:0,flex:1,flexDirection:"column"},Q.a,{flexDirection:"row"}),"&.open":{flex:"0 0 ".concat(q.o),width:"".concat(q.o," !important"),"& .side-panel--container":{width:"".concat(q.o," !important"),boxShadow:y.shadows[1],transform:"none"},"& .map-container":{"&:after":{opacity:1}}}},Object(D.a)(b,Q.a,{"& .map-container":{"&:after":{display:"none"}}}),Object(D.a)(b,"&.close",{"& .side-bar__close":{display:"none"}}),Object(D.a)(b,"& .side-bar__inner",{flexDirection:"column-reverse",paddingTop:"calc(".concat(y.spacing(6),"px + 1px)"),"& .side-panel__content":{padding:0,"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},"& .side-panel__content__inner > div:first-of-type":{display:"flex",flexDirection:"row",alignItems:"center",position:"sticky",top:0,minHeight:y.spacing(6),margin:0,padding:y.spacing(0,2),zIndex:9999,"& button":{margin:y.spacing(0,1,0,0)}},"& .side-panel__content__inner > div:not(:first-of-type)":{marginTop:0,padding:y.spacing(2)}}),b}));function CustomSidebarFactory(p){var b=Object(z.SidebarFactory)(p),y=function CustomSidebar(p){return Object(B.jsx)(X,{className:"sidebar ".concat(p.isOpen?"open":"close"),children:p.privacyMode===Z.b.Private&&Object(B.jsx)(b,Object(S.a)({},p))})};return Object(z.withState)([],(function(p){return{privacyMode:p.builder.privacyMode}}),{})(L.a.memo(y))}CustomSidebarFactory.deps=[function CloseButtonFactory(){return function(){return Object(B.jsx)(B.Fragment,{})}}];var ne,re=y(70),ie=y(2583),le=y(2621),se=y(2593),de=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconMapsLayers(p,b){var y=p.title,S=p.titleId,L=_objectWithoutProperties(p,de);return P.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ne||(ne=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M11.4 2.2c.356-.267.844-.267 1.2 0l8 6c.533.4.533 1.2 0 1.6l-2.268 1.7 2.268 1.7c.498.373.531 1.094.1 1.514l-.1.085-8 6.001c-.32.24-.748.264-1.09.072l-.11-.072-8-6c-.498-.374-.53-1.096-.1-1.516l.1-.085 2.266-1.7-2.266-1.7c-.498-.373-.53-1.095-.1-1.515l.1-.085zM7.332 12.749l-1.666 1.25L12 18.75l6.333-4.751-1.667-1.249L12.6 15.8c-.32.24-.748.264-1.09.072l-.11-.072-4.068-3.051zM12 4.25L5.666 8.999 12 13.75l6.333-4.751L12 4.25z",transform:"translate(-216.000000, -168.000000) translate(168.202020, 168.000000) translate(47.797980, 0.000000)"})))))))}var ue,pe=P.forwardRef(SvgIconMapsLayers),be=(y.p,["title","titleId"]);function icon_widgets_options_extends(){return icon_widgets_options_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widgets_options_extends.apply(this,arguments)}function icon_widgets_options_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widgets_options_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetsOptions(p,b){var y=p.title,S=p.titleId,L=icon_widgets_options_objectWithoutProperties(p,be);return P.createElement("svg",icon_widgets_options_extends({width:24,height:24,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ue||(ue=P.createElement("g",{fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{d:"M14.25 2.25c.787 0 1.438.615 1.496 1.388l.004.112V9h-1.5V3.75H3.75v10.5H9v1.5H3.75a1.505 1.505 0 0 1-1.496-1.388l-.004-.112V3.75c0-.788.615-1.438 1.388-1.496l.112-.004h10.5zm-7.5 6v4.5h-1.5v-4.5h1.5zm3-3v7.5h-1.5v-7.5h1.5zm1.5.75h1.5v3h-1.5V6z"}),P.createElement("path",{d:"m15 10.5.225 1.125c.24.09.46.209.662.356l.148.117 1.087-.368.75 1.297-.855.75c.052.322.06.511.023.8l-.023.153.855.75-.75 1.297-1.087-.367a2.716 2.716 0 0 1-.634.4l-.176.073L15 18h-1.5l-.225-1.133a2.75 2.75 0 0 1-.662-.356l-.148-.116-1.088.367-.75-1.297.855-.75a2.43 2.43 0 0 1-.024-.77l.024-.175-.854-.75.75-1.297 1.087.367c.192-.162.403-.295.634-.4l.176-.072.225-1.118H15zm-.75 2.25c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5 1.5-.675 1.5-1.5-.675-1.5-1.5-1.5z"}))))}var ge,fe=P.forwardRef(SvgIconWidgetsOptions),he=(y.p,["title","titleId"]);function icon_ads_click_extends(){return icon_ads_click_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_ads_click_extends.apply(this,arguments)}function icon_ads_click_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_ads_click_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconAdsClick(p,b){var y=p.title,S=p.titleId,L=icon_ads_click_objectWithoutProperties(p,he);return P.createElement("svg",icon_ads_click_extends({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ge||(ge=P.createElement("g",{id:"_icon/action/ads_click_24px",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("path",{d:"M11.71,17.99 C8.53,17.84 6,15.22 6,12 C6,8.69 8.69,6 12,6 C15.22,6 17.84,8.53 17.99,11.71 L15.89,11.08 C15.48,9.31 13.89,8 12,8 C9.79,8 8,9.79 8,12 C8,13.89 9.31,15.48 11.08,15.89 L11.71,17.99 Z M22,12 C22,12.3 21.99,12.6 21.96,12.9 L19.99,12.31 C20,12.21 20,12.1 20,12 C20,7.58 16.42,4 12,4 C7.58,4 4,7.58 4,12 C4,16.42 7.58,20 12,20 C12.1,20 12.21,20 12.31,19.99 L12.9,21.96 C12.6,21.99 12.3,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 C17.52,2 22,6.48 22,12 Z M18.23,16.26 L22,15 L12,12 L15,22 L16.26,18.23 L20.53,22.5 L22.51,20.52 L18.23,16.26 Z",id:"Shape",fill:"#2C3032"}))))}var me,ve=P.forwardRef(SvgIconAdsClick),je=(y.p,y(275)),ye=y(49),Oe=y(1081),xe=y(729),_e=y(2515),we=y(2536),Ce=y(2519),Se=y(2518),Ee=y(50),ke=y(289),Pe=y(2537),Ie=y(2514),Le=y(119),Me=y(194),Te=["title","titleId"];function icon_action_delete_light_extends(){return icon_action_delete_light_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_delete_light_extends.apply(this,arguments)}function icon_action_delete_light_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_delete_light_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionDeleteLight(p,b){var y=p.title,S=p.titleId,L=icon_action_delete_light_objectWithoutProperties(p,Te);return P.createElement("svg",icon_action_delete_light_extends({width:"20px",height:"20px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,me||(me=P.createElement("g",{id:"CARTO-\\xB7-Used-outlined-icons",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("g",{id:"Icons---Outlined",transform:"translate(-600.000000, -1458.000000)",fill:"rgba(44,48,50,0.6)"},P.createElement("g",{id:"_ignore/icon_layout",transform:"translate(552.202020, 1458.000000)"},P.createElement("g",{id:"_icon/action/delete_24px",transform:"translate(47.797980, 0.000000)"},P.createElement("path",{d:"M16,9 L16,19 L8,19 L8,9 L16,9 L16,9 Z M14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 L15.5,4 L14.5,3 Z M18,7 L6,7 L6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 Z",id:"icon/action/delete_24px"})))))))}var Re,We=P.forwardRef(SvgIconActionDeleteLight),ze=(y.p,["title","titleId"]);function action_sql_extends(){return action_sql_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},action_sql_extends.apply(this,arguments)}function action_sql_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function action_sql_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgActionSql(p,b){var y=p.title,S=p.titleId,L=action_sql_objectWithoutProperties(p,ze);return P.createElement("svg",action_sql_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Re||(Re=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M12 2c.278 0 .554.005.826.013l.473.02.443.027.806.071.282.031c3.673.429 6.507 1.67 7.123 3.2l.047.13V10h-2V8.4c-1.824.972-4.728 1.6-8 1.6-3.271 0-6.175-.628-8-1.6l.001 9.579c.003-.015.012-.014.035.007l.124.118c.3.283.817.59 1.512.867C7.282 19.616 9.552 20 12 20h8.661c-1.729 1.196-4.96 2-8.661 2-5.415 0-9.824-1.721-9.995-3.87L2 18V5.493c.409-1.246 2.285-2.318 4.9-2.935l.475-.105.437-.086.368-.064.548-.084.062-.008c.441-.06.896-.108 1.361-.143l.53-.033.471-.02c.28-.01.563-.015.848-.015zm-2 10c.51 0 .935.388.993.884L11 13v1H9.5v-.5h-2v1H10c.51 0 .935.388.993.884L11 15.5V17c0 .51-.388.935-.884.993L10 18H7c-.51 0-.935-.388-.993-.884L6 17v-1h1.5v.5h2v-1H7c-.51 0-.935-.388-.993-.884L6 14.5V13c0-.51.388-.935.884-.993L7 12h3zm7 0c.51 0 .935.388.993.884L18 13v3.44l.966.644-.555.832-.584-.389c-.156.243-.402.423-.697.464L17 18h-4c-.51 0-.935-.388-.993-.884L12 17v-4c0-.51.388-.935.884-.993L13 12h4zm4.5 0v4.5H24V18h-4v-6h1.5zm-5 1.5h-3v3h2.787l-1.376-.834.555-.832 1.034.606V13.5zM12 4l-.416.004-.152.003c-1.515.04-2.926.235-4.108.506-.603.145-1.159.318-1.652.516-.618.246-1.095.516-1.404.772L4.051 6l.11.104c.299.283.816.59 1.51.867C7.284 7.616 9.554 8 12 8c2.447 0 4.717-.384 6.328-1.029.618-.246 1.095-.516 1.404-.772l.216-.2-.108-.103c-.3-.283-.817-.59-1.512-.867-.66-.265-1.431-.485-2.28-.653-.957-.183-2.035-.314-3.18-.359l-.494-.014L12 4z",transform:"translate(-216.000000, -488.000000) translate(168.202020, 488.000000) translate(47.797980, 0.000000)"})))))))}var Fe,Ae=P.forwardRef(SvgActionSql),Be=(y.p,["title","titleId"]);function icon_table_chart_extends(){return icon_table_chart_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_table_chart_extends.apply(this,arguments)}function icon_table_chart_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_table_chart_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconTableChart(p,b){var y=p.title,S=p.titleId,L=icon_table_chart_objectWithoutProperties(p,Be);return P.createElement("svg",icon_table_chart_extends({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Fe||(Fe=P.createElement("g",{id:"CARTO-\\xB7-Used-outlined-icons",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("g",{id:"Icons---Outlined",transform:"translate(-88.000000, -2827.000000)",fill:"#2C3032"},P.createElement("g",{id:"icon_layout-copy-44",transform:"translate(40.202020, 2827.000000)"},P.createElement("g",{id:"icon/navigation/expand_less_24px",transform:"translate(47.797980, 0.000000)"},P.createElement("path",{d:"M19.5,3 L4.5,3 C3.4,3 2.5,3.9 2.5,5 L2.5,19 C2.5,20.1 3.4,21 4.5,21 L19.5,21 C20.6,21 21.5,20.1 21.5,19 L21.5,5 C21.5,3.9 20.6,3 19.5,3 Z M19.5,5 L19.5,8 L4.5,8 L4.5,5 L19.5,5 Z M14.5,19 L9.5,19 L9.5,10 L14.5,10 L14.5,19 Z M4.5,10 L7.5,10 L7.5,19 L4.5,19 L4.5,10 Z M16.5,19 L16.5,10 L19.5,10 L19.5,19 L16.5,19 Z",id:"icon/editor/table_chart_24px"})))))))}var De=P.forwardRef(SvgIconTableChart),Ne=(y.p,y(274)),He=y(174),Ve=y(151),Ue=y(191),Ge=y(168),qe=Object(Oe.a)((function(p){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end","& > div":{marginLeft:p.spacing(.5)}}}}));function DatasetsListItemActions(p){var b=p.id,y=p.type,S=p.editSqlMode,L=p.layersQuotaExceeded,T=p.onClickDelete,z=p.onClickDatasetList,D=p.onClickAddLayer,N=p.onClickEditSql,q=p.showSourceOptions,K=void 0===q||q,Q=p.cancelled,X=void 0!==Q&&Q,ne=p.errorMessage,re=p.loading,ie=p.className,le=Object(Me.a)(),se=qe(p),de=Object(Ge.a)().sendErrorNotification,ue=y===Z.c.query,be=!!ne,ge=be||X,fe=y!==Z.c.tileset,he=Object(P.useMemo)((function(){return[fe&&{id:"show-table",label:le.formatMessage({id:"builder.datasetItem.showDataTable"}),icon:Object(B.jsx)(De,{}),disabled:!!re||ge},K&&ue&&{id:"open-sql",label:le.formatMessage({id:"builder.datasetItem.".concat(S?"closeSql":"openSql")}),icon:Object(B.jsx)(Ae,{})},K&&{id:"add-layer",label:le.formatMessage({id:"builder.datasetItem.addLayer"}),icon:Object(B.jsx)(pe,{}),disabled:!!re||L||ge},K&&{id:"delete",label:le.formatMessage({id:"builder.datasetItem.deleteSource"}),icon:Object(B.jsx)(We,{}),variant:"error",divider:!0}].filter((function(p){return!!p}))}),[le,K,ue,fe,S,re,L,ge]),me=Object(P.useCallback)((function(p,y){var S=p.id;switch(null===y||void 0===y||y.stopPropagation(),S){case"show-table":z(b);break;case"open-sql":N(b);break;case"add-layer":D(b);break;case"delete":T(b)}}),[z,N,D,T,b]),ve=Object(P.useCallback)((function(p){p.stopPropagation(),y===Z.c.query?S||N(b):ne&&de(ne)}),[b,N,S,y,ne,de]);return Object(B.jsxs)("div",{className:[se.root,ie||""].join(" "),children:[be&&Object(B.jsx)(He.a,{size:"small",onClick:ve,icon:Object(B.jsx)(Ne.a,{}),tooltip:S?"":le.formatMessage({id:"builder.datasetItem.showError"}),tooltipPlacement:"top",disabled:S,error:!0}),Object(B.jsx)(Ve.a,{onClickItem:me,placement:"bottom-end",menuItems:he,elevation:8,dense:!0,iconWithLabel:!0,ButtonComponent:function ButtonComponent(p){var b=p.onClick;return Object(B.jsx)(He.a,{onClick:function onClick(p){p.stopPropagation(),b(p)},icon:Object(B.jsx)(Ue.a,{}),tooltip:le.formatMessage({id:"builder.datasetItem.actionsTooltip"}),tooltipPlacement:"top",size:"small"})}})]})}var Je=L.a.memo(DatasetsListItemActions),Ze=y(64),$e=Object(Oe.a)((function(p){return{root:{overflow:"hidden"},pretitle:{display:"flex",alignItems:"center",minHeight:p.spacing(2)},type:{textTransform:"capitalize","&:after":{content:'"\xb7"',color:p.palette.text.secondary,margin:p.spacing(.25)}},title:{fontWeight:500,minHeight:"".concat(p.spacing(2.5),"px"),maxWidth:"100%"},titlePhantom:{opacity:0,position:"absolute",whiteSpace:"nowrap",pointerEvents:"none"},text:{textTransform:"uppercase",minHeight:"".concat(p.spacing(1.375),"px")}}}));var Ye=function DatasetsListItemName(p){var b=p.type,y=p.label,S=p.title,L=p.text,T=p.error,z=p.loading,D=p.className,N=$e(),q=Object(P.useState)(!1),Z=Object(ye.a)(q,2),K=Z[0],Q=Z[1],X=Object(P.useRef)(null),ne=Object(P.useRef)(null);return Object(P.useEffect)((function(){if((null===ne||void 0===ne?void 0:ne.current)&&(null===X||void 0===X?void 0:X.current)){var p=null===X||void 0===X?void 0:X.current.getBoundingClientRect(),b=null===ne||void 0===ne?void 0:ne.current.getBoundingClientRect();Q(b.width>p.width)}}),[Q,ne,X,S]),Object(B.jsxs)("div",{className:[N.root,D||""].join(" "),children:[Object(B.jsxs)(xe.a,{className:N.pretitle,mb:.5,children:[Object(B.jsx)(_e.a,{className:N.type,color:"primary",variant:"caption",children:b}),Object(B.jsx)(_e.a,{color:"textPrimary",variant:"caption",children:y})]}),Object(B.jsx)(_e.a,{ref:ne,className:[N.title,N.titlePhantom].join(" "),variant:"body2","aria-label":"source-title",children:S}),K?Object(B.jsx)(se.a,{title:S,children:Object(B.jsx)(_e.a,{ref:X,className:N.title,variant:"body2",component:"p",color:T?"error":z?"textSecondary":"textPrimary",noWrap:!0,children:S})}):Object(B.jsx)(_e.a,{ref:X,className:N.title,variant:"body2",component:"p",color:T?"error":z?"textSecondary":"textPrimary",noWrap:!0,children:S}),Object(B.jsx)(_e.a,{component:"p",className:N.text,variant:"overline",color:T?"error":"textSecondary","aria-label":"source-records",children:L})]})};function getSourceColor(p){var b=p.dataset,y=b.status,S=b.color;return S?y===Ze.b.Pending||y===Ze.b.Idle?"#e1e3e4":S:"#fff"}function getSourceLetter(p){var b=p.dataset,y=p.letter;return b.status!==Ze.b.Fulfilled&&b.status!==Ze.b.Rejected?'" "':'"'.concat(y,'"')}var Ke=Object(Oe.a)((function(p){return{root:{margin:p.spacing(2,0),position:"relative","&:after":{content:'""',position:"absolute",left:0,right:0,bottom:p.spacing(-1),borderBottom:"1px solid ".concat(p.palette.divider)},"&:first-child":{marginTop:0},"&:last-child":{marginBottom:0,"&:after":{display:"none"}},"&:before":{content:'""',position:"absolute",top:p.spacing(-.125),left:p.spacing(-.125),right:p.spacing(-.125),bottom:p.spacing(-.125),width:"auto",height:"auto",borderRadius:p.shape.borderRadius+1,border:"1px solid ".concat(p.palette.divider),pointerEvents:"none",zIndex:2,transition:p.transitions.create(["opacity","border"],{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.standard})},"&:not($rootError):not($rootSqlOpen):not($rootDisabled):hover":{"&:before":{opacity:0}},"&:not($rootDisabled):hover $paper":{boxShadow:p.shadows[2]}},rootError:{"& $paper":{backgroundColor:p.palette.error.relatedLight,color:p.palette.error.main,"& $title":{fontStyle:"italic"},"& $name span":{color:p.palette.error.dark}}},rootDisabled:{"& $paper":{cursor:"default"}},rootSqlOpen:{"&:before":{border:"2px solid ".concat(p.palette.secondary.main),top:p.spacing(-.25),left:p.spacing(-.25),bottom:p.spacing(-.25),right:p.spacing(-.25),borderRadius:p.shape.borderRadius+2}},paper:{overflow:"hidden",position:"relative",padding:p.spacing(1.5,2,1.5,3.5),display:"flex",alignItems:"center",cursor:"pointer","&:after":{content:getSourceLetter,width:p.spacing(2),position:"absolute",top:0,left:0,height:"100%",background:getSourceColor,display:"flex",justifyContent:"center",alignItems:"center",color:p.palette.common.white,fontFamily:"'Overpass Mono', monospace",textTransform:"uppercase",fontSize:p.spacing(1.5),fontWeight:600}},paperBody:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},name:{flex:1},actions:{minWidth:p.spacing(7)},linearProgress:{position:"absolute",left:0,top:0,height:p.spacing(.375),width:"100%",zIndex:1},sqlTag:{backgroundColor:p.palette.common.black,border:"none",padding:p.spacing(0,.5),color:p.palette.secondary.light,fontFamily:"'Overpass Mono', monospace",fontWeight:600,lineHeight:1.25,fontSize:p.spacing(1.5),borderRadius:p.spacing(.25),marginRight:p.spacing(1)}}}));function DatasetsListItem(p){var b=p.dataset,y=p.editSqlMode,P=p.layersQuotaExceeded,L=p.onClickDelete,T=p.onClickDatasetList,z=p.onClickAddLayer,D=p.onClickEditSql,N=p.showSourceOptions,q=void 0===N||N,K=b.id,Q=void 0===K?"":K,X=b.providerId,ne=b.label,re=void 0===ne?"":ne,ie=b.type,le=b.errorMessage,se=b.status,de=Object(Me.a)(),ue=Ke(p),pe=X?Object(Le.a)(X):null,be=se===Ze.b.Cancelled,ge=se===Ze.b.Rejected,fe=se===Ze.b.Fulfilled,he=void 0===se||se===Ze.b.Idle||se===Ze.b.Pending,me=function getNumRecords(p){var b,y,S;return p.status!==Ze.b.Fulfilled?null:p.type===Z.c.tileset?null===(y=p.metadata)||void 0===y||null===(S=y.tilestats)||void 0===S?void 0:S.count:null===(b=p.allIndexes)||void 0===b?void 0:b.length}(b),ve={id:Q,type:ie,editSqlMode:y,onClickDelete:L,onClickDatasetList:T,onClickAddLayer:z,onClickEditSql:D,showSourceOptions:q,errorMessage:le,layersQuotaExceeded:P,loading:he,className:ue.actions,cancelled:be};return Object(B.jsx)("div",{className:[ue.root,ge||be?ue.rootError:"",ge||be||he?ue.rootDisabled:"",y?ue.rootSqlOpen:""].join(" "),"aria-label":"dataset-list-item-".concat(re.toLowerCase()),id:re,children:Object(B.jsxs)(Pe.a,{className:ue.paper,elevation:0,onClick:function onClick(){fe&&T(Q)},children:[he&&Object(B.jsx)(Ie.a,{classes:{root:ue.linearProgress}}),Object(B.jsxs)("div",{className:ue.paperBody,children:[Object(B.jsx)(Ye,{label:(null===pe||void 0===pe?void 0:pe.label)?pe.label:de.formatMessage({id:"builder.datasetItem.providerPlaceholder"}),type:ie,title:re,text:he?de.formatMessage({id:"builder.datasetItem.loadingSource"}):fe&&me?de.formatMessage({id:"builder.datasetItem.records"},{records:me}):be?de.formatMessage({id:"builder.datasetItem.cancelled"}):ge?de.formatMessage({id:"builder.datasetItem.error"}):void 0,error:ge||be,loading:he,className:ue.name}),Object(B.jsx)(Je,Object(S.a)({},ve))]})]})})}var Qe=L.a.memo(DatasetsListItem),Xe=y(227),et=y(149),tt=y(164),nt=Object(Oe.a)((function(p){return{noSourcesMessage:{textAlign:"center",paddingTop:p.spacing(3),paddingBottom:p.spacing(3),fontSize:p.spacing(1.875),color:p.palette.grey[600]}}}));function DatasetsList(p){var b=p.mapId,y=p.layersQuotaExceeded,L=p.showSourceOptions,z=void 0===L||L,D=p.onChangeDatasetLength,N=nt(),q=Object(Ee.b)((function(p){return p.keplerGl.map.visState.datasets})),Z=Object(Ee.b)((function(p){return p.keplerGl.map.visState.layerClasses})),K=Object(Ee.b)((function(p){return p.maps.currentMapDatasets})),Q=Object(Ee.b)((function(p){return p.keplerGl.map.visState.layers})),X=Object(Ee.b)((function(p){return p.builder.sqlPanel})),ne=Object(Ee.a)(),re=Object(tt.a)(),ie=Object(P.useMemo)((function(){return K&&q?K.map((function(p){var b=p.id;return b&&b in q?Object(S.a)(Object(S.a)({},q[b]),p):p})):[]}),[K,q]);Object(P.useEffect)((function(){D&&D()}),[ie.length,D]);var le=function openDatasetList(p){ne(Object(et.showDatasetTable)(p))},se=function openDeletePopup(p){ne(Object(et.openDeleteModal)(p))},de=function addLayerFromDataset(p){var b=q&&q[p],y="Layer ".concat(Q.length+1),P=Object(Xe.a)({dataset:b,layerClasses:Z,label:y});ne(Object(et.addLayer)(Object(S.a)({},P)))},ue=function sqlEditor(p){X&&p==X.datasetId?ne(Object(T.j)()):ne(Object(T.B)({mapId:b,datasetId:p}))};return Object(B.jsx)(B.Fragment,{children:ie&&ie.length?ie.map((function(p,b){return Object(B.jsx)(Qe,{idx:b,letter:re[p.id],dataset:p,onClickAddLayer:de,onClickDatasetList:le,onClickDelete:se,onClickEditSql:ue,showSourceOptions:z,editSqlMode:(null===X||void 0===X?void 0:X.datasetId)===p.id,layersQuotaExceeded:y},p.id||b)})):Object(B.jsx)("div",{className:N.noSourcesMessage,children:Object(B.jsx)(ke.a,{id:"builder.addSources.noSourcesAdded"})})})}var rt,ot,at=L.a.memo(DatasetsList),it=y(2551),lt=y(2556),ct=y(1386),st=y(2555),dt=y(2557),ut=y(2554),pt=y(531),bt=y(2535),gt=y(2539),ft=y(2538),ht=y(2512),mt=y(2543),vt=y(2546),jt=y(433),yt=["title","titleId"];function icon_action_open_in_new_extends(){return icon_action_open_in_new_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_open_in_new_extends.apply(this,arguments)}function icon_action_open_in_new_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_open_in_new_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionOpenInNew(p,b){var y=p.title,S=p.titleId,L=icon_action_open_in_new_objectWithoutProperties(p,yt);return P.createElement("svg",icon_action_open_in_new_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,rt||(rt=P.createElement("defs",null,P.createElement("filter",{id:"qm7l9xf3la",colorInterpolationFilters:"auto"},P.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 0.011765 0 0 0 0 0.435294 0 0 0 0 0.886275 0 0 0 1.000000 0"})))),ot||(ot=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",{filter:"url(#qm7l9xf3la)",transform:"translate(-308.000000, -363.000000) translate(152.000000, 80.000000) translate(16.000000, 128.000000) translate(0.000000, 48.000000) translate(24.000000, 24.000000) translate(0.000000, 80.000000)"},P.createElement("g",null,P.createElement("g",{fill:"#2C3032"},P.createElement("path",{d:"M14.25 14.25H3.75V3.75H9v-1.5H3.75c-.833 0-1.5.675-1.5 1.5v10.5c0 .825.667 1.5 1.5 1.5h10.5c.825 0 1.5-.675 1.5-1.5V9h-1.5v5.25zm-3.75-12v1.5h2.693L5.82 11.123l1.058 1.057 7.372-7.372V7.5h1.5V2.25H10.5z",transform:"translate(12.000000, 3.000000) translate(104.000000, 0.000000)"}))))))))))))}var Ot=P.forwardRef(SvgIconActionOpenInNew),xt=(y.p,y(89)),_t=y(131),wt=y(101),Ct=y(239),St=Object(Oe.a)((function(p){return{overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:9,backgroundColor:Object(K.alpha)(p.palette.grey[50],.75)},root:{position:"absolute",left:0,top:0,right:0,zIndex:10,backgroundColor:p.palette.grey[50],borderBottom:"1px solid ".concat(p.palette.divider),maxHeight:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",'& > div:nth-child(2)[class*="entered"]':{overflowY:"auto"}},rootDisabled:{backgroundColor:"".concat(p.palette.grey[50]," !important")},rootExpanded:{margin:"0 !important"},summaryRoot:{minHeight:"".concat(p.spacing(6),"px !important"),borderBottom:"1px solid transparent",padding:p.spacing(0,1.5)},summaryDisabled:{opacity:"1 !important"},summaryRootIcon:{transformOrigin:"50% 50%"},summaryRootExpanded:{paddingLeft:p.spacing(3),"& $summaryRootExpanded":{paddingLeft:0}},summaryRootOnScroll:{borderBottomColor:p.palette.divider},summaryContent:{margin:"".concat(p.spacing(1.5,0)," !important"),alignItems:"center"},summaryIcon:{width:p.spacing(2.5),height:p.spacing(2.5),"& svg path":{fillOpacity:.6}},connectionSelectText:{fontWeight:500},connectionSelectIcon:{borderRadius:p.spacing(.25),backgroundColor:Object(K.alpha)(p.palette.primary.main,.08),"&, & svg":{width:p.spacing(3),height:p.spacing(3)}},connectionSelectIconLarge:{borderRadius:p.spacing(.5),"&, & svg":{width:p.spacing(5),height:p.spacing(5)}},details:{padding:p.spacing(1,3,4)},cardRoot:{position:"relative","&:before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,border:"1px solid ".concat(p.palette.divider),borderRadius:p.spacing(.5),transition:p.transitions.create(["opacity","border"],{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.standard})}},cardRootActive:{"&:before":{border:"2px solid ".concat(p.palette.primary.main)}},cardRootActionable:{cursor:"pointer","&:hover":{boxShadow:p.shadows[2],"&:before":{opacity:0}}},card:{padding:p.spacing(1.25)},cardAvatar:{marginRight:p.spacing(1.5)},cardContent:{overflow:"hidden"},cardTitle:{fontWeight:500},manageButton:{marginTop:p.spacing(.5)}}}));var Et,kt=function ConnectionSelector(){var p,b=Object(Me.a)(),y=St(),S=Object(Ee.a)(),L=Object(Ee.b)((function(p){return p.connections.myConnections})),T=Object(Ee.b)((function(p){return p.connections.defaultConnection})),z=Object(P.useState)(!1),D=Object(ye.a)(z,2),N=D[0],q=D[1],Z=Object(P.useRef)(null),K=Object(P.useState)(!1),Q=Object(ye.a)(K,2),X=Q[0],ne=Q[1],re=null===T||void 0===T?void 0:T.carto_dw;return Object(P.useEffect)((function(){if(!T&&L.length){var p=Object(Ct.a)(_t.c);if(p){var b;try{b=L.find((function(b){return b.id===p.id}))}catch(y){console.warn("Error parsing defaultConnetion from localStorage")}b||Object(Ct.b)(_t.c),S(Object(xt.r)(b))}}}),[T,L,S]),Object(P.useEffect)((function(){q(!T)}),[T]),Object(P.useEffect)((function(){var p;if(Z.current){var b=(null===(p=Z.current)||void 0===p?void 0:p.childNodes)[1];if(b){var y=function scrollListener(){ne((null===b||void 0===b?void 0:b.scrollTop)>2)};return b.addEventListener("scroll",y),function(){null===b||void 0===b||b.removeEventListener("scroll",y)}}}}),[ne,Z]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(xe.a,{pt:6.25}),N&&Object(B.jsx)("div",{className:y.overlay,onClick:function onClick(){(null===L||void 0===L?void 0:L.length)&&q(!1)}}),Object(B.jsxs)(bt.a,{classes:{root:y.root,expanded:y.rootExpanded,disabled:y.rootDisabled},expanded:N,elevation:0,onChange:function onChange(p,b){return q(b)},disabled:!L.length,ref:Z,square:!0,children:[Object(B.jsx)(gt.a,{classes:{root:[y.summaryRoot,X?y.summaryRootOnScroll:""].join(" "),content:y.summaryContent,expanded:y.summaryRootExpanded,expandIcon:y.summaryRootIcon,disabled:y.summaryDisabled},expandIcon:Object(B.jsx)(jt.a,{}),IconButtonProps:{edge:!1,classes:{label:y.summaryIcon}},"aria-controls":"switch-connection-content",id:"switch-connection-header",children:T&&!N?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(xe.a,{mr:1,className:y.connectionSelectIcon,children:null===(p=Object(Le.a)(re?_t.f.CARTO:T.provider_id))||void 0===p?void 0:p.icon}),Object(B.jsx)(se.a,{arrow:!0,placement:"top",title:b.formatMessage({id:"builder.addSources.switchConnection"}),children:Object(B.jsx)(_e.a,{className:y.connectionSelectText,variant:"body2",color:"textPrimary",children:re?wt.a:T.name})})]}):Object(B.jsx)(_e.a,{variant:"body2",color:"textSecondary",children:Object(B.jsx)(ke.a,{id:"builder.addSources.".concat((null===L||void 0===L?void 0:L.length)?"selectConnection":"noConnection")})})}),Object(B.jsx)(ft.a,{classes:{root:y.details},children:Object(B.jsxs)(ht.a,{container:!0,spacing:2,children:[L.map((function(p){var b=p.carto_dw,P=b?wt.a:p.name,L=Object(Le.a)(b?_t.f.CARTO:p.provider_id);return Object(B.jsx)(ht.a,{item:!0,xs:12,sm:6,md:5,children:Object(B.jsx)(mt.a,{onClick:function onClick(){S(Object(xt.r)(p)),q(!1)},classes:{root:[y.cardRoot,(null===T||void 0===T?void 0:T.id)!==p.id?y.cardRootActionable:y.cardRootActive].join(" ")},elevation:0,children:Object(B.jsx)(vt.a,{"aria-label":"select-connection-option",id:p.name,avatar:Object(B.jsx)(xe.a,{className:[y.connectionSelectIcon,y.connectionSelectIconLarge].join(" "),children:null===L||void 0===L?void 0:L.icon}),title:null===L||void 0===L?void 0:L.label,titleTypographyProps:{variant:"caption",color:"primary"},subheader:P,subheaderTypographyProps:{variant:"body2",color:"textPrimary",noWrap:!0},classes:{root:y.card,avatar:y.cardAvatar,title:y.cardTitle,content:y.cardContent}})})},p.id)})),Object(B.jsx)(ht.a,{item:!0,xs:12,children:Object(B.jsx)(Ce.a,{classes:{root:y.manageButton},component:"a",endIcon:Object(B.jsx)(Ot,{}),href:"/connections",color:"primary",variant:"outlined",size:"small",target:"_blank",rel:"noopener noreferrer",children:b.formatMessage({id:"builder.addSources.manageConnections"})})})]})})]})]})},Pt=y(133),It=y(125),Lt=y(110),Mt=y(308),Tt=y(353),Rt=Object(Oe.a)((function(p){return{root:{position:"relative",height:"100%",display:"flex",flexDirection:"column"},tree:{padding:p.spacing(.25,.25,1,4),overflowY:"auto",flex:1},loader:{position:"absolute",top:"55%",transform:"translateY(-50%)"},info:{textAlign:"right"},infoTitle:{marginBottom:p.spacing(.5),display:"flex",justifyContent:"flex-end",alignItems:"center","& svg":{marginRight:p.spacing(.5)},"& p":{fontWeight:500}}}}));!function(p){p[p.WaitingSelectObject=0]="WaitingSelectObject",p[p.FetchingMetadata=1]="FetchingMetadata",p[p.ReadyToAdd=2]="ReadyToAdd",p[p.ReadyToAddAsQuery=3]="ReadyToAddAsQuery",p[p.Adding=4]="Adding"}(Et||(Et={}));var Wt,zt=function BuilderAddTableOrTileset(p,b){var y=p.mapId,L=p.onClose,z=p.setLoading,D=p.setDisabled,N=p.setAfterTabsContent,q=p.setButtonLabelId,K=Rt(),Q=Object(Me.a)(),X=Object(Ee.a)(),ne=Object(Ee.b)((function(p){return p.connections.defaultConnection})),re=Object(Ee.b)((function(p){return p.dataExplorer.currentTable})),ie=Object(Ee.b)((function(p){return p.dataExplorer.currentTableStatus})),le=Object(Ee.b)((function(p){return p.dataExplorer.dataExplorerTreeStatus})),se=Object(It.a)(),de=Object(P.useState)(),ue=Object(ye.a)(de,2),pe=ue[0],be=ue[1],ge=Object(P.useState)(Et.WaitingSelectObject),fe=Object(ye.a)(ge,2),he=fe[0],me=fe[1],ve=Object(P.useState)(!1),je=Object(ye.a)(ve,2),Oe=je[0],we=je[1],Ce=Object(P.useCallback)((function(){pe&&(X(Object(T.e)(Object(S.a)(Object(S.a)({},pe),{},{mapId:y}))),L())}),[X,pe,y,L]);return Object(P.useEffect)((function(){D(he!==Et.ReadyToAdd&&he!==Et.ReadyToAddAsQuery),z(he===Et.FetchingMetadata?Q.formatMessage({id:"builder.addSources.analyzing"}):he===Et.Adding)}),[D,z,he,Q]),Object(P.useEffect)((function(){if(re&&he===Et.FetchingMetadata&&ie===Ze.b.Fulfilled&&pe){var p=Object(Tt.a)(re,se);if(p){var b=Object(Mt.d)({provider:pe.provider,table:pe.source,fields:re.schema.map((function(p){return p.name})).join(","),nrows:re.nrows,dataLimits:p});be(Object(S.a)(Object(S.a)({},pe),{},{type:Z.c.query,source:b})),me(Et.ReadyToAddAsQuery)}else me(Et.ReadyToAdd)}}),[re,se,z,he,ie,pe]),Object(P.useImperativeHandle)(b,(function(){return{onSuccess:Ce}}),[Ce]),Object(P.useEffect)((function(){ne&&we(!0)}),[ne,we]),Object(P.useEffect)((function(){Oe&&le!==Ze.b.Pending&&we(!1)}),[le,Oe,we]),Object(P.useEffect)((function(){he===Et.ReadyToAddAsQuery?(N(function getErrorMsg(p){return Object(B.jsxs)("div",{className:p.info,children:[Object(B.jsxs)("div",{className:p.infoTitle,children:[Object(B.jsx)(Ne.a,{}),Object(B.jsx)(_e.a,{variant:"body2",color:"textPrimary",children:Object(B.jsx)(ke.a,{id:"builder.addSources.tooLarge.title",values:{resource:"table"}})})]}),Object(B.jsx)(_e.a,{variant:"caption",color:"textSecondary",children:Object(B.jsx)(ke.a,{id:"builder.addSources.tooLarge.message",values:{createTilesetLink:Object(B.jsx)(Se.a,{href:"https://docs.carto.com/spatial-extension-bq/examples/creating-simple-tilesets/",target:"_blank",rel:"noopener noreferrer",children:Object(B.jsx)(ke.a,{id:"builder.addSources.tooLarge.link"})})}})})]})}(K)),q("builder.addSources.tooLarge.add")):(N(null),q(null))}),[he,N,q,K]),Object(B.jsxs)(xe.a,{className:K.root,children:[Object(B.jsx)(kt,{}),ne&&Object(B.jsx)(xe.a,{className:K.tree,"aria-label":"data-tree-view",children:Oe?Object(B.jsx)(Lt.a,{className:K.loader,labelId:"builder.addSources.loading"}):Object(B.jsx)(pt.a,{onClick:function onClickDataTree(p){if(ne){var b=p.source,y=p.type,S=p.infoLink,P=ne.provider_id,L=ne.name;be({provider:P,type:y,connection:L,source:b}),y===wt.j.Tileset?me(Et.ReadyToAdd):y==wt.j.Table&&(X(Object(Pt.k)({link:S,object:y})),me(Et.FetchingMetadata))}},connectionId:ne.id})})]})},Ft=Object(P.forwardRef)(zt),At=y(1395),Bt=y(2562),Dt=y(2626),Nt=y.p+"static/media/add-sources-sql.ee059f99.svg",Ht=y(938),Vt=y(9),Ut=Object(Oe.a)((function(p){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",height:"100%",position:"relative"},connectionRoot:{flex:1,overflowY:"auto","&::-webkit-scrollbar-thumb":{backgroundColor:Object(K.alpha)(p.palette.common.black,.4)}},radioWrapper:{backgroundColor:p.palette.common.black,borderRadius:p.spacing(.625),padding:p.spacing(1.5),margin:0,width:"100%",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:"100%",height:"100%",opacity:0,top:0,left:0,zIndex:5,borderRadius:p.spacing(.5),border:"2px solid ".concat(p.palette.secondary.main),transition:p.transitions.create("opacity",{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.shortest})}},radioWrapperSelected:{"&:after":{opacity:1},"& $radioLabelTitle":{color:p.palette.common.white}},radioLabel:{display:"flex",flex:1,paddingRight:p.spacing(1),color:Object(K.alpha)(p.palette.common.white,.6)},radioLabelTitle:{fontWeight:500,transition:p.transitions.create("color",{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.shortest})},radio:{color:Object(K.alpha)(p.palette.common.white,.6),"&$checked":{color:p.palette.secondary.main}},radioCustomImg:{borderRadius:p.spacing(.5),position:"relative",overflow:"hidden",marginRight:p.spacing(1.5),"&, & img":{width:p.spacing(5),height:p.spacing(5)},"&:after":{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",borderRadius:p.spacing(.5),border:"1px solid ".concat(Object(K.alpha)(p.palette.common.white,.12))}},radioTemplateWrapper:{minHeight:p.spacing(16),alignItems:"flex-end","& $radioLabel":{padding:p.spacing(.5)},"& $radioLabelTitle, & $radio":{zIndex:3},"&:before":{content:'""',position:"absolute",zIndex:2,left:0,right:0,bottom:0,height:p.spacing(8),backgroundImage:"linear-gradient(to bottom, rgba(44, 48, 50, 0), rgba(44, 48, 50, 0.5) 38%, rgba(44, 48, 50, 1))"}},radioTemplateImage:{position:"absolute",left:p.spacing(2),right:p.spacing(2),top:0,bottom:0,backgroundPosition:"center",backgroundSize:"cover",zIndex:1},divider:{marginTop:p.spacing(1)},btnRightWrapper:Object(D.a)({},p.breakpoints.up("sm"),{textAlign:"right"})}})),Gt=function BuilderAddCustomQuery(p,b){var y=p.mapId,S=p.onClose,L=p.setDisabled,z=Object(Me.a)(),D=Ut(),N=Object(Ee.a)(),q=Object(Ee.b)((function(p){return p.connections.defaultConnection})),Z=Object(P.useState)(""),K=Object(ye.a)(Z,2),Q=K[0],X=K[1],ne=Object(P.useCallback)((function(){q&&(N(Object(T.B)({datasetId:void 0,connection:q.name,provider:q.provider_id,query:Q,mapId:y})),S())}),[N,S,q,Q,y]);Object(P.useImperativeHandle)(b,(function(){return{onSuccess:ne}}),[ne]),Object(P.useEffect)((function(){L(!q)}),[L,q]);var re=(null===q||void 0===q?void 0:q.provider_id)===xt.f.BIGQUERY;return Object(B.jsxs)("div",{className:D.root,children:[Object(B.jsx)(kt,{}),!!q&&Object(B.jsx)("div",{className:D.connectionRoot,children:Object(B.jsx)(xe.a,{p:3,children:Object(B.jsx)(At.a,{"aria-label":"gender",name:"gender1",value:Q,onChange:function handleChangeSource(p){X(p.target.value)},children:Object(B.jsxs)(ht.a,{container:!0,spacing:2,children:[Object(B.jsx)(ht.a,{item:!0,xs:12,sm:6,md:4,children:Object(B.jsx)(Bt.a,{value:"",control:Object(B.jsx)(Dt.a,{color:"secondary",classes:{root:D.radio}}),classes:{root:[D.radioWrapper,Q?"":D.radioWrapperSelected].join(" "),label:D.radioLabel},label:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{className:D.radioCustomImg,children:Object(B.jsx)("img",{src:Nt})}),Object(B.jsxs)("div",{children:[Object(B.jsx)(_e.a,{color:"inherit",variant:"caption",children:z.formatMessage({id:"builder.addSources.sql"})}),Object(B.jsx)(_e.a,{className:D.radioLabelTitle,color:"inherit",variant:"body2",children:z.formatMessage({id:"builder.addSources.typeYourQuery"})})]})]}),labelPlacement:"start"})}),Object(B.jsx)(ht.a,{item:!0,xs:12,sm:6,md:8,className:D.btnRightWrapper,children:Object(B.jsx)(Ce.a,{component:"a",endIcon:Object(B.jsx)(Ot,{}),href:"https://docs.carto.com/carto-user-manual/maps/add-source/#custom-queries-using-the-analytics-toolbox",color:"primary",variant:"outlined",size:"small",target:"_blank",rel:"noopener noreferrer",children:z.formatMessage({id:"builder.addSources.learnSpatialSql"})})}),Object(B.jsx)(ht.a,{item:!0,xs:12,children:Object(B.jsx)(dt.a,{className:D.divider})}),re&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ht.a,{item:!0,xs:12,children:Object(B.jsx)(_e.a,{variant:"body2",color:"textSecondary",children:z.formatMessage({id:"builder.addSources.queryTemplates"})})}),Ht.map((function(p){return Object(B.jsx)(ht.a,{item:!0,xs:12,sm:6,md:4,children:Object(B.jsx)(Bt.a,{value:p.query,control:Object(B.jsx)(Dt.a,{color:"secondary",classes:{root:D.radio}}),classes:{root:[D.radioWrapper,D.radioTemplateWrapper,Q===p.query?D.radioWrapperSelected:""].join(" "),label:D.radioLabel},label:Object(B.jsxs)(B.Fragment,{children:[!!p.image&&Object(B.jsx)("div",{className:D.radioTemplateImage,style:{backgroundImage:"url(".concat(Vt.a.publicUrl,"/builder/query-templates/").concat(p.image,")")}}),Object(B.jsx)(_e.a,{className:D.radioLabelTitle,color:"inherit",variant:"body2",children:p.label})]}),labelPlacement:"start"})},p.key)}))]})]})})})})]})},qt=Object(P.forwardRef)(Gt),Jt=y(235),Zt=y(111),$t=["title","titleId"];function icon_data_observatory_extends(){return icon_data_observatory_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_data_observatory_extends.apply(this,arguments)}function icon_data_observatory_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_data_observatory_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconDataObservatory(p,b){var y=p.title,S=p.titleId,L=icon_data_observatory_objectWithoutProperties(p,$t);return P.createElement("svg",icon_data_observatory_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Wt||(Wt=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M14.962 2.083l3.75 6.496c.23.398.094.908-.305 1.138l-2.887 1.667c-.398.23-.908.093-1.138-.305l-.07-.12-1.897.894c.056.206.085.423.085.647 0 .63-.233 1.207-.619 1.646l2.356 4.187h-1.912l-1.895-3.37c-.14.024-.283.037-.43.037-.146 0-.29-.013-.43-.037l-1.896 3.37h-1.91l2.354-4.188c-.054-.061-.105-.126-.153-.193l-.523.245c-.392.185-.86.038-1.077-.337l-.034-.058-2.164 1.25c-.399.23-.908.094-1.139-.305l-1.25-2.165c-.23-.399-.093-.908.305-1.138l2.165-1.251-.033-.057c-.216-.375-.11-.854.247-1.101L10.7 4.704l-.069-.12c-.23-.4-.093-.909.305-1.139l2.887-1.667c.398-.23.908-.093 1.138.305zM10 11.667c-.46 0-.833.373-.833.833 0 .46.373.833.833.833.46 0 .833-.373.833-.833 0-.46-.373-.833-.833-.833zm-4.92-.03l-1.443.833.417.722 1.443-.834-.416-.721zm6.457-5.485L6.042 9.966l1.383 2.396.081-.038C7.596 11.026 8.678 10 10 10c.542 0 1.043.172 1.452.465l2.024-.955-1.939-3.358zm2.398-2.514l-1.443.833 2.916 5.052 1.444-.833-2.917-5.052z",transform:"translate(-392.000000, -332.000000) translate(370.000000, 208.000000) translate(0.000000, 8.000000) translate(0.000000, 108.000000) translate(22.000000, 8.000000) translate(0.000000, -0.000000)"}))))))))))}var Yt,Kt=P.forwardRef(SvgIconDataObservatory),Qt=(y.p,["title","titleId"]);function icon_file_file_upload_extends(){return icon_file_file_upload_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_file_file_upload_extends.apply(this,arguments)}function icon_file_file_upload_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_file_file_upload_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconFileFileUpload(p,b){var y=p.title,S=p.titleId,L=icon_file_file_upload_objectWithoutProperties(p,Qt);return P.createElement("svg",icon_file_file_upload_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Yt||(Yt=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z",transform:"translate(-216.000000, -1533.000000) translate(168.202020, 1533.000000) translate(47.797980, 0.000000)"})))))))}var Xt,en=P.forwardRef(SvgIconFileFileUpload),tn=(y.p,y(519)),nn=y(123),rn=y(172),an=y(177),ln=y(520),cn=["title","titleId"];function icon_navigation_arrow_back_no_color_extends(){return icon_navigation_arrow_back_no_color_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_navigation_arrow_back_no_color_extends.apply(this,arguments)}function icon_navigation_arrow_back_no_color_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_navigation_arrow_back_no_color_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconNavigationArrowBackNoColor(p,b){var y=p.title,S=p.titleId,L=icon_navigation_arrow_back_no_color_objectWithoutProperties(p,cn);return P.createElement("svg",icon_navigation_arrow_back_no_color_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Xt||(Xt=P.createElement("path",{d:"M20 11L7.83 11 13.42 5.41 12 4 4 12 12 20 13.41 18.59 7.83 13 20 13z",transform:"translate(-366 -78) translate(360 72) translate(6 6)"})))}var sn=P.forwardRef(SvgIconNavigationArrowBackNoColor);y.p;var dn=function BuilderImportConfirmation(p){var b=p.connection,y=p.destination,S=p.data,L=p.onGoBack,T=p.setDisabled;return Object(P.useEffect)((function(){T(!1)}),[T]),Object(B.jsxs)(xe.a,{p:3,pt:2,children:[Object(B.jsx)(ln.a,{connection:b,destination:y,data:S}),Object(B.jsx)(xe.a,{mt:2,children:Object(B.jsx)(Ce.a,{variant:"text",color:"primary",size:"small",onClick:L,startIcon:Object(B.jsx)(sn,{width:"18",height:"18",style:{fill:"currentColor"}}),children:Object(B.jsx)(ke.a,{id:"builder.addSources.import.changeFile"})})})]})},un=y(535),pn=y(521);var bn=function BuilderImportDatasetFile(p){var b=p.connection,y=p.destination,S=p.form,L=p.onContinue,T=p.setDisabled,z=S.formState,D=Object(pn.a)({connection:b,destination:y,form:S,onContinue:L}),N=D.onFileChange,q=D.onTableNameChange,Z=D.handleContinue,K=D.isCheckingDatasetAlreadyExists,Q=D.doesDatasetAlreadyExists,X=D.doesDatasetAlreadyExistsError;return Object(P.useEffect)((function(){T(!0)}),[T]),Object(B.jsxs)(xe.a,{p:3,pt:2,children:[Object(B.jsx)(un.a,{connection:b,form:S,onFileChange:N,onTableNameChange:q,showDatasetAlreadyExistsMessage:Q,messageError:X}),Object(B.jsx)(xe.a,{mt:2,ml:14.25,children:Object(B.jsx)(Zt.a,{"aria-label":"continue to confirmation",labelId:"common.button.continue",loading:K,variant:"outlined",color:"primary",size:"small",disabled:!z.isValid,endIcon:Object(B.jsx)(sn,{width:"18",height:"18",style:{transform:"rotate(180deg)",fill:"currentColor"}}),onClick:Z})})]})},gn=["handleSubmit"],fn=function BuilderImportFormSteps(p,b){var y=p.connection,S=p.destination,L=p.setDisabled,T=Object(Ee.a)(),z=Object(P.useState)(1),D=Object(ye.a)(z,2),N=D[0],q=D[1],Z=Object(rn.b)({mode:"onChange"}),K=Z.handleSubmit,Q=Object(nn.a)(Z,gn),X=Object(P.useState)(),ne=Object(ye.a)(X,2),re=ne[0],ie=ne[1],le=Object(Ee.b)((function(p){return p.maps.currentMap})),se=Object(P.useCallback)((function(){re&&y&&T(Object(an.c)({connection:y.name,destination:S,name:re.name,file:re.file,createLayerAfterJobImportedForMap:null===le||void 0===le?void 0:le.id}))}),[y,null===le||void 0===le?void 0:le.id,S,T,re]);return Object(P.useImperativeHandle)(b,(function(){return{onImportFile:se}}),[se]),Object(B.jsxs)("form",{onSubmit:K(se),style:{height:"100%",overflowY:"auto"},children:[1===N&&Object(B.jsx)(bn,{connection:y,destination:S,form:Q,onContinue:function handleFileSelected(p,b){ie({name:b,file:p}),q(N+1)},setDisabled:L}),re&&2===N&&Object(B.jsx)(dn,{connection:y,destination:S,data:re,onGoBack:function goBackFromConfirmation(){q(1)},setDisabled:L})]})},hn=Object(P.forwardRef)(fn),mn=y(152),vn=y(2623),jn=y(107),yn=y(284);var On=function BuilderImportProgress(p){var b=p.job,y=p.mapId,S=p.setDisabled,L=p.setDisabledCancel,T=p.onClose,z=p.setButtonLabelId,D=p.connection,N=Object(Ee.a)(),q=Object(mn.a)();return Object(P.useEffect)((function(){var p=b.status;p===jn.d.Pending?(z("jobs.datasets.status.running"),S(!0),L(!0)):p===jn.d.Failure?(z("builder.addSources.import.importAndAddSource"),S(!0),L(!1)):p===jn.d.Success&&T()}),[null===D||void 0===D?void 0:D.name,null===D||void 0===D?void 0:D.provider_id,N,b.destination,b.name,b.status,y,T,z,S,L]),Object(B.jsxs)(xe.a,{p:3,pt:2,display:"flex",flexDirection:"column",height:"100%",children:[Object(B.jsxs)(_e.a,{variant:"body2",color:"textSecondary",children:[b.status===jn.d.Pending&&Object(B.jsx)(ke.a,{id:"builder.addSources.import.importingDescription"}),b.status===jn.d.Failure&&Object(B.jsx)(ke.a,{id:"builder.addSources.import.importingError"})]}),Object(B.jsxs)(xe.a,{margin:"auto",width:q.spacing(61),children:[Object(B.jsx)(yn.a,{job:b,inlineMode:!0}),b.status===jn.d.Failure&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(xe.a,{mt:3,children:Object(B.jsx)(vn.a,{severity:"error",children:b.error})}),Object(B.jsx)(xe.a,{mt:3,children:Object(B.jsx)(Ce.a,{variant:"outlined",color:"primary",size:"small","aria-label":"tryAgain",onClick:function handleTryAgain(){N(Object(an.h)(void 0))},children:Object(B.jsx)(ke.a,{id:"common.button.tryAgain"})})})]})]})]})},xn=function BuilderImportFile(p,b){var y=p.setButtonLabelId,S=p.setDisabled,L=p.setDisabledCancel,T=p.onClose,z=p.mapId,D=Object(tn.a)(),N=D.connection,q=D.destination,Z=D.currentImportingJob,K=Object(P.useRef)(null),Q=Object(P.useCallback)((function(){var p;(null===K||void 0===K||null===(p=K.current)||void 0===p?void 0:p.onImportFile)&&K.current.onImportFile()}),[]);return Object(P.useImperativeHandle)(b,(function(){return{onSuccess:Q}}),[Q]),Object(P.useEffect)((function(){y("builder.addSources.import.importAndAddSource")}),[y]),Z?Object(B.jsx)(On,{job:Z,setButtonLabelId:y,setDisabled:S,setDisabledCancel:L,onClose:T,mapId:z,connection:N}):Object(B.jsx)(hn,{ref:K,connection:N,destination:q,setDisabled:S})},_n=Object(P.forwardRef)(xn),wn=Object(Oe.a)((function(p){return{dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:p.spacing(2,2,2,3)},closeBtn:{padding:p.spacing(.75)},dialogContent:{padding:p.spacing(0,2)},divider:{margin:p.spacing(0,-2,2)},content:{backgroundColor:p.palette.grey[50],borderRadius:p.spacing(.5),height:p.spacing(40),overflow:"hidden"},tab:{minHeight:p.spacing(6),padding:p.spacing(0,1.5),margin:0},tabWrapper:{flexDirection:"row","& svg":{margin:"".concat(p.spacing(0,.75,0,0)," !important"),width:p.spacing(2.25),height:p.spacing(2.25),"&, & path":{fill:"currentColor"}}},dialogActions:{padding:p.spacing(2)}}}));var Cn=function BuilderAddSources(p){var b=p.mapId,y=p.open,L=p.handleClose,T=wn(),z=Object(Me.a)(),D=Object(P.useState)(0),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Object(P.useState)(!1),Q=Object(ye.a)(K,2),X=Q[0],ne=Q[1],re=Object(P.useState)(!0),se=Object(ye.a)(re,2),de=se[0],ue=se[1],pe=Object(P.useState)(!1),be=Object(ye.a)(pe,2),ge=be[0],fe=be[1],he=Object(P.useState)(null),me=Object(ye.a)(he,2),ve=me[0],je=me[1],Oe=Object(P.useState)(null),we=Object(ye.a)(Oe,2),Se=we[0],Ee=we[1],Pe=Object(P.useRef)(null);Object(P.useEffect)((function(){ne(!1),je(null),Ee(null)}),[q,ne,je,Ee]);var Ie=Object(P.useMemo)((function(){return{classes:{root:T.tab,wrapper:T.tabWrapper}}}),[T]);return Object(B.jsxs)(it.a,{fullWidth:!0,maxWidth:"md",open:y,scroll:"body",onClose:L,children:[Object(B.jsxs)(lt.a,{disableTypography:!0,classes:{root:T.dialogTitle},children:[Object(B.jsx)(_e.a,{variant:"subtitle1",color:"textPrimary",component:"h2",children:Object(B.jsx)(ke.a,{id:"builder.addSources.title"})}),Object(B.jsx)(ct.a,{classes:{root:T.closeBtn},onClick:L,children:Object(B.jsx)(Jt.a,{})})]}),Object(B.jsxs)(st.a,{classes:{root:T.dialogContent},children:[Object(B.jsxs)(le.a,{value:q,indicatorColor:"primary",textColor:"primary",onChange:function onChange(p,b){Z(b)},"aria-label":"disabled tabs example",children:[Object(B.jsx)(ie.a,Object(S.a)(Object(S.a)({},Ie),{},{icon:Object(B.jsx)(De,{}),disabled:!!X,label:z.formatMessage({id:"builder.addSources.tableOrTileset"}),"aria-label":"add-table-source-tab"})),Object(B.jsx)(ie.a,Object(S.a)(Object(S.a)({},Ie),{},{icon:Object(B.jsx)(Ae,{}),disabled:!!X,label:z.formatMessage({id:"builder.addSources.customQuery"}),"aria-label":"add-sql-source-tab"})),Object(B.jsx)(ie.a,Object(S.a)(Object(S.a)({},Ie),{},{icon:Object(B.jsx)(en,{}),disabled:!!X,label:z.formatMessage({id:"builder.addSources.importFile"}),"aria-label":"import-file-source-tab"})),Object(B.jsx)(ie.a,Object(S.a)(Object(S.a)({},Ie),{},{icon:Object(B.jsx)(Kt,{}),disabled:!0,label:z.formatMessage({id:"builder.addSources.dataObservatory"})}))]}),Object(B.jsx)(dt.a,{className:T.divider}),Object(B.jsxs)("div",{className:T.content,children:[0===q&&Object(B.jsx)(Ft,{ref:Pe,mapId:b,onClose:L,setLoading:ne,setDisabled:ue,setDisabledCancel:fe,setAfterTabsContent:je,setButtonLabelId:Ee}),1===q&&Object(B.jsx)(qt,{ref:Pe,mapId:b,onClose:L,setLoading:ne,setDisabled:ue,setDisabledCancel:fe,setAfterTabsContent:je,setButtonLabelId:Ee}),2===q&&Object(B.jsx)(_n,{ref:Pe,mapId:b,onClose:L,setLoading:ne,setDisabled:ue,setDisabledCancel:fe,setAfterTabsContent:je,setButtonLabelId:Ee})]}),!!ve&&Object(B.jsx)(xe.a,{pt:2,children:ve})]}),Object(B.jsxs)(ut.a,{classes:{root:T.dialogActions},children:[Object(B.jsx)(Ce.a,{color:"primary",disabled:ge,onClick:L,children:Object(B.jsx)(ke.a,{id:"common.button.cancel"})}),Object(B.jsx)(Zt.a,{onClick:function onClick(){var p;(null===Pe||void 0===Pe||null===(p=Pe.current)||void 0===p?void 0:p.onSuccess)&&Pe.current.onSuccess()},color:"primary",disabled:de,loading:X,labelId:Se||"builder.addSources.button.addSource",variant:"contained","aria-label":"add-source-button"})]})]})};var Sn=function useUserMapQuotasInfo(){var p=Object(Ee.b)((function(p){var b,y,S;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.visState)||void 0===S?void 0:S.layers}))||[],b=Object(It.a)(),y=(null===b||void 0===b?void 0:b.quotas)||{};return Object(P.useMemo)((function(){return{account:{name:null===b||void 0===b?void 0:b.name},maxLayersQuota:{current:p.length,limit:y.max_layers,exceeded:p.length>=y.max_layers}}}),[null===b||void 0===b?void 0:b.name,p.length,y.max_layers])},En=Object(Oe.a)((function(p){return{dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:p.spacing(2,2,2,3)},closeBtn:{padding:p.spacing(.75)},dialogContent:{color:p.palette.text.secondary,padding:p.spacing(1,3,2,3),lineHeight:1.54,letterSpacing:"0.25px"},quotaLimitUnderstoodButton:{float:"right",marginTop:p.spacing(5)}}}));function LayersQuotaExceededModal(p){var b=p.onClose,y=p.maxLayers,S=p.open,P=void 0!==S&&S,L=En();return Object(B.jsxs)(it.a,{open:P,children:[Object(B.jsxs)(lt.a,{disableTypography:!0,classes:{root:L.dialogTitle},children:[Object(B.jsx)(_e.a,{variant:"subtitle1",color:"textPrimary",component:"h2",children:Object(B.jsx)(ke.a,{id:"builder.mapQuota.layersQuotaExceeded"})}),Object(B.jsx)(ct.a,{classes:{root:L.closeBtn},onClick:b,children:Object(B.jsx)(Jt.a,{})})]}),Object(B.jsxs)(st.a,{classes:{root:L.dialogContent},children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(ke.a,{id:"builder.mapQuota.layersQuotaExceededMessage.line1",values:{maxLayers:y}}),Object(B.jsx)("br",{}),Object(B.jsx)("br",{}),Object(B.jsx)(ke.a,{id:"builder.mapQuota.layersQuotaExceededMessage.line2"})]}),Object(B.jsx)(Ce.a,{color:"primary",onClick:b,className:L.quotaLimitUnderstoodButton,children:Object(B.jsx)(ke.a,{id:"builder.mapQuota.button.understood"})})]})]})}var kn,Pn=L.a.memo(LayersQuotaExceededModal),In=y(507),Ln=["title","titleId"];function icon_data_extends(){return icon_data_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_data_extends.apply(this,arguments)}function icon_data_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_data_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconData(p,b){var y=p.title,S=p.titleId,L=icon_data_objectWithoutProperties(p,Ln);return P.createElement("svg",icon_data_extends({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,kn||(kn=P.createElement("g",{stroke:"none",strokeWidth:1,fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{d:"M12,2 C12.4170562,2 12.8286837,2.01021233 13.2333172,2.03004593 C13.2546803,2.03117086 13.2766819,2.03228242 13.2986611,2.03342252 C13.596387,2.04872517 13.8897982,2.06928432 14.1787509,2.09480218 C14.1939666,2.09656579 14.2096263,2.09797328 14.2252721,2.09939544 C14.2976823,2.10549688 14.3694266,2.1123104 14.4408812,2.11942859 C14.4765018,2.12358231 14.5121548,2.12724397 14.5477303,2.13098207 C14.6196161,2.13781942 14.6910756,2.14561154 14.7622255,2.15370783 C14.7845744,2.15711429 14.8075256,2.15978252 14.8304425,2.16248271 C18.5029354,2.59084032 21.3369651,3.83136263 21.9530552,5.36198688 L22,5.49261893 L22,18 C22,20.209139 17.5228475,22 12,22 C6.58544363,22 2.17597664,20.2786803 2.00513809,18.1294566 L2,18 L2,5.49261893 C2.42396197,4.2009662 4.42573986,3.0953752 7.1941013,2.49126602 C7.20557681,2.48884484 7.21660421,2.4864341 7.22764418,2.48403143 C7.27634062,2.4734462 7.32564615,2.46299055 7.37518593,2.45269388 C7.51864164,2.42257338 7.66426626,2.39391579 7.81183355,2.36665427 C7.85819563,2.3586632 7.90413278,2.35037623 7.95024572,2.3422233 C8.01120234,2.33078137 8.0729526,2.32012473 8.135021,2.30971133 C8.15008476,2.30791007 8.16508464,2.30541686 8.18010216,2.30293775 C8.3602065,2.2723985 8.54299922,2.24463576 8.72826268,2.21899021 C8.74890654,2.21697751 8.76959676,2.21414418 8.79031601,2.21133714 C9.37791281,2.13088741 9.99005241,2.07253361 10.6209809,2.03772339 C10.641365,2.0369171 10.6611047,2.03584508 10.6808613,2.03479624 C10.8364991,2.02628531 10.9939103,2.01948718 11.1523726,2.01416706 C11.4315807,2.00484286 11.7145288,2 12,2 Z M12,16 C8.72888198,16 5.82459945,15.3717562 4.00013368,14.4004611 L4,18 C4,17.9643842 4.00479662,17.9584965 4.03603352,17.9856444 L4.16006542,18.1038698 C4.45972721,18.3872618 4.97731607,18.6937148 5.67171354,18.9714737 C7.28294958,19.6159682 9.55283271,20 12,20 C14.4471673,20 16.7170504,19.6159682 18.3282865,18.9714737 C18.9455287,18.7245769 19.4230702,18.4550082 19.7320323,18.1991169 L19.9639665,17.9856444 C19.9873942,17.9652835 19.9959492,17.9635051 19.9987625,17.9789139 L20,18 L20.0008785,14.3999222 C18.1764748,15.3715238 15.271723,16 12,16 Z M12,10 C8.72888198,10 5.82459945,9.37175621 4.00013368,8.40046113 L4,12 L4.051,12 L4.16006542,12.1038698 C4.45972721,12.3872618 4.97731607,12.6937148 5.67171354,12.9714737 C7.28294958,13.6159682 9.55283271,14 12,14 C14.4471673,14 16.7170504,13.6159682 18.3282865,12.9714737 C18.9455287,12.7245769 19.4230702,12.4550082 19.7320323,12.1991169 L19.948,12 L20,12 L20.0008785,8.39992219 C18.1764748,9.37152381 15.271723,10 12,10 Z M12,4 L11.5844707,4.00398746 C11.5336627,4.00496105 11.4829669,4.00611028 11.4323878,4.00743224 C11.3747844,4.00831992 11.317763,4.00992533 11.2608681,4.01173844 L11.4323878,4.00743224 C9.91682601,4.04704363 8.50608643,4.24173645 7.32398962,4.51303998 C6.72061854,4.6581244 6.16526524,4.83110558 5.67171354,5.02852626 C5.05447135,5.27542314 4.57692978,5.54499179 4.26796765,5.80088309 L4.051,6 L4.16006542,6.10386979 C4.45972721,6.3872618 4.97731607,6.69371476 5.67171354,6.97147374 C7.28294958,7.61596816 9.55283271,8 12,8 C14.4471673,8 16.7170504,7.61596816 18.3282865,6.97147374 C18.9455287,6.72457686 19.4230702,6.45500821 19.7320323,6.19911691 L19.948,5.999 L19.8399346,5.89613021 C19.5402728,5.6127382 19.0226839,5.30628524 18.3282865,5.02852626 C17.6677524,4.76431262 16.896524,4.5438731 16.0477666,4.37572142 C14.9542394,4.16744195 13.7028903,4.02583498 12.373915,4.00318987 L12.3738718,4.00299467 L12,4 Z"}))))}var Mn=P.forwardRef(SvgIconData),Tn=(y.p,y(501)),Rn=Object(Oe.a)((function(p){return{dataLoader:{backgroundColor:p.palette.common.white,borderTop:"1px solid ".concat(p.palette.divider)},dataLoaderHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:p.spacing(1.5,1.5,1.5,2),borderBottom:"1px solid ".concat(p.palette.common.white)},dataLoaderHeaderOnScroll:{borderBottomColor:p.palette.divider},dataLoaderTitle:{display:"flex",alignItems:"center","& svg":{width:p.spacing(2.25)}},title:{textTransform:"uppercase",marginLeft:p.spacing(1)},iconArrowListVisible:{transform:"rotate(180deg)",transformOrigin:"50% 50%"},dataLoaderWrapper:{maxHeight:p.spacing(30.75),overflowY:"auto",overflowX:"hidden"},dataLoaderWrapperInner:{padding:p.spacing(0,2),opacity:0,transition:p.transitions.create("opacity",{easing:p.transitions.easing.easeInOut,duration:p.transitions.duration.short})},dataLoaderWrapperEntered:{"& $dataLoaderWrapperInner":{opacity:1}},datasetList:{padding:p.spacing(1,0)},addSourceWrapper:{padding:p.spacing(2,2,3,2),borderTop:"1px solid transparent"},addSourceWrapperOnScroll:{borderTopColor:p.palette.divider},addSourceButton:{height:p.spacing(4),letterSpacing:"0.25px","& svg":{width:p.spacing(2.25),"& path":{fill:"currentColor"}}},layersQuotaExceeded:{marginTop:p.spacing(1),height:p.spacing(4),borderRadius:p.spacing(.5),color:p.palette.warning.relatedDark,background:p.palette.warning.relatedLight,fontWeight:500,lineHeight:1.45,letterSpacing:"0.2px",display:"flex",alignItems:"center",padding:p.spacing(0,1.375),"& svg":{marginRight:p.spacing(.75),color:p.palette.warning.main}},layersLimitExceededReadMore:{color:"".concat(p.palette.warning.relatedDark," !important"),position:"absolute",right:p.spacing(3.5),cursor:"pointer"}}}));function DataLoader(p){var b=p.showSourceOptions,y=void 0===b||b,S=Rn(),L=Object(P.useState)(!0),T=Object(ye.a)(L,2),z=T[0],D=T[1],N=Object(P.useState)(!1),q=Object(ye.a)(N,2),Z=q[0],K=q[1],Q=Object(P.useState)(!1),X=Object(ye.a)(Q,2),ne=X[0],re=X[1],ie=Object(Ee.b)((function(p){return p.maps.currentMapDatasets})),le=Object(Ee.b)((function(p){return p.maps.currentMap})),se=Object(P.useRef)(null),de=Object(P.useState)(!1),ue=Object(ye.a)(de,2),pe=ue[0],be=ue[1],ge=Sn().maxLayersQuota,fe=!ge.exceeded,he=Object(P.useState)(!1),me=Object(ye.a)(he,2),ve=me[0],je=me[1],Oe=Object(P.useMemo)((function(){return(null===se||void 0===se?void 0:se.current)?se.current.firstChild:null}),[se.current]);Object(P.useEffect)((function(){if(Oe){var p=Oe.querySelector("div[data-height]"),b=function scrollListener(){var b,y,S=null===Oe||void 0===Oe||null===(b=Oe.getBoundingClientRect())||void 0===b?void 0:b.height,P=null===p||void 0===p||null===(y=p.getBoundingClientRect())||void 0===y?void 0:y.height,L=null===Oe||void 0===Oe?void 0:Oe.scrollTop;be(L>2),je(P>S&&P-S-L>2)};return Oe.addEventListener("scroll",b),function(){null===Oe||void 0===Oe||Oe.removeEventListener("scroll",b)}}}),[be,je,Oe]);var Pe=Object(P.useCallback)((function(){Oe&&Oe.dispatchEvent(new CustomEvent("scroll"))}),[Oe]);return(null===le||void 0===le?void 0:le.id)?Object(B.jsxs)(xe.a,{className:S.dataLoader,children:[Object(B.jsxs)("div",{className:[S.dataLoaderHeader,z&&pe?S.dataLoaderHeaderOnScroll:""].join(" "),children:[Object(B.jsxs)("div",{className:S.dataLoaderTitle,children:[Object(B.jsx)(Mn,{}),Object(B.jsxs)(_e.a,{color:"textPrimary",className:S.title,variant:"overline",children:[Object(B.jsx)(ke.a,{id:"builder.loaderSelector.title"})," (",ie.length,")"]})]}),Object(B.jsxs)(xe.a,{pl:2,children:[y&&!z&&Object(B.jsx)(He.a,{size:"small",onClick:function onClick(){return K(!0)},icon:Object(B.jsx)(In.a,{})}),Object(B.jsx)(He.a,{className:z?"":S.iconArrowListVisible,size:"small",onClick:function onClick(){return D(!z)},icon:Object(B.jsx)(jt.a,{})})]})]}),Object(B.jsx)(we.a,{ref:se,collapsedSize:16,in:z,classes:{wrapper:S.dataLoaderWrapper,wrapperInner:S.dataLoaderWrapperInner,entered:S.dataLoaderWrapperEntered},children:Object(B.jsx)("div",{className:S.datasetList,"data-height":!0,children:Object(B.jsx)(at,{mapId:le.id,showSourceOptions:y,layersQuotaExceeded:ge.exceeded,onChangeDatasetLength:Pe})})}),y&&z&&Object(B.jsxs)("div",{className:[S.addSourceWrapper,ve?S.addSourceWrapperOnScroll:""].join(" "),children:[Object(B.jsx)(Ce.a,{variant:"contained",color:"primary",disabled:!fe,"aria-label":"open-add-source-button",onClick:function onClick(){return fe&&K(!0)},startIcon:Object(B.jsx)(In.a,{fontSize:"small"}),className:S.addSourceButton,fullWidth:!0,children:Object(B.jsx)(ke.a,{id:"builder.addSources.button.addSourceFrom"})}),ge.exceeded&&Object(B.jsxs)("div",{className:S.layersQuotaExceeded,children:[Object(B.jsx)(Tn.a,{}),Object(B.jsx)(ke.a,{id:"builder.mapQuota.layersQuotaExceeded"}),Object(B.jsx)(Se.a,{className:S.layersLimitExceededReadMore,onClick:function onClick(){return re(!0)},children:Object(B.jsx)(ke.a,{id:"builder.mapQuota.readMore"})})]})]}),Z&&Object(B.jsx)(Cn,{mapId:le.id,open:Z,handleClose:function handleClose(){return K(!1)}}),ne&&Object(B.jsx)(Pn,{open:ne,maxLayers:ge.limit,onClose:function onClose(){return re(!1)}})]}):null}var Wn=L.a.memo(DataLoader),zn=Object(N.a)("div")((function(p){var b=p.theme;return{borderBottom:"1px solid ".concat(b.palette.divider),paddingLeft:b.spacing(2),backgroundColor:b.palette.common.white,position:"absolute",top:0,left:0,width:"100%"}})),Fn=Object(re.a)((function(){return{root:{margin:0},wrapper:{"& svg, & svg path":{fill:"currentColor"},"& svg":{transform:"scale(0.75)",transformOrigin:"50% 50%"}}}}))(ie.a);function CustomPanelToggleFactory(){return function CustomPanelToggle(p){var b=p.panels,y=p.activePanel,S=p.togglePanel,L=["layer"].includes(y),T=Object(P.useMemo)((function(){return{layer:{icon:Object(B.jsx)(pe,{}),name:Object(B.jsx)(ke.a,{id:"builder.tabsPanels.layer"})},filter:{icon:Object(B.jsx)(fe,{}),name:Object(B.jsx)(ke.a,{id:"builder.tabsPanels.filter"})},widgets:{icon:Object(B.jsx)(fe,{}),name:Object(B.jsx)(ke.a,{id:"builder.tabsPanels.filter"})},interaction:{icon:Object(B.jsx)(ve,{}),name:Object(B.jsx)(ke.a,{id:"builder.tabsPanels.interaction"})},map:{icon:Object(B.jsx)(je.a,{}),name:Object(B.jsx)(ke.a,{id:"builder.tabsPanels.map"})}}}),[]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(zn,{children:Object(B.jsx)(le.a,{value:y,onChange:function onChange(p,b){return S(b)},children:b.map((function(p){return Object(B.jsx)(Fn,{value:p.id,label:Object(B.jsx)(se.a,{arrow:!0,title:T[p.id].name,placement:"bottom",children:T[p.id].icon})},p.id)}))})}),L&&Object(B.jsx)(Wn,{showSourceOptions:"layer"===y})]})}}function CustomLayerBlendingSelectorFactory(){return function(){return null}}var An,Bn=y(93),Dn=y(62),Nn=y(117),Hn=["title","titleId"];function carto_icon_maps_layers_big_primary_extends(){return carto_icon_maps_layers_big_primary_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},carto_icon_maps_layers_big_primary_extends.apply(this,arguments)}function carto_icon_maps_layers_big_primary_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function carto_icon_maps_layers_big_primary_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgCartoIconMapsLayersBigPrimary(p,b){var y=p.title,S=p.titleId,L=carto_icon_maps_layers_big_primary_objectWithoutProperties(p,Hn);return P.createElement("svg",carto_icon_maps_layers_big_primary_extends({xmlns:"http://www.w3.org/2000/svg",width:72,height:72,viewBox:"0 0 72 72",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,An||(An=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M0 0H72V72H0z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"}),P.createElement("path",{fill:"#036FE2",fillOpacity:.08,fillRule:"nonzero",stroke:"#024D9E",strokeWidth:2,d:"M35.93 7.001c.39-.013.785.087 1.129.302h0l24.14 18.095c.514.385.78.955.8 1.533.019.572-.205 1.153-.673 1.565h0L53.333 34.5l7.867 5.898c.513.385.78.955.799 1.533.019.572-.205 1.152-.673 1.564h0L37.2 61.6c-.336.252-.731.385-1.13.399-.39.013-.785-.087-1.13-.302h0L10.8 43.598c-.513-.385-.78-.955-.799-1.533-.019-.572.205-1.152.673-1.564h0l7.99-6.002-7.864-5.9c-.513-.386-.78-.956-.799-1.534-.019-.572.205-1.152.673-1.564h0L34.8 7.4c.336-.252.731-.385 1.13-.399z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"}),P.createElement("path",{fill:"#F8F9F9",fillRule:"nonzero",stroke:"#358BE7",strokeWidth:2,d:"M36 7c.422 0 .844.133 1.2.4h0l24 17.998c.533.4.8 1 .8 1.6 0 .6-.267 1.2-.8 1.6h0L37.2 46.6c-.355.267-.778.4-1.2.4-.422 0-.845-.133-1.2-.4h0l-24-18.002c-.533-.4-.8-1-.8-1.6 0-.6.267-1.2.8-1.6h0L34.8 7.4c.356-.267.778-.4 1.2-.4z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"})))))))}var Vn,Un=P.forwardRef(SvgCartoIconMapsLayersBigPrimary),Gn=(y.p,["title","titleId"]);function carto_icon_maps_layers_big_grey_extends(){return carto_icon_maps_layers_big_grey_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},carto_icon_maps_layers_big_grey_extends.apply(this,arguments)}function carto_icon_maps_layers_big_grey_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function carto_icon_maps_layers_big_grey_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgCartoIconMapsLayersBigGrey(p,b){var y=p.title,S=p.titleId,L=carto_icon_maps_layers_big_grey_objectWithoutProperties(p,Gn);return P.createElement("svg",carto_icon_maps_layers_big_grey_extends({xmlns:"http://www.w3.org/2000/svg",width:72,height:72,viewBox:"0 0 72 72",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Vn||(Vn=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M0 0H72V72H0z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"}),P.createElement("path",{fill:"#FFF",fillRule:"nonzero",stroke:"#9DA2A6",strokeWidth:2,d:"M35.93 7.001c.39-.013.785.087 1.129.302h0l24.14 18.095c.514.385.78.955.8 1.533.019.572-.205 1.153-.673 1.565h0L53.333 34.5l7.867 5.898c.513.385.78.955.799 1.533.019.572-.205 1.152-.673 1.564h0L37.2 61.6c-.336.252-.731.385-1.13.399-.39.013-.785-.087-1.13-.302h0L10.8 43.598c-.513-.385-.78-.955-.799-1.533-.019-.572.205-1.152.673-1.564h0l7.99-6.002-7.864-5.9c-.513-.386-.78-.956-.799-1.534-.019-.572.205-1.152.673-1.564h0L34.8 7.4c.336-.252.731-.385 1.13-.399z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"}),P.createElement("path",{fill:"#F8F9F9",fillRule:"nonzero",stroke:"#CBCDCF",strokeWidth:2,d:"M36 7c.422 0 .844.133 1.2.4h0l24 17.998c.533.4.8 1 .8 1.6 0 .6-.267 1.2-.8 1.6h0L37.2 46.6c-.355.267-.778.4-1.2.4-.422 0-.845-.133-1.2-.4h0l-24-18.002c-.533-.4-.8-1-.8-1.6 0-.6.267-1.2.8-1.6h0L34.8 7.4c.356-.267.778-.4 1.2-.4z",transform:"translate(-124.000000, -216.000000) translate(48.000000, 216.000000) translate(76.000000, 0.000000)"})))))))}var qn,Jn,Zn,$n,Yn=P.forwardRef(SvgCartoIconMapsLayersBigGrey),Kn=(y.p,Dn.default.div(qn||(qn=Object(Bn.a)(["\n  padding-top: "," !important;\n\n  .add-data-button,\n  .add-data-button ~ .side-panel-divider,\n  .source-data-catalog,\n  .add-layer-button {\n    display: none;\n  }\n"])),Nn.a.spacing(0))),Qn=Object(Dn.default)(vn.a)(Jn||(Jn=Object(Bn.a)(["\n  margin: ",";\n  padding: "," !important;\n  font-size: 12px;\n"])),Nn.a.spacing(.5,2,1),Nn.a.spacing(0,2)),Xn=Dn.default.div(Zn||(Zn=Object(Bn.a)(["\n  padding: "," !important;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  svg {\n    margin-bottom: ","px;\n  }\n"])),Nn.a.spacing(9,6,6),Nn.a.spacing(1));function CustomLayerManagerFactory(){var p=z.LayerManagerFactory.apply(void 0,arguments),b=function CustomLayerManager(b){var y=b.currentMapDatasets,L=b.isBuilderLoading,T=b.keplerDatasets,z=b.layers,D=Object(P.useMemo)((function(){return z?z.map((function(p){return p.config.dataId})):[]}),[z]),N=y.filter((function(p){return p.status===Ze.b.Rejected&&!(p.id in T)||p.status===Ze.b.Fulfilled&&!D.includes(p.id)})).length;return Object(B.jsxs)(B.Fragment,{children:[!L&&N>0&&Object(B.jsx)(Qn,{severity:"error",children:Object(B.jsx)(ke.a,{id:"builder.layerPanel.missingLayers",values:{n:N}})}),z.length>0?Object(B.jsx)(Kn,{children:Object(B.jsx)(p,Object(S.a)({},b))}):(L||0===y.length)&&Object(B.jsxs)(Xn,{children:[L?Object(B.jsx)(Yn,{}):Object(B.jsx)(Un,{}),Object(B.jsx)(_e.a,{variant:"body2",color:"textSecondary",children:Object(B.jsx)(ke.a,{id:"builder.layerPanel.".concat(L?"loadingDataSources":"addInfo")})})]})]})};return Object(z.withState)([],(function(p){return{currentMapDatasets:p.maps.currentMapDatasets,keplerDatasets:p.keplerGl.map.visState.datasets,isBuilderLoading:p.builder.isLoading}}),{})(L.a.memo(b))}CustomLayerManagerFactory.deps=z.LayerManagerFactory.deps;var er=["title","titleId"];function maps_blending_extends(){return maps_blending_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},maps_blending_extends.apply(this,arguments)}function maps_blending_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function maps_blending_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgMapsBlending(p,b){var y=p.title,S=p.titleId,L=maps_blending_objectWithoutProperties(p,er);return P.createElement("svg",maps_blending_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,$n||($n=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M14 3c3.866 0 7 3.134 7 7 0 3.39-2.41 6.217-5.61 6.862C14.296 19.301 11.846 21 9 21c-3.866 0-7-3.134-7-7 0-3.39 2.41-6.217 5.61-6.862C8.704 4.699 11.154 3 14 3zM7.025 9.405l-.065.029C5.215 10.214 4 11.965 4 14c0 2.761 2.239 5 5 5 1.664 0 3.138-.813 4.047-2.064C9.632 16.471 7 13.543 7 10c0-.2.008-.399.025-.595zM9.1 9.001l-.029.146C9.025 9.424 9 9.71 9 10c0 2.728 2.184 4.945 4.899 4.999.067-.323.101-.657.101-.999 0-2.728-2.184-4.945-4.9-4.999zM14 5c-1.664 0-3.138.813-4.047 2.064C13.368 7.529 16 10.457 16 14c0 .2-.008.399-.025.595C17.754 13.83 19 12.06 19 10c0-2.761-2.239-5-5-5zm-1 8.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zm-1.5-.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zm1.5-1c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zm-1.5-.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zM10 11c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zm1.5-1c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zM10 9.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z",transform:"translate(-1112.000000, -404.000000) translate(1064.202020, 404.000000) translate(47.797980, 0.000000)"})))))))}var tr=P.forwardRef(SvgMapsBlending),nr=(y.p,Object(Oe.a)((function(p){return{optionSelected:{"&, &:hover":{backgroundColor:"".concat(p.palette.primary.relatedLight," !important")}},btn:{margin:"0 !important"}}})));var rr=function BuilderBlendingOptions(p){var b=p.className,y=p.disabled,S=void 0!==y&&y,L=Object(Me.a)(),T=nr(),z=Object(Ee.a)(),D=Object(Ee.b)((function(p){var b,y,S;return null===(b=p.keplerGl)||void 0===b||null===(y=b.map)||void 0===y||null===(S=y.visState)||void 0===S?void 0:S.layerBlending})),N=Object(P.useMemo)((function(){return[{id:"normal",label:L.formatMessage({id:"builder.layerBlending.optionNormal"}),selected:"normal"===D},{id:"additive",label:L.formatMessage({id:"builder.layerBlending.optionAdditive"}),selected:"additive"===D},{id:"subtractive",label:L.formatMessage({id:"builder.layerBlending.optionSubtractive"}),selected:"subtractive"===D}]}),[L,D]);return Object(B.jsx)(Ve.a,{rootClassName:b,onClickItem:function onClickItem(p){return function setViewEvent(p){z(Object(et.updateLayerBlending)(p))}(p.id)},placement:"bottom-start",menuItems:N,elevation:8,dense:!0,menuItemSelectedClassName:T.optionSelected,ButtonComponent:function ButtonComponent(p){var b=p.onClick;return Object(B.jsx)(He.a,{disabled:S,active:!S&&"normal"!==D,size:"small",onClick:b,icon:Object(B.jsx)(tr,{}),tooltip:L.formatMessage({id:"builder.layerBlending.title"}),tooltipPlacement:"top",className:T.btn})}})},or=y(2164),ar=y(2578),ir=y(939),lr=y.n(ir),cr=Object(Oe.a)((function(){return{root:{display:"flex",alignItems:"center",textOverflow:"ellipsis",overflow:"hidden","&:before":{content:function content(p){return"'".concat(p.letter,"'")},backgroundColor:function backgroundColor(p){return p.color},paddingLeft:0,lineHeight:"18px"}}}})),sr=function DatasourceLabel(p){var b=cr(p),y=p.typographyVariant,S=void 0===y?"caption":y,P=p.typographyColor,L=void 0===P?"textPrimary":P;return Object(B.jsx)("div",{className:"datasource-label ".concat(b.root),children:Object(B.jsx)(_e.a,{component:"p",variant:S,color:L,noWrap:!0,children:p.label})})},dr=L.a.memo(sr),ur=Object(Oe.a)((function(p){var b=p.spacing;return{trigger:{width:b(3),height:b(3),"& svg":{width:b(2.25),height:b(2.25)}},menu:{transform:"translate3d(0, ".concat(b(4),"px, 0)")}}}));function AddNewWidget(p){var b=p.sources,y=p.onAdd,S=p.className,L=ur(),T=Object(P.useRef)(null),z=Object(P.useState)(null),D=Object(ye.a)(z,2),N=D[0],q=D[1],Z=Object(tt.a)();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(se.a,{arrow:!0,placement:"top",title:Object(B.jsx)(ke.a,{id:"builder.widgets.addWidget"}),children:Object(B.jsx)(ct.a,{ref:T,size:"small",color:"inherit",className:[S||"",L.trigger].join(" "),onClick:function handleOpen(){q(T.current)},children:Object(B.jsx)(lr.a,{color:"action",fontSize:"small"})})}),Object(B.jsx)(or.a,{open:Boolean(N),anchorEl:N,onClose:function handleClose(){q(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},className:L.menu,children:b&&b.map((function(p){return Object(B.jsx)(ar.a,{onClick:function onClick(){return function onMenuItemClick(p){y(p),q(null)}(p.id)},children:Object(B.jsx)(dr,{color:"rgb(".concat(p.color[0],", ").concat(p.color[1],", ").concat(p.color[2],")"),label:p.label,letter:Z[p.id]})},p.id)}))})]})}var pr,br=y(96),gr=Dn.default.div(pr||(pr=Object(Bn.a)(["\n  margin-bottom: ","px;\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid transparent;\n  transition: ",";\n\n  .blendingOptions,\n  .addFilter {\n    margin: 0 ","px !important;\n  }\n\n  ","\n"])),br.a.spacing(2),br.a.transitions.create(["background-color","border-bottom"],{easing:br.a.transitions.easing.easeInOut,duration:br.a.transitions.duration.shortest}),br.a.spacing(2),(function(p){return p.sticky&&"background-color: ".concat(br.a.palette.grey[50],";\n    border-bottom: 1px solid ").concat(br.a.palette.divider,";")}));function CustomPanelTitleFactory(){var p=z.PanelTitleFactory.apply(void 0,arguments),b=function CustomPanelTitle(b){var y=Object(Ee.a)(),L=b.widgets,z=b.sources,D=Object(P.useState)(!1),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Object(P.useRef)(null),Q="sidebar.panels.layer"===b.children.props.id,X="sidebar.panels.filter"===b.children.props.id,ne=L.length>0,re=Object.values(z);return Object(P.useEffect)((function(){var p;if(null===K||void 0===K?void 0:K.current){var b=null===(p=K.current.parentNode)||void 0===p?void 0:p.parentNode,y=function scrollListener(){Z(b.scrollTop>2)};return b.addEventListener("scroll",y),function(){null===b||void 0===b||b.removeEventListener("scroll",y)}}}),[Z,K]),Object(P.useEffect)((function(){var p;(null===K||void 0===K?void 0:K.current)&&((null===(p=K.current.parentNode)||void 0===p?void 0:p.parentNode).scrollTop=0)}),[b.children.props.id,K]),Object(B.jsxs)(gr,{sticky:q,ref:K,children:[X?Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{children:Object(B.jsx)(ke.a,{id:"builder.widgets.title"})})):Object(B.jsx)(p,Object(S.a)({},b)),Q&&Object(B.jsx)(rr,{disabled:!b.hasSources,className:"blendingOptions"}),X&&ne&&Object(B.jsx)(AddNewWidget,{sources:re,onAdd:function onClickAddFilter(p){y(Object(T.m)(p))},className:"addFilter"})]})};return Object(z.withState)([],(function(p){return{widgets:p.builder.widgets,sources:p.keplerGl.map.visState.datasets,hasSources:!!p.maps.currentMapDatasets.length&&!p.builder.isLoading}}),{})(L.a.memo(b))}CustomPanelTitleFactory.deps=z.PanelTitleFactory.deps;var fr,hr,mr=y(51),vr=y(53),jr=y(67),yr=y(68);function CustomLayerConfiguratorFactory(p,b,y,P,L,T,D,N){var q=Object(z.LayerConfiguratorFactory)(p,b,y,P,L,T,D,N),Z=Dn.default.div.attrs({className:"layer-panel__config__visualC-config"})(fr||(fr=Object(Bn.a)(["\n    margin-top: 12px;\n  "]))),K=function(p){Object(jr.a)(CustomLayerConfigurator,p);var y=Object(yr.a)(CustomLayerConfigurator);function CustomLayerConfigurator(){return Object(mr.a)(this,CustomLayerConfigurator),y.apply(this,arguments)}return Object(vr.a)(CustomLayerConfigurator,[{key:"_renderMvtLayerConfig",value:function _renderMvtLayerConfig(p){var y=p.layer,T=p.visConfiguratorProps,D=p.layerChannelConfigProps;return function MVTTemplate(p){var b=p.layer,y=p.visConfiguratorProps,P=p.layerConfiguratorProps,L=p.layerChannelConfigProps,T=p.StyledLayerVisualConfigurator,D=p.LayerConfigGroup,N=p.ChannelByValueSelector,q=p.VisConfigSlider,Z=p.VisConfigSwitch,K=b.meta.featureTypes,Q=void 0===K?{}:K,X=b.config.visConfig;return Object(B.jsxs)(T,{children:[Q.polygon||Q.point?Object(B.jsxs)(D,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.filled),y),{},{label:"layer.fillColor",collapsible:!0,children:[b.config.colorField?Object(B.jsx)(z.LayerColorRangeSelector,Object(S.a)({},y)):Object(B.jsx)(z.LayerColorSelector,Object(S.a)({},P)),Object(B.jsxs)(z.ConfigGroupCollapsibleContent,{children:[Object(B.jsx)(N,Object(S.a)({channel:b.visualChannels.color},L)),Object(B.jsx)(q,Object(S.a)(Object(S.a)({},b.visConfigSettings.opacity),y))]})]})):null,Object(B.jsxs)(D,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.stroked),y),{},{label:"layer.strokeColor",collapsible:!0,children:[b.config.strokeColorField?Object(B.jsx)(z.LayerColorRangeSelector,Object(S.a)(Object(S.a)({},y),{},{property:"strokeColorRange"})):Object(B.jsx)(z.LayerColorSelector,Object(S.a)(Object(S.a)({},y),{},{selectedColor:b.config.visConfig.strokeColor,property:"strokeColor"})),Object(B.jsxs)(z.ConfigGroupCollapsibleContent,{children:[Object(B.jsx)(N,Object(S.a)({channel:b.visualChannels.strokeColor},L)),Object(B.jsx)(q,Object(S.a)(Object(S.a)({},b.visConfigSettings.strokeOpacity),y))]})]})),Object(B.jsxs)(D,Object(S.a)(Object(S.a)(Object(S.a)({},y),Q.polygon?b.visConfigSettings.stroked:{}),{},{label:"layer.strokeWidth",collapsible:!0,children:[b.config.sizeField?Object(B.jsx)(q,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.sizeRange),y),{},{label:!1})):Object(B.jsx)(q,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.thickness),y),{},{label:!1})),Object(B.jsx)(z.ConfigGroupCollapsibleContent,{children:Object(B.jsx)(N,Object(S.a)({channel:b.visualChannels.size},L))})]})),Q.polygon?Object(B.jsxs)(D,Object(S.a)(Object(S.a)(Object(S.a)({},y),b.visConfigSettings.enable3d),{},{disabled:!X.filled,collapsible:!0,children:[Object(B.jsx)(q,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.elevationScale),y),{},{label:!1})),Object(B.jsxs)(z.ConfigGroupCollapsibleContent,{children:[Object(B.jsx)(N,Object(S.a)({channel:b.visualChannels.height},L)),Object(B.jsx)(Z,Object(S.a)(Object(S.a)({},y),b.visConfigSettings.wireframe))]})]})):null,Q.point?Object(B.jsxs)(D,{label:"layer.radius",collapsible:!0,children:[b.config.radiusField?Object(B.jsx)(q,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.radiusRange),y),{},{label:!1,disabled:!b.config.radiusField})):Object(B.jsx)(q,Object(S.a)(Object(S.a)(Object(S.a)({},b.visConfigSettings.radius),y),{},{label:!1,disabled:Boolean(b.config.radiusField)})),Object(B.jsx)(z.ConfigGroupCollapsibleContent,{children:Object(B.jsx)(N,Object(S.a)({channel:b.visualChannels.radius},L))})]}):null]})}({layer:y,visConfiguratorProps:T,layerConfiguratorProps:p.layerConfiguratorProps,layerChannelConfigProps:D,StyledLayerVisualConfigurator:Z,LayerConfigGroup:P,ChannelByValueSelector:L,VisConfigSlider:b,VisConfigSwitch:N})}}]),CustomLayerConfigurator}(q);return K}CustomLayerConfiguratorFactory.deps=z.LayerConfiguratorFactory.deps;var Or=["title","titleId"];function icon_coordinates_extends(){return icon_coordinates_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_coordinates_extends.apply(this,arguments)}function icon_coordinates_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_coordinates_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconCoordinates(p,b){var y=p.title,S=p.titleId,L=icon_coordinates_objectWithoutProperties(p,Or);return P.createElement("svg",icon_coordinates_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,hr||(hr=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M5.25 8.25H.75v1.5h4.5v-1.5zm4.5-7.5h-1.5v4.5h1.5V.75zm3 7.5v1.5h4.5v-1.5h-4.5zM9 6.75C7.755 6.75 6.75 7.755 6.75 9S7.755 11.25 9 11.25s2.25-1.005 2.25-2.25S10.245 6.75 9 6.75zm-.75 10.5h1.5v-4.5h-1.5v4.5z",transform:"translate(-32.000000, -279.000000) translate(16.000000, 264.000000) translate(16.000000, 15.000000)"})))))))}var xr,_r=P.forwardRef(SvgIconCoordinates),wr=(y.p,["title","titleId"]);function icon_tooltip_extends(){return icon_tooltip_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_tooltip_extends.apply(this,arguments)}function icon_tooltip_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_tooltip_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconTooltip(p,b){var y=p.title,S=p.titleId,L=icon_tooltip_objectWithoutProperties(p,wr);return P.createElement("svg",icon_tooltip_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,xr||(xr=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M14.25 1.5c.787 0 1.438.615 1.496 1.388L15.75 3v10.5c0 .787-.615 1.438-1.388 1.496L14.25 15h-3L9 17.25 6.75 15h-3c-.795 0-1.439-.615-1.496-1.388L2.25 13.5V3c0-.788.608-1.438 1.388-1.496L3.75 1.5h10.5zm0 1.5H3.75v10.5h3.622L9 15.127l1.627-1.627h3.623V3zm-3.75 7.5V12H5.25v-1.5h5.25zm2.25-3V9h-7.5V7.5h7.5zm0-3V6h-7.5V4.5h7.5z",transform:"translate(-32.000000, -167.000000) translate(16.000000, 152.000000) translate(16.000000, 15.000000)"})))))))}var Cr=P.forwardRef(SvgIconTooltip);y.p;function CustomInteractionManagerFactory(){var p=z.InteractionManagerFactory.apply(void 0,arguments);return function(b){var y=b.interactionConfig,P=y.tooltip,L=y.coordinate,T={tooltip:Object(S.a)(Object(S.a)({},P),{},{iconComponent:Cr}),coordinate:Object(S.a)(Object(S.a)({},L),{},{iconComponent:_r})};return Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{interactionConfig:T}))}}CustomInteractionManagerFactory.deps=z.InteractionManagerFactory.deps;var Sr=y(158);function camelCaseToKebabCase(p){return p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Er,kr,Pr=y(631),Ir=Dn.default.div(Er||(Er=Object(Bn.a)([""]))),Lr=Object(Dn.createGlobalStyle)(kr||(kr=Object(Bn.a)(["\n  .map-popover {\n    background-color: ",";\n    padding: ","px ","px ","px ","px;\n    border-radius: ","px;\n    box-shadow: ",";\n    transition: background-color 0.25s ease;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n  .map-popover__top {\n    position: absolute;\n    right: ","px;\n    top: ","px;\n\n    .popover-arrow-left,\n    .popover-arrow-right {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: ","px;\n      width: ","px;\n      border-radius: ","px;\n      color: ",";\n      transition: color 0.25s ease, background-color 0.25s ease;\n\n      &:hover {\n        color: ",";\n        background-color: ",";\n      }\n    }\n\n    .popover-pin {\n      display: none;\n    }\n  }\n  .map-popover__layer-name {\n    width: calc(100% - 60px);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    color: ",";\n    padding: 0;\n    margin: 0;\n    margin-right: ","px;\n    margin-bottom: ","px;\n    ","\n    svg {\n      display: none;\n    }\n  }\n  .map-popover__layer-info,\n  .coordingate-hover-info {\n    tr.row {\n      .row__name {\n        color: ",";\n        ","\n      }\n      .row__value {\n        color: ",";\n        ","\n      }\n    }\n  }\n  .map-popover table {\n    margin: 0;\n    width: 100%;\n    min-width: 156px;\n  }\n"])),br.a.palette.text.primary,br.a.spacing(.75),br.a.spacing(1.5),br.a.spacing(2),br.a.spacing(1.5),br.a.spacing(.5),br.a.shadows[3],Object(Sr.a)(br.a.palette.text.primary,.9),br.a.spacing(2.25),br.a.spacing(1.25),br.a.spacing(3),br.a.spacing(3),br.a.spacing(.25),br.a.palette.secondary.main,br.a.palette.secondary.main,Object(Sr.a)(br.a.palette.common.white,.08),br.a.palette.common.white,br.a.spacing(5),br.a.spacing(1.25),Object.entries(br.a.typography.body2).map((function(p){var b=Object(ye.a)(p,2),y=b[0],S=b[1],P=camelCaseToKebabCase(y);return"".concat(P,": ").concat(S,";")})),Object(Sr.a)(br.a.palette.common.white,.6),Object.entries(br.a.typography.caption).map((function(p){var b=Object(ye.a)(p,2),y=b[0],S=b[1],P=camelCaseToKebabCase(y);return"".concat(P,": ").concat(S,";")})),br.a.palette.common.white,Object.entries(br.a.typography.caption).map((function(p){var b=Object(ye.a)(p,2),y=b[0],S=b[1],P=camelCaseToKebabCase(y);return"".concat(P,": ").concat(S,";")})));function CustomMapPopoverFactory(){var p=z.MapPopoverFactory.apply(void 0,arguments);return function(b){var y=b.layerHoverProp;if(y&&y.layer.type===q.m){var P=jsonToKeplerData(y.data),L=P.fields,T=P.rows;if(y.fields=L,y.data=T,y.primaryData){var z=jsonToKeplerData(y.primaryData).rows;y.primaryData=z}}return Object(B.jsx)(Ir,{children:Object(B.jsx)(B.Fragment,{children:y&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Lr,{}),Object(B.jsx)(p,Object(S.a)({},b))]})})})}}function jsonToKeplerData(p){var b=Object(Pr.processRowObject)([p]);return{fields:(null===b||void 0===b?void 0:b.fields)||[],rows:(null===b||void 0===b?void 0:b.rows[0])||[]}}CustomMapPopoverFactory.deps=z.MapPopoverFactory.deps;var Mr,Tr=y(80),Rr=["title","titleId"];function data_provider_carto_extends(){return data_provider_carto_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_carto_extends.apply(this,arguments)}function data_provider_carto_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_carto_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderCarto(p,b){var y=p.title,S=p.titleId,L=data_provider_carto_objectWithoutProperties(p,Rr);return P.createElement("svg",data_provider_carto_extends({width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Mr||(Mr=P.createElement("g",{transform:"translate(5 5)",fill:"#162945",fillRule:"evenodd"},P.createElement("path",{d:"M15.033 30C23.299 30 30 23.284 30 15c0-8.284-6.701-15-14.967-15C6.766 0 .065 6.716.065 15c0 8.284 6.701 15 14.968 15z",fillOpacity:.1}),P.createElement("ellipse",{cx:15.033,cy:15,rx:4.989,ry:5}))))}var Wr,zr=P.forwardRef(SvgDataProviderCarto),Fr=(y.p,["title","titleId"]);function data_provider_carto_inactive_extends(){return data_provider_carto_inactive_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_carto_inactive_extends.apply(this,arguments)}function data_provider_carto_inactive_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_carto_inactive_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderCartoInactive(p,b){var y=p.title,S=p.titleId,L=data_provider_carto_inactive_objectWithoutProperties(p,Fr);return P.createElement("svg",data_provider_carto_inactive_extends({width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Wr||(Wr=P.createElement("g",{transform:"translate(5.065 5)",fill:"#9DA2A6",fillRule:"nonzero"},P.createElement("path",{d:"M14.967 30c8.267 0 14.968-6.716 14.968-15 0-8.284-6.701-15-14.968-15C6.701 0 0 6.716 0 15c0 8.284 6.701 15 14.967 15z",fillOpacity:.2}),P.createElement("ellipse",{cx:14.967,cy:15,rx:4.989,ry:5}))))}var Ar,Br=P.forwardRef(SvgDataProviderCartoInactive),Dr=(y.p,["title","titleId"]);function data_provider_gmaps_extends(){return data_provider_gmaps_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_gmaps_extends.apply(this,arguments)}function data_provider_gmaps_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_gmaps_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderGmaps(p,b){var y=p.title,S=p.titleId,L=data_provider_gmaps_objectWithoutProperties(p,Dr);return P.createElement("svg",data_provider_gmaps_extends({width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Ar||(Ar=P.createElement("g",{fillRule:"nonzero",fill:"none"},P.createElement("path",{d:"M15.303 27.23a30.311 30.311 0 0 1 2.364 3.486c.603 1.143.854 1.918 1.295 3.296.27.76.514.988 1.039.988.572 0 .832-.386 1.032-.984.417-1.3.744-2.294 1.26-3.232 1.011-1.81 2.268-3.42 3.504-4.967.334-.438 2.496-2.988 3.47-5 0 0 1.196-2.211 1.196-5.298 0-2.888-1.18-4.89-1.18-4.89l-3.397.909-2.063 5.433-.51.75-.102.135-.136.17-.238.271-.34.34-1.838 1.498-4.592 2.651-.764 4.443z",fill:"#34A853"}),P.createElement("path",{d:"M10.562 20.445c1.121 2.56 3.283 4.81 4.745 6.786l7.768-9.201s-1.094 1.43-3.08 1.43a3.979 3.979 0 0 1-3.997-3.991c0-1.527.919-2.576.919-2.576l-5.273 1.413-1.082 6.139z",fill:"#FBBC04"}),P.createElement("path",{d:"M23.162 5.473c2.58.832 4.788 2.578 6.124 5.153l-6.208 7.398s.918-1.068.918-2.585c0-2.278-1.918-3.98-3.99-3.98-1.96 0-3.086 1.429-3.086 1.429V8.227l6.242-2.754z",fill:"#4285F4"}),P.createElement("path",{d:"M11.985 8.742C13.526 6.898 16.238 5 19.975 5c1.814 0 3.18.476 3.18.476l-6.241 7.416h-4.422l-.507-4.15z",fill:"#1A73E8"}),P.createElement("path",{d:"M10.562 20.445s-1.03-2.02-1.03-4.945c0-2.765 1.074-5.182 2.453-6.758l4.932 4.15-6.355 7.553z",fill:"#EA4335"}))))}var Nr=P.forwardRef(SvgDataProviderGmaps),Hr=(y.p,["title","titleId"]);function data_provider_gmaps_inactive_extends(){return data_provider_gmaps_inactive_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_gmaps_inactive_extends.apply(this,arguments)}function data_provider_gmaps_inactive_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_gmaps_inactive_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderGmapsInactive(p,b){var y=p.title,S=p.titleId,L=data_provider_gmaps_inactive_objectWithoutProperties(p,Hr);return P.createElement("svg",data_provider_gmaps_inactive_extends({width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,P.createElement("path",{d:"M0 10.5c0-2.676 1.007-5.026 2.322-6.603l.132-.155C3.995 1.898 6.707 0 10.444 0c.607 0 1.164.053 1.636.124l.273.045.25.046.117.024.215.048.274.067.209.058.205.064.008-.003c2.499.806 4.65 2.47 5.996 4.914l.22.414.082.168.101.22.075.173.079.196.082.216.083.236.042.126.082.265.041.139.079.292c.19.751.339 1.663.339 2.687 0 .96-.116 1.836-.275 2.586l-.071.314-.075.298-.078.281-.04.135-.08.254-.079.237-.077.217-.111.288-.131.31-.102.222-.077.155c-.257.53-.595 1.097-.961 1.653l-.222.331-.227.327-.227.32-.226.31-.331.441-.412.534-.834 1.046a4.138 4.138 0 0 0-.03.039c-1.236 1.547-2.493 3.156-3.505 4.967-.357.65-.623 1.325-.892 2.111l-.18.542-.187.579c-.2.598-.46.984-1.032.984-.525 0-.77-.227-1.04-.988l-.246-.762c-.309-.94-.566-1.62-1.049-2.534a30.311 30.311 0 0 0-2.042-3.07l-.322-.417a33.73 33.73 0 0 0-.663-.864L3.894 19.85c-.995-1.251-2.002-2.596-2.696-4.04l-.26-.567-.075-.175-.058-.145-.096-.259-.069-.198-.07-.219a11.72 11.72 0 0 1-.036-.116l-.072-.248-.071-.266a12.44 12.44 0 0 1-.035-.14l-.067-.293a12.65 12.65 0 0 1-.032-.152l-.06-.318-.03-.164-.05-.341-.044-.356A12.586 12.586 0 0 1 0 10.5zm10.474-4.041c-1.225 0-2.124.558-2.626.976l-.139.121-.114.108-.125.13-.082.094v-.004l-.004.006.002.003-.076.095-.066.09a3.775 3.775 0 0 0-.038.055l-.086.132-.094.157a4.183 4.183 0 0 0-.559 2.047 3.979 3.979 0 0 0 3.997 3.992 4.05 4.05 0 0 0 2.597-.952l.139-.12.116-.11.049-.049.179-.204.077-.097.069-.095.085-.127.095-.156c.264-.453.595-1.202.595-2.112 0-2.278-1.919-3.98-3.991-3.98z",transform:"translate(9.531 5)",style:{mixBlendMode:"luminosity"},fill:"#B4B8BA",fillRule:"evenodd"}))}var Vr,Ur,Gr=P.forwardRef(SvgDataProviderGmapsInactive),qr=(y.p,["title","titleId"]);function data_provider_amazon_extends(){return data_provider_amazon_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_amazon_extends.apply(this,arguments)}function data_provider_amazon_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_amazon_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderAmazon(p,b){var y=p.title,S=p.titleId,L=data_provider_amazon_objectWithoutProperties(p,qr);return P.createElement("svg",data_provider_amazon_extends({id:"Layer_1",x:0,y:0,xmlSpace:"preserve",width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Vr||(Vr=P.createElement("style",{type:"text/css",id:"style2"},".st1{fill-rule:evenodd;clip-rule:evenodd;fill:#f90}")),P.createElement("g",{id:"g12",transform:"translate(4.237 11.044) scale(.1037)"},P.createElement("path",{d:"M86.4 66.4c0 3.7.4 6.7 1.1 8.9.8 2.2 1.8 4.6 3.2 7.2.5.8.7 1.6.7 2.3 0 1-.6 2-1.9 3L83.2 92c-.9.6-1.8.9-2.6.9-1 0-2-.5-3-1.4-1.4-1.5-2.6-3.1-3.6-4.7-1-1.7-2-3.6-3.1-5.9-7.8 9.2-17.6 13.8-29.4 13.8-8.4 0-15.1-2.4-20-7.2-4.9-4.8-7.4-11.2-7.4-19.2 0-8.5 3-15.4 9.1-20.6 6.1-5.2 14.2-7.8 24.5-7.8 3.4 0 6.9.3 10.6.8 3.7.5 7.5 1.3 11.5 2.2v-7.3c0-7.6-1.6-12.9-4.7-16-3.2-3.1-8.6-4.6-16.3-4.6-3.5 0-7.1.4-10.8 1.3-3.7.9-7.3 2-10.8 3.4-1.6.7-2.8 1.1-3.5 1.3-.7.2-1.2.3-1.6.3-1.4 0-2.1-1-2.1-3.1v-4.9c0-1.6.2-2.8.7-3.5.5-.7 1.4-1.4 2.8-2.1 3.5-1.8 7.7-3.3 12.6-4.5C41 1.9 46.2 1.3 51.7 1.3c11.9 0 20.6 2.7 26.2 8.1 5.5 5.4 8.3 13.6 8.3 24.6v32.4ZM45.8 81.6c3.3 0 6.7-.6 10.3-1.8 3.6-1.2 6.8-3.4 9.5-6.4 1.6-1.9 2.8-4 3.4-6.4.6-2.4 1-5.3 1-8.7v-4.2c-2.9-.7-6-1.3-9.2-1.7-3.2-.4-6.3-.6-9.4-.6-6.7 0-11.6 1.3-14.9 4-3.3 2.7-4.9 6.5-4.9 11.5 0 4.7 1.2 8.2 3.7 10.6 2.4 2.5 5.9 3.7 10.5 3.7zm80.3 10.8c-1.8 0-3-.3-3.8-1-.8-.6-1.5-2-2.1-3.9L96.7 10.2c-.6-2-.9-3.3-.9-4 0-1.6.8-2.5 2.4-2.5h9.8c1.9 0 3.2.3 3.9 1 .8.6 1.4 2 2 3.9l16.8 66.2 15.6-66.2c.5-2 1.1-3.3 1.9-3.9.8-.6 2.2-1 4-1h8c1.9 0 3.2.3 4 1 .8.6 1.5 2 1.9 3.9l15.8 67 17.3-67c.6-2 1.3-3.3 2-3.9.8-.6 2.1-1 3.9-1h9.3c1.6 0 2.5.8 2.5 2.5 0 .5-.1 1-.2 1.6-.1.6-.3 1.4-.7 2.5l-24.1 77.3c-.6 2-1.3 3.3-2.1 3.9-.8.6-2.1 1-3.8 1h-8.6c-1.9 0-3.2-.3-4-1-.8-.7-1.5-2-1.9-4L156 23l-15.4 64.4c-.5 2-1.1 3.3-1.9 4-.8.7-2.2 1-4 1zm128.5 2.7c-5.2 0-10.4-.6-15.4-1.8-5-1.2-8.9-2.5-11.5-4-1.6-.9-2.7-1.9-3.1-2.8-.4-.9-.6-1.9-.6-2.8v-5.1c0-2.1.8-3.1 2.3-3.1.6 0 1.2.1 1.8.3.6.2 1.5.6 2.5 1 3.4 1.5 7.1 2.7 11 3.5 4 .8 7.9 1.2 11.9 1.2 6.3 0 11.2-1.1 14.6-3.3 3.4-2.2 5.2-5.4 5.2-9.5 0-2.8-.9-5.1-2.7-7-1.8-1.9-5.2-3.6-10.1-5.2L246 52c-7.3-2.3-12.7-5.7-16-10.2-3.3-4.4-5-9.3-5-14.5 0-4.2.9-7.9 2.7-11.1 1.8-3.2 4.2-6 7.2-8.2 3-2.3 6.4-4 10.4-5.2 4-1.2 8.2-1.7 12.6-1.7 2.2 0 4.5.1 6.7.4 2.3.3 4.4.7 6.5 1.1 2 .5 3.9 1 5.7 1.6 1.8.6 3.2 1.2 4.2 1.8 1.4.8 2.4 1.6 3 2.5.6.8.9 1.9.9 3.3v4.7c0 2.1-.8 3.2-2.3 3.2-.8 0-2.1-.4-3.8-1.2-5.7-2.6-12.1-3.9-19.2-3.9-5.7 0-10.2.9-13.3 2.8-3.1 1.9-4.7 4.8-4.7 8.9 0 2.8 1 5.2 3 7.1 2 1.9 5.7 3.8 11 5.5l14.2 4.5c7.2 2.3 12.4 5.5 15.5 9.6 3.1 4.1 4.6 8.8 4.6 14 0 4.3-.9 8.2-2.6 11.6-1.8 3.4-4.2 6.4-7.3 8.8-3.1 2.5-6.8 4.3-11.1 5.6-4.5 1.4-9.2 2.1-14.3 2.1z",id:"path4",style:{fill:"#252f3e"}}),Ur||(Ur=P.createElement("g",{id:"g10"},P.createElement("path",{className:"st1",d:"M273.5 143.7c-32.9 24.3-80.7 37.2-121.8 37.2-57.6 0-109.5-21.3-148.7-56.7-3.1-2.8-.3-6.6 3.4-4.4 42.4 24.6 94.7 39.5 148.8 39.5 36.5 0 76.6-7.6 113.5-23.2 5.5-2.5 10.2 3.6 4.8 7.6z",id:"path6"}),P.createElement("path",{className:"st1",d:"M287.2 128.1c-4.2-5.4-27.8-2.6-38.5-1.3-3.2.4-3.7-2.4-.8-4.5 18.8-13.2 49.7-9.4 53.3-5 3.6 4.5-1 35.4-18.6 50.2-2.7 2.3-5.3 1.1-4.1-1.9 4-9.9 12.9-32.2 8.7-37.5z",id:"path8"})))))}var Jr,Zr,$r,Yr=P.forwardRef(SvgDataProviderAmazon),Kr=(y.p,["title","titleId"]);function data_provider_amazon_inactive_extends(){return data_provider_amazon_inactive_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},data_provider_amazon_inactive_extends.apply(this,arguments)}function data_provider_amazon_inactive_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function data_provider_amazon_inactive_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgDataProviderAmazonInactive(p,b){var y=p.title,S=p.titleId,L=data_provider_amazon_inactive_objectWithoutProperties(p,Kr);return P.createElement("svg",data_provider_amazon_inactive_extends({id:"Layer_1",x:0,y:0,xmlSpace:"preserve",width:40,height:40,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,P.createElement("defs",{id:"defs17"},P.createElement("filter",{style:{colorInterpolationFilters:"sRGB"},id:"filter204",x:0,y:0,width:1,height:1},Jr||(Jr=P.createElement("feColorMatrix",{values:"0.21 0.72 0.072 0 0 0.21 0.72 0.072 0 0 0.21 0.72 0.072 0 0 0 0 0 1 0",id:"feColorMatrix202"})))),Zr||(Zr=P.createElement("style",{type:"text/css",id:"style2"},".st1{fill-rule:evenodd;clip-rule:evenodd;fill:#f90}")),P.createElement("g",{id:"g12",transform:"translate(4.237 11.044) scale(.1037)",style:{filter:"url(#filter204)"}},P.createElement("path",{d:"M86.4 66.4c0 3.7.4 6.7 1.1 8.9.8 2.2 1.8 4.6 3.2 7.2.5.8.7 1.6.7 2.3 0 1-.6 2-1.9 3L83.2 92c-.9.6-1.8.9-2.6.9-1 0-2-.5-3-1.4-1.4-1.5-2.6-3.1-3.6-4.7-1-1.7-2-3.6-3.1-5.9-7.8 9.2-17.6 13.8-29.4 13.8-8.4 0-15.1-2.4-20-7.2-4.9-4.8-7.4-11.2-7.4-19.2 0-8.5 3-15.4 9.1-20.6 6.1-5.2 14.2-7.8 24.5-7.8 3.4 0 6.9.3 10.6.8 3.7.5 7.5 1.3 11.5 2.2v-7.3c0-7.6-1.6-12.9-4.7-16-3.2-3.1-8.6-4.6-16.3-4.6-3.5 0-7.1.4-10.8 1.3-3.7.9-7.3 2-10.8 3.4-1.6.7-2.8 1.1-3.5 1.3-.7.2-1.2.3-1.6.3-1.4 0-2.1-1-2.1-3.1v-4.9c0-1.6.2-2.8.7-3.5.5-.7 1.4-1.4 2.8-2.1 3.5-1.8 7.7-3.3 12.6-4.5C41 1.9 46.2 1.3 51.7 1.3c11.9 0 20.6 2.7 26.2 8.1 5.5 5.4 8.3 13.6 8.3 24.6v32.4ZM45.8 81.6c3.3 0 6.7-.6 10.3-1.8 3.6-1.2 6.8-3.4 9.5-6.4 1.6-1.9 2.8-4 3.4-6.4.6-2.4 1-5.3 1-8.7v-4.2c-2.9-.7-6-1.3-9.2-1.7-3.2-.4-6.3-.6-9.4-.6-6.7 0-11.6 1.3-14.9 4-3.3 2.7-4.9 6.5-4.9 11.5 0 4.7 1.2 8.2 3.7 10.6 2.4 2.5 5.9 3.7 10.5 3.7zm80.3 10.8c-1.8 0-3-.3-3.8-1-.8-.6-1.5-2-2.1-3.9L96.7 10.2c-.6-2-.9-3.3-.9-4 0-1.6.8-2.5 2.4-2.5h9.8c1.9 0 3.2.3 3.9 1 .8.6 1.4 2 2 3.9l16.8 66.2 15.6-66.2c.5-2 1.1-3.3 1.9-3.9.8-.6 2.2-1 4-1h8c1.9 0 3.2.3 4 1 .8.6 1.5 2 1.9 3.9l15.8 67 17.3-67c.6-2 1.3-3.3 2-3.9.8-.6 2.1-1 3.9-1h9.3c1.6 0 2.5.8 2.5 2.5 0 .5-.1 1-.2 1.6-.1.6-.3 1.4-.7 2.5l-24.1 77.3c-.6 2-1.3 3.3-2.1 3.9-.8.6-2.1 1-3.8 1h-8.6c-1.9 0-3.2-.3-4-1-.8-.7-1.5-2-1.9-4L156 23l-15.4 64.4c-.5 2-1.1 3.3-1.9 4-.8.7-2.2 1-4 1zm128.5 2.7c-5.2 0-10.4-.6-15.4-1.8-5-1.2-8.9-2.5-11.5-4-1.6-.9-2.7-1.9-3.1-2.8-.4-.9-.6-1.9-.6-2.8v-5.1c0-2.1.8-3.1 2.3-3.1.6 0 1.2.1 1.8.3.6.2 1.5.6 2.5 1 3.4 1.5 7.1 2.7 11 3.5 4 .8 7.9 1.2 11.9 1.2 6.3 0 11.2-1.1 14.6-3.3 3.4-2.2 5.2-5.4 5.2-9.5 0-2.8-.9-5.1-2.7-7-1.8-1.9-5.2-3.6-10.1-5.2L246 52c-7.3-2.3-12.7-5.7-16-10.2-3.3-4.4-5-9.3-5-14.5 0-4.2.9-7.9 2.7-11.1 1.8-3.2 4.2-6 7.2-8.2 3-2.3 6.4-4 10.4-5.2 4-1.2 8.2-1.7 12.6-1.7 2.2 0 4.5.1 6.7.4 2.3.3 4.4.7 6.5 1.1 2 .5 3.9 1 5.7 1.6 1.8.6 3.2 1.2 4.2 1.8 1.4.8 2.4 1.6 3 2.5.6.8.9 1.9.9 3.3v4.7c0 2.1-.8 3.2-2.3 3.2-.8 0-2.1-.4-3.8-1.2-5.7-2.6-12.1-3.9-19.2-3.9-5.7 0-10.2.9-13.3 2.8-3.1 1.9-4.7 4.8-4.7 8.9 0 2.8 1 5.2 3 7.1 2 1.9 5.7 3.8 11 5.5l14.2 4.5c7.2 2.3 12.4 5.5 15.5 9.6 3.1 4.1 4.6 8.8 4.6 14 0 4.3-.9 8.2-2.6 11.6-1.8 3.4-4.2 6.4-7.3 8.8-3.1 2.5-6.8 4.3-11.1 5.6-4.5 1.4-9.2 2.1-14.3 2.1z",id:"path4",style:{fill:"#252f3e"}}),$r||($r=P.createElement("g",{id:"g10"},P.createElement("path",{className:"st1",d:"M273.5 143.7c-32.9 24.3-80.7 37.2-121.8 37.2-57.6 0-109.5-21.3-148.7-56.7-3.1-2.8-.3-6.6 3.4-4.4 42.4 24.6 94.7 39.5 148.8 39.5 36.5 0 76.6-7.6 113.5-23.2 5.5-2.5 10.2 3.6 4.8 7.6z",id:"path6"}),P.createElement("path",{className:"st1",d:"M287.2 128.1c-4.2-5.4-27.8-2.6-38.5-1.3-3.2.4-3.7-2.4-.8-4.5 18.8-13.2 49.7-9.4 53.3-5 3.6 4.5-1 35.4-18.6 50.2-2.7 2.3-5.3 1.1-4.1-1.9 4-9.9 12.9-32.2 8.7-37.5z",id:"path8"})))))}var Qr=P.forwardRef(SvgDataProviderAmazonInactive),Xr=(y.p,Object(Oe.a)((function(p){return{tabContent:{marginTop:p.spacing(3)},tab:Object(S.a)(Object(S.a)({width:p.spacing(9),height:p.spacing(12),marginBottom:p.spacing(.5),marginRight:p.spacing(1),backgroundColor:p.palette.common.white,borderRadius:p.spacing(.5)},p.typography.caption),{},{color:p.palette.text.primary,position:"relative",transition:p.transitions.create("box-shadow",{easing:p.transitions.easing.easeIn,duration:p.transitions.duration.standard}),"&:before":{content:'""',border:"1px solid ".concat(p.palette.divider),left:0,top:0,right:0,bottom:0,position:"absolute",borderRadius:p.shape.borderRadius,transition:p.transitions.create(["opacity","border"],{easing:p.transitions.easing.easeIn,duration:p.transitions.duration.standard})},"&:not($selectedTab)":{"&:hover":{boxShadow:p.shadows[2],"&:before":{opacity:0}}},"& svg":{position:"absolute",top:p.spacing(1.5)},"& span.basemapType":{position:"absolute",top:p.spacing(2.5),padding:p.spacing(5)}}),selectedTab:{cursor:"default",color:p.palette.text.primary,"&:before":{border:"2px solid ".concat(p.palette.primary.main)}}}})));var eo=function CustomMapManagerTabs(p){var b=p.tabs,y=p.currentType,S=Xr(),L=b.findIndex((function(p){return p.type===y})),T=Object(P.useState)(L),z=Object(ye.a)(T,2),D=z[0],N=z[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(le.a,{value:D,onChange:function onChange(p,b){N(b)},TabIndicatorProps:{style:{display:"none"}},children:b.map((function(p,b){return Object(B.jsx)(ie.a,{icon:b===D?p.icon:p.inactiveIcon,label:p.label,className:S.tab,classes:{selected:S.selectedTab}},b)}))}),b[D]&&Object(B.jsx)("div",{className:S.tabContent,children:b[D].content})]})},to=y(246),no=y(1),ro=y.n(no),oo=y(4),ao=y(2592);var io,lo=function AmazonMapSettingForm(p){var b=p.initialIdentityPoolId,y=void 0===b?"":b,S=p.initialMapName,L=void 0===S?"":S,T=p.formErrors,z=p.onChange,D=Object(P.useState)(y),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Object(P.useState)(L),Q=Object(ye.a)(K,2),X=Q[0],ne=Q[1],re=Object(Me.a)();return Object(B.jsxs)(xe.a,{children:[Object(B.jsxs)(xe.a,{mb:2,children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.baseMap.amazon.cognitoLabel"})}),Object(B.jsx)(ao.a,{value:q,onChange:function onChange(p){return Z(p.target.value.trim())},size:"small",placeholder:re.formatMessage({id:"builder.baseMap.amazon.cognitoPlaceholder"}),error:!!T.identityPoolId,helperText:T.identityPoolId&&re.formatMessage({id:"builder.baseMap.amazon.cognitoError"})})]}),Object(B.jsxs)(xe.a,{mb:2,children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.baseMap.amazon.mapNameLabel"})}),Object(B.jsx)(ao.a,{value:X,onChange:function onChange(p){return ne(p.target.value.trim())},size:"small",placeholder:re.formatMessage({id:"builder.baseMap.amazon.mapNamePlaceholder"}),error:!!T.mapName,helperText:T.mapName&&re.formatMessage({id:"builder.baseMap.amazon.mapNameError"})})]}),Object(B.jsx)(xe.a,{children:Object(B.jsx)(Ce.a,{disabled:!q||!X,variant:"text",color:"primary",size:"small",fullWidth:!0,onClick:function addMap(){z({identityPoolId:q,mapName:X})},children:Object(B.jsx)(ke.a,{id:"builder.baseMap.amazon.applyButton"})})})]})},co=Dn.default.div(io||(io=Object(Bn.a)(["\n  .accordion {\n    margin-bottom: ","px;\n    box-shadow: none;\n    border: 1px solid ",";\n    transition: ",";\n\n    &:last-child {\n      margin-bottom: ","px;\n    }\n\n    &:hover {\n      box-shadow: ",";\n      border-color: transparent;\n    }\n  }\n\n  .accordion-expanded .summary + div .details {\n    border-color: ",";\n  }\n\n  .summary {\n    height: ","px;\n    padding: 0 ","px 0 ","px;\n  }\n\n  .summary + div .details {\n    border-top: 1px solid transparent;\n  }\n\n  .summary-content {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .map-preview {\n    width: ","px;\n    height: ","px;\n    margin-right: ","px;\n    border: 1px solid ",";\n    border-radius: ","px;\n  }\n\n  .map-title {\n    font-weight: 500;\n  }\n\n  .radio {\n    margin: 0;\n  }\n\n  .details {\n    padding: ","px ","px ","px ","px;\n  }\n"])),br.a.spacing(1),br.a.palette.divider,br.a.transitions.create(["box-shadow","border"],{easing:br.a.transitions.easing.easeIn,duration:br.a.transitions.duration.standard}),br.a.spacing(1),br.a.shadows[2],br.a.palette.divider,br.a.spacing(8),br.a.spacing(2.25),br.a.spacing(1.5),br.a.spacing(5),br.a.spacing(5),br.a.spacing(1.5),br.a.palette.text.hint,br.a.spacing(.5),br.a.spacing(2),br.a.spacing(2),br.a.spacing(3),br.a.spacing(2));function useAmazonLocation(p){var b=Object(P.useState)(null),S=Object(ye.a)(b,2),L=S[0],T=S[1],z=Object(P.useState)(null),B=Object(ye.a)(z,2),D=B[0],N=B[1],q=Object(P.useState)(null),Z=Object(ye.a)(q,2),K=Z[0],Q=Z[1],X=null===p||void 0===p?void 0:p.split(":")[0],ne=Object(Me.a)();Object(P.useEffect)((function(){var b=function(){var b=Object(oo.a)(ro.a.mark((function _callee(){var b,S,P,L,z;return ro.a.wrap((function _callee$(B){for(;;)switch(B.prev=B.next){case 0:return T(null),B.next=3,Promise.all([y.e(14),y.e(37)]).then(y.bind(null,2599));case 3:return b=B.sent,S=b.Signer,P=b.Amplify,L=b.Auth,N((function(){return S})),P.configure({Auth:{identityPoolId:p,region:X}}),B.prev=9,B.next=12,L.currentUserCredentials();case 12:if(null===(z=B.sent)||void 0===z?void 0:z.accessKeyId){B.next=15;break}throw new Error(ne.formatMessage({id:"builder.baseMap.amazon.errors.identityPoolId"}));case 15:T(z),Q(null),B.next=23;break;case 19:B.prev=19,B.t0=B.catch(9),T(null),Q(B.t0);case 23:case"end":return B.stop()}}),_callee,null,[[9,19]])})));return function initialize(){return b.apply(this,arguments)}}();p&&b()}),[ne,p,X]);var re=Object(P.useCallback)((function(p){return"https://maps.geo.".concat(X,".amazonaws.com/maps/v0/maps/").concat(p,"/style-descriptor")}),[X]),ie=Object(P.useCallback)((function(p){return D&&L?D.signUrl(p,{access_key:L.accessKeyId,secret_key:L.secretAccessKey,session_token:L.sessionToken}):p}),[D,L]),le=Object(P.useCallback)((function(p,b){return"Style"!==b||p.includes("://")||(p=re(p)),p.includes("amazonaws.com")?{url:ie(p)}:{url:p}}),[ie,re]),se=Object(P.useCallback)(function(){var p=Object(oo.a)(ro.a.mark((function _callee2(p){var b;return ro.a.wrap((function _callee2$(y){for(;;)switch(y.prev=y.next){case 0:if(L&&p){y.next=2;break}return y.abrupt("return",!0);case 2:return y.next=4,fetch(ie(re(p))).catch((function(){return null}));case 4:return b=y.sent,y.abrupt("return",!!(null===b||void 0===b?void 0:b.ok));case 6:case"end":return y.stop()}}),_callee2)})));return function(b){return p.apply(this,arguments)}}(),[L,ie,re]),de=!!L;return{isReady:de,transformRequest:de?le:void 0,credentialError:K,checkMapName:se}}var so=function AmazonMapSettings(p){var b=p.currentStyle,y=p.selectStyle,S=Object(Ee.b)((function(p){var b;return(null===(b=p.builder.customBaseMaps)||void 0===b?void 0:b.amazon)||{}})),L=S.identityPoolId,z=void 0===L?"":L,D=S.mapName,N=void 0===D?"":D,q=Object(Ee.a)(),Z=useAmazonLocation(z),K=Z.credentialError,Q=Z.checkMapName,X=Object(P.useState)({}),ne=Object(ye.a)(X,2),re=ne[0],ie=ne[1];Object(P.useEffect)((function(){var p=function(){var p=Object(oo.a)(ro.a.mark((function _callee(){return ro.a.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(!K){p.next=3;break}return ie({identityPoolId:!0}),p.abrupt("return");case 3:if(!N){p.next=10;break}return p.next=6,Q(N);case 6:if(p.sent){p.next=10;break}return ie({mapName:!0}),p.abrupt("return");case 10:ie({});case 11:case"end":return p.stop()}}),_callee)})));return function checkValues(){return p.apply(this,arguments)}}();p()}),[K,Q,N]);var le=z&&N;return Object(B.jsx)(co,{children:Object(B.jsxs)(bt.a,{expanded:!0,className:"accordion",classes:{expanded:"accordion-expanded"},children:[Object(B.jsx)(gt.a,{"aria-label":"Expand","aria-controls":"additional-actions1-content",onClick:function setStyle(){le&&y(to.c.AMAZON)},expandIcon:Object(B.jsx)(Bt.a,{onFocus:function onFocus(p){return p.stopPropagation()},control:Object(B.jsx)(Dt.a,{size:"medium",disabled:!le,checked:b.type===to.c.AMAZON}),value:to.c.AMAZON,label:"",className:"radio"}),className:"summary",children:Object(B.jsxs)("div",{className:"summary-content",children:[Object(B.jsx)(xe.a,{display:"flex",alignItems:"center",justifyContent:"center",className:"map-preview",children:Object(B.jsx)(je.a,{})}),Object(B.jsx)(_e.a,{variant:"body2",className:"map-title",children:"Amazon"})]})}),Object(B.jsx)(ft.a,{className:"details",children:Object(B.jsx)(lo,{initialIdentityPoolId:z,initialMapName:N,formErrors:re,onChange:function setMapSettings(p){q(Object(T.r)({type:to.c.AMAZON,settings:p})),y(to.c.AMAZON)}})})]})})};function CustomMapManagerFactory(p,b){return function(y){var S=y.mapStyle,P=y.mapStyleActions,L=(null===S||void 0===S?void 0:S.mapStyles[S.styleType])||{},T=(L.layerGroups||[]).map((function(p){return p.slug})),z=function selectStyle(p){(0,P.mapStyleChange)(p)},D={id:"carto",type:"mapbox",label:Object(B.jsx)("span",{className:"basemapType",children:"CARTO"}),icon:Object(B.jsx)(zr,{}),inactiveIcon:Object(B.jsx)(Br,{}),content:Object(B.jsx)(p,{mapStyle:S,onChange:z,mapStyleType:to.c.MAPBOX,children:T.length&&Object(B.jsx)(b,{layers:S.visibleLayerGroups,editableLayers:T,topLayers:S.topLayerGroups,onChange:null===P||void 0===P?void 0:P.mapConfigChange})},"carto-style")},N={id:"gmaps",type:"gmaps",label:Object(B.jsx)("span",{className:"basemapType",children:"Google Maps"}),icon:Object(B.jsx)(Nr,{}),inactiveIcon:Object(B.jsx)(Gr,{}),content:Object(B.jsx)(p,{mapStyle:S,onChange:z,mapStyleType:to.c.GOOGLE_MAPS,children:T.length?Object(B.jsx)(b,{layers:S.visibleLayerGroups,editableLayers:T,topLayers:S.topLayerGroups,onChange:null===P||void 0===P?void 0:P.mapConfigChange}):null},"gmaps-style")},q={id:"amazon",type:"amazon",label:Object(B.jsx)("span",{className:"basemapType",children:"Amazon"}),icon:Object(B.jsx)(Yr,{}),inactiveIcon:Object(B.jsx)(Qr,{}),content:Object(B.jsx)(so,{selectStyle:z,currentStyle:L})},Z=[D].concat(Object(Tr.a)(Vt.a.googleMapsApiKey?[N]:[]),[q]);return Object(B.jsx)("div",{className:"map-style-panel",children:Object(B.jsx)(eo,{currentType:L.type,tabs:Z})})}}CustomMapManagerFactory.deps=z.MapManagerFactory.deps;var uo=y(364);var po=function GoogleMapCustomIdSelector(p){var b=p.mapStyle,y=p.onChange,S=p.children,P=p.selectedStyle,L=p.index;return Object(B.jsx)(co,{children:Object(B.jsxs)(bt.a,{expanded:b.styleType===P,className:"accordion",classes:{expanded:"accordion-expanded"},children:[Object(B.jsx)(gt.a,{"aria-label":"Expand","aria-controls":"additional-actions1-content",id:P,expandIcon:Object(B.jsx)(Bt.a,{onClick:function onClick(){return y(P)},onFocus:function onFocus(p){return p.stopPropagation()},control:Object(B.jsx)(Dt.a,{size:"medium"}),value:P,label:"",className:"radio"}),className:"summary",children:Object(B.jsxs)("div",{className:"summary-content",children:[Object(B.jsx)("img",{className:"map-preview",src:b.mapStyles[P].icon}),Object(B.jsx)(_e.a,{variant:"body2",className:"map-title",children:b.mapStyles[P].style.options.mapId})]})}),Object(B.jsx)(ft.a,{className:"details",children:S})]},L)})};function CustomMapStyleSelectorFactory(){return function(p){var b=p.mapStyle,y=p.onChange,P=p.children,L=p.mapStyleType,T=Object.values(b.mapStyles).filter((function(p){return p.type===L})).map((function(p){return p.id}));return Object(B.jsx)("div",{children:Object(B.jsx)(At.a,{value:b.styleType,children:T.map((function(L,T){if(L!==uo.a)return function renderCommonMapStyleSelector(p,S){return Object(B.jsx)(co,{children:Object(B.jsxs)(bt.a,{expanded:b.styleType===p,className:"accordion",classes:{expanded:"accordion-expanded"},children:[Object(B.jsx)(gt.a,{"aria-label":"Expand","aria-controls":"additional-actions1-content",id:p,onClick:function onClick(){return y(p)},expandIcon:Object(B.jsx)(Bt.a,{onFocus:function onFocus(p){return p.stopPropagation()},control:Object(B.jsx)(Dt.a,{size:"medium"}),value:p,label:"",className:"radio"}),className:"summary",children:Object(B.jsxs)("div",{className:"summary-content",children:[Object(B.jsx)("img",{className:"map-preview",src:b.mapStyles[p].icon}),Object(B.jsx)(_e.a,{variant:"body2",className:"map-title",children:b.mapStyles[p].label})]})}),P&&Object(B.jsx)(ft.a,{className:"details",children:P})]},S)},S)}(L,T);var z=Object(S.a)(Object(S.a)({},p),{},{selectedStyle:L,index:T});return Object(B.jsx)(po,Object(S.a)({},z),T)}))})})}}CustomMapStyleSelectorFactory.deps=z.MapStyleSelectorFactory.deps;var bo,go,fo,ho,mo,vo,jo,yo,Oo=y(2582),xo=Dn.default.div(bo||(bo=Object(Bn.a)(["\n  width: 100%;\n  margin-top: 0 !important;\n"]))),_o=Dn.default.div(go||(go=Object(Bn.a)(["\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: space-between;\n  &:first-of-type {\n    margin-top: 14px;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n  .layer-group__visibility-toggle {\n    margin-right: 2px;\n    &:hover {\n      background: transparent;\n    }\n  }\n"]))),wo=Dn.default.label.attrs({className:"side-panel-panel__label"})(fo||(fo=Object(Bn.a)(["\n  color: ",";\n  display: inline-block;\n  font-size: 11px;\n  font-weight: 400;\n  margin-bottom: 4px;\n  text-transform: capitalize !important;\n"])),(function(p){return p.theme.labelColor})),Co=Object(Dn.default)(wo)(ho||(ho=Object(Bn.a)(["\n  font-weight: 500;\n"]))),So=Object(Dn.default)(Co)(mo||(mo=Object(Bn.a)(["\n  color: ",";\n  padding-top: 4px;\n  font-family: Inter;\n  font-size: 13px !important;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.54;\n  letter-spacing: 0.25px;\n"])),(function(p){return p.active?p.theme.textColor:p.theme.labelColor})),Eo=Dn.default.div.attrs({className:"side-panel-panel__content"})(vo||(vo=Object(Bn.a)(["\n  width: 100%;\n  background-color: ",";\n  border: none;\n"])),(function(p){return p.theme.panelContentBackground})),ko=Dn.default.div.attrs({className:"side-panel-panel__label-wrapper"})(jo||(jo=Object(Bn.a)(["\n  display: flex;\n  align-items: self-start;\n"])));function CustomLayerGroupSelectorFactory(p){return function(b){var y=b.layers,P=b.editableLayers,L=b.onChange;return Object(B.jsx)(xo,{className:"map-style__layer-group__selector",children:Object(B.jsxs)(Eo,{children:[Object(B.jsx)(_e.a,{variant:"caption",color:"textSecondary",children:Object(B.jsx)(ke.a,{id:"builder.mapStyle.layers"})}),P.map((function(b){return Object(B.jsxs)(_o,{className:"layer-group__select ".concat(y[b]?"slugTRUE":"slugFALSE"),children:[Object(B.jsx)(ko,{children:Object(B.jsx)(So,{active:y[b],children:b.toLocaleLowerCase()})}),Object(B.jsx)(p,{className:"layer-group__visibility-toggle",id:"".concat(b,"-toggle"),tooltip:y[b]?"tooltip.hide":"tooltip.show",onClick:function onClick(){return L({visibleLayerGroups:Object(S.a)(Object(S.a)({},y),{},Object(D.a)({},b,!y[b]))})},IconComponent:(P=y[b],function(p){return Object(B.jsx)(Oo.a,Object(S.a)(Object(S.a)({},p),{},{checked:P}))}),active:y[b],flush:!0,label:""})]},b);var P}))]})})}}CustomLayerGroupSelectorFactory.deps=z.LayerGroupSelectorFactory.deps;var Po=Dn.default.div(yo||(yo=Object(Bn.a)(["\n  &.selected {\n    top: ","px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: ",";\n    z-index: 99;\n    position: absolute;\n    background-color: ",";\n    overflow-y: scroll;\n  }\n"])),br.a.spacing(12.5),br.a.spacing(2,1.5,0,2),br.a.palette.grey[50]);function CustomLayerPanelFactory(){var p=z.LayerPanelFactory.apply(void 0,arguments);return function(b){var y=b.layer.config.isConfigActive;return Object(B.jsx)(Po,{className:"".concat(y&&"selected"),children:Object(B.jsx)(p,Object(S.a)({},b))})}}CustomLayerPanelFactory.deps=z.LayerPanelFactory.deps;var Io,Lo=y(532),Mo=y(267),To=y(2549),Ro=y(115),Wo=y.n(Ro),zo=["title","titleId"];function icon_image_control_point_duplicate_extends(){return icon_image_control_point_duplicate_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_image_control_point_duplicate_extends.apply(this,arguments)}function icon_image_control_point_duplicate_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_image_control_point_duplicate_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconImageControlPointDuplicate(p,b){var y=p.title,S=p.titleId,L=icon_image_control_point_duplicate_objectWithoutProperties(p,zo);return P.createElement("svg",icon_image_control_point_duplicate_extends({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Io||(Io=P.createElement("path",{d:"M15 3c4.96 0 9 4.04 9 9s-4.04 9-9 9-9-4.04-9-9 4.04-9 9-9zm-8.99.52v2.16A6.99 6.99 0 0 0 2 12a6.988 6.988 0 0 0 3.775 6.204l.235.116v2.16C2.52 19.24 0 15.91 0 12s2.52-7.24 6.01-8.48zM15 5c-3.86 0-7 3.14-7 7s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3v3h3v2h-3v3h-2v-3h-3v-2h3V8h2z",fill:"#2C3032",fillRule:"evenodd"})))}var Fo,Ao=P.forwardRef(SvgIconImageControlPointDuplicate),Bo=(y.p,["title","titleId"]);function icon_action_visibility_light_extends(){return icon_action_visibility_light_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_visibility_light_extends.apply(this,arguments)}function icon_action_visibility_light_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_visibility_light_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionVisibilityLight(p,b){var y=p.title,S=p.titleId,L=icon_action_visibility_light_objectWithoutProperties(p,Bo);return P.createElement("svg",icon_action_visibility_light_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Fo||(Fo=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"rgba(44,48,50,0.6)"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M10 5.417c3.158 0 5.975 1.775 7.35 4.583-1.375 2.808-4.192 4.583-7.35 4.583-3.158 0-5.975-1.775-7.35-4.583C4.025 7.192 6.842 5.417 10 5.417zm0-1.667C5.833 3.75 2.275 6.342.833 10c1.442 3.658 5 6.25 9.167 6.25s7.725-2.592 9.167-6.25c-1.442-3.658-5-6.25-9.167-6.25zm0 4.167c1.15 0 2.083.933 2.083 2.083 0 1.15-.933 2.083-2.083 2.083-1.15 0-2.083-.933-2.083-2.083 0-1.15.933-2.083 2.083-2.083zm0-1.667c-2.067 0-3.75 1.683-3.75 3.75s1.683 3.75 3.75 3.75 3.75-1.683 3.75-3.75S12.067 6.25 10 6.25z",transform:"translate(-775 -606) translate(420 218) translate(355 388)"})))))))}var Do,No=P.forwardRef(SvgIconActionVisibilityLight),Ho=(y.p,["title","titleId"]);function icon_action_visibility_off_light_extends(){return icon_action_visibility_off_light_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_visibility_off_light_extends.apply(this,arguments)}function icon_action_visibility_off_light_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_visibility_off_light_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionVisibilityOffLight(p,b){var y=p.title,S=p.titleId,L=icon_action_visibility_off_light_objectWithoutProperties(p,Ho);return P.createElement("svg",icon_action_visibility_off_light_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Do||(Do=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"rgba(44,48,50,0.6)"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M12 5.975c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53-1.73-4.39-6-7.5-11-7.5-1.27 0-2.49.2-3.64.57l1.65 1.65c.65-.13 1.31-.22 1.99-.22zm-1.07 1.14L13 9.185c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07.01-2.48-2.01-4.49-4.49-4.49-.37 0-.72.05-1.07.14zm-8.92-3.27l2.68 2.68c-1.63 1.28-2.92 2.98-3.69 4.95 1.73 4.39 6 7.5 11 7.5 1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.425l-1.41 1.42zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z",transform:"translate(-600 -1534) translate(552.202 1534) translate(47.798)"})))))))}var Vo,Uo=P.forwardRef(SvgIconActionVisibilityOffLight),Go=(y.p,["title","titleId"]);function action_drag_indicator_extends(){return action_drag_indicator_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},action_drag_indicator_extends.apply(this,arguments)}function action_drag_indicator_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function action_drag_indicator_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgActionDragIndicator(p,b){var y=p.title,S=p.titleId,L=action_drag_indicator_objectWithoutProperties(p,Go);return P.createElement("svg",action_drag_indicator_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Vo||(Vo=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",transform:"translate(-344.000000, -1858.000000) translate(296.202020, 1858.000000) translate(47.797980, 0.000000)"})))))))}var qo,Jo=P.forwardRef(SvgActionDragIndicator),Zo=(y.p,["title","titleId"]);function icon_content_create_extends(){return icon_content_create_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_content_create_extends.apply(this,arguments)}function icon_content_create_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_content_create_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconContentCreate(p,b){var y=p.title,S=p.titleId,L=icon_content_create_objectWithoutProperties(p,Zo);return P.createElement("svg",icon_content_create_extends({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,qo||(qo=P.createElement("path",{d:"M2.999 17.25V21h3.75l11.06-11.06-3.75-3.75-11.06 11.06zM5.919 19h-.92v-.92l9.06-9.06.92.92L5.919 19zm14.79-13.37-2.34-2.34c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41z",fill:"#2C3032",fillRule:"evenodd"})))}var $o,Yo=P.forwardRef(SvgIconContentCreate),Ko=(y.p,["title","titleId"]);function icon_image_palette_extends(){return icon_image_palette_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_image_palette_extends.apply(this,arguments)}function icon_image_palette_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_image_palette_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconImagePalette(p,b){var y=p.title,S=p.titleId,L=icon_image_palette_objectWithoutProperties(p,Ko);return P.createElement("svg",icon_image_palette_extends({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,$o||($o=P.createElement("path",{d:"M12 2c5.51 0 10 4.04 10 9 0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67A2.5 2.5 0 0 1 12 22C6.49 22 2 17.51 2 12S6.49 2 12 2zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5a.518.518 0 0 0-.102-.302l-.038-.048c-.41-.46-.63-1.05-.63-1.65a2.5 2.5 0 0 1 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7zm-5.5 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm11 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-8-4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z",fill:"#2C3032",fillRule:"evenodd"})))}var Qo,Xo,ea,ta=P.forwardRef(SvgIconImagePalette),na=(y.p,Object(re.a)({tooltip:{whiteSpace:"nowrap",maxWidth:"none"}})(se.a)),ra=Object(Dn.default)("div")(Qo||(Qo=Object(Bn.a)(["\n  background-color: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: ","px;\n  transition: ",";\n  padding: ","px;\n  position: relative;\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    border-radius: ","px;\n  }\n\n  &:before {\n    background-color: ",";\n    opacity: 0;\n    transition: ",";\n  }\n\n  &:after {\n    transition: ",";\n    border: 1px solid ",";\n  }\n\n  .layer-panel__title {\n    flex: 1;\n  }\n\n  .layer-panel__letter-tooltip {\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    background-color: transparent;\n  }\n\n  .layer__visibility-toggle {\n    opacity: 0;\n    transition: ",";\n  }\n\n  &.hidden {\n    .layer__visibility-toggle {\n      opacity: 1;\n    }\n\n    .layer__title__editor {\n      color: ",";\n    }\n  }\n\n  :hover {\n    .layer__drag-handle {\n      opacity: 1;\n    }\n  }\n\n  &:not(.editing):not(.sql-open):not(.error):hover {\n    &:after {\n      opacity: 0;\n    }\n  }\n\n  &:not(.editing):not(.error):hover {\n    box-shadow: ",";\n    cursor: pointer;\n\n    .layer__visibility-toggle {\n      opacity: 1;\n    }\n  }\n\n  &.selected {\n    &:after {\n      border-color: ",";\n    }\n\n    .layer__drag-handle {\n      display: none;\n    }\n  }\n\n  .layer__title {\n    margin-left: 0;\n\n    > div {\n      display: flex;\n      flex-direction: column-reverse;\n      position: relative;\n    }\n  }\n\n  &.sql-open {\n    &:after {\n      border: 2px solid ",";\n    }\n  }\n\n  &.error {\n    background-color: ",";\n\n    .layer__title__type {\n      color: ",";\n    }\n  }\n\n  .layer__title__editor {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    padding: ",";\n    border: none;\n    border-bottom: 2px solid transparent;\n    line-height: ",";\n    letter-spacing: ",";\n    font-weight: 500;\n    width: 100%;\n    border-radius: 0;\n    color: ",";\n    height: ","px;\n    margin: ",";\n\n    &[readonly] {\n      cursor: pointer;\n    }\n\n    &:not([readonly]) {\n      :focus,\n      :active {\n        border-bottom-color: ",";\n      }\n    }\n  }\n"])),br.a.palette.common.white,br.a.shape.borderRadius,(function(p){return p.theme.transition}),br.a.spacing(2),br.a.shape.borderRadius,Object(K.alpha)(br.a.palette.secondary.light,.48),br.a.transitions.create("opacity",{easing:br.a.transitions.easing.easeInOut,duration:600,delay:1200}),(function(p){return p.theme.transition}),br.a.palette.divider,br.a.spacing(2),br.a.spacing(2),br.a.spacing(2),br.a.spacing(2),(function(p){return p.theme.transition}),br.a.palette.text.secondary,br.a.shadows[2],br.a.palette.primary.main,br.a.palette.secondary.main,br.a.palette.error.relatedLight,br.a.palette.error.main,br.a.spacing(.75,0),br.a.typography.body2.lineHeight,br.a.typography.body2.letterSpacing,br.a.palette.text.primary,br.a.spacing(4),br.a.spacing(0,0,-1),br.a.palette.primary.main),oa=Dn.default.div(Xo||(Xo=Object(Bn.a)(["\n  display: flex;\n  align-items: center;\n\n  .panel--header__action {\n    min-width: ","px;\n  }\n\n  > div {\n    margin-left: ","px;\n  }\n"])),br.a.spacing(3),br.a.spacing(.5)),aa=Dn.default.div(ea||(ea=Object(Bn.a)(["\n  position: absolute;\n  left: ","px;\n  width: ","px;\n  top: ","px;\n  bottom: ","px;\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 995;\n  cursor: move;\n  transition: ",";\n  svg {\n    width: 19px;\n    margin-left: -1.5px;\n    path {\n      fill: ",";\n      transition: ",";\n    }\n  }\n  :hover {\n    svg path {\n      fill: ",";\n    }\n  }\n"])),br.a.spacing(-2.25),br.a.spacing(4),br.a.spacing(-.25),br.a.spacing(-.25),(function(p){return p.theme.transition}),Object(K.alpha)(br.a.palette.text.secondary,.25),(function(p){return p.theme.transitionFast}),br.a.palette.text.primary),ia=function DoneButton(p){var b=p.onClick;return Object(B.jsx)(Ce.a,{size:"small",variant:"contained",onClick:b,color:"primary","aria-label":"layer-panel-done-button",children:"Done"})},la=Object(Lo.SortableHandle)((function(p){var b=p.className,y=p.children;return Object(B.jsx)(aa,{className:b,children:y})}));function CustomLayerPanelHeaderFactory(p){var b=function CustomLayerPanelHeader(b){var y=b.layers,L=b.datasets,T=b.layerId,z=b.onToggleEnableConfig,D=b.isConfigActive,N=b.label,Z=b.onUpdateLayerLabel,K=b.layerType,Q=b.onRemoveLayer,X=b.onDuplicateLayer,ne=b.isVisible,re=b.onToggleVisibility,ie=b.sqlPanelDatasetId,le=Object(P.useState)(!1),se=Object(ye.a)(le,2),de=se[0],ue=se[1],pe=Object(P.useState)(!1),be=Object(ye.a)(pe,2),ge=be[0],fe=be[1],he=Object(P.useRef)(null),me=Object(P.useState)(""),ve=Object(ye.a)(me,2),je=ve[0],Oe=ve[1],xe=Object(P.useState)(),_e=Object(ye.a)(xe,2),we=_e[0],Ce=_e[1],Se=Object(P.useState)(K),Ee=Object(ye.a)(Se,2),ke=Ee[0],Pe=Ee[1],Ie=Sn().maxLayersQuota,Le=Object(tt.a)(),Te=Object(P.useState)(!1),Re=Object(ye.a)(Te,2),ze=Re[0],Fe=Re[1],Ae=Object(P.useState)(N),Be=Object(ye.a)(Ae,2),De=Be[0],Ge=Be[1],qe=Object(Me.a)(),Je=we&&we.status===Ze.b.Rejected,$e=Object(P.useMemo)((function(){return Object(Mo.a)((function(p){p!==N&&Z({target:{value:p}})}),500)}),[N,Z]);Object(P.useEffect)((function(){$e(De)}),[$e,De]);var Ye=Object(P.useMemo)((function(){var p,b;return[null===(p=he.current)||void 0===p?void 0:p.querySelector('input[type="text"]'),null===(b=he.current)||void 0===b?void 0:b.querySelector(".layer__title__editor--ghost")]}),[he.current]),Ke=Object(ye.a)(Ye,2),Qe=Ke[0],Xe=Ke[1];Object(P.useEffect)((function(){if(Xe&&Qe){var p=null,b=function clearThisTimeout(){p&&(clearTimeout(p),p=null)},y=function onClick(y){Qe.readOnly&&(b(),p=setTimeout((function(){z(y)}),300))},S=function onDoubleClick(){b(),ue(!0)},P=function onMouseEnter(){if(Qe.readOnly){var p=Qe.getBoundingClientRect(),b=Xe.getBoundingClientRect();(null===p||void 0===p?void 0:p.width)&&(null===b||void 0===b?void 0:b.width)&&p.width<b.width&&fe(!0)}},L=function onMouseLeave(){fe(!1)},T=function onBlur(){ue(!1)},B=function onKeyUp(p){13===p.keyCode&&ue(!1)};return null===Qe||void 0===Qe||Qe.addEventListener("dblclick",S),null===Qe||void 0===Qe||Qe.addEventListener("click",y),null===Qe||void 0===Qe||Qe.addEventListener("keyup",B),null===Qe||void 0===Qe||Qe.addEventListener("mouseenter",P),null===Qe||void 0===Qe||Qe.addEventListener("mouseleave",L),null===Qe||void 0===Qe||Qe.addEventListener("blur",T),function(){null===Qe||void 0===Qe||Qe.removeEventListener("dblclick",S),null===Qe||void 0===Qe||Qe.removeEventListener("click",y),null===Qe||void 0===Qe||Qe.removeEventListener("keyup",B),null===Qe||void 0===Qe||Qe.removeEventListener("mouseenter",P),null===Qe||void 0===Qe||Qe.removeEventListener("mouseleave",L),null===Qe||void 0===Qe||Qe.removeEventListener("blur",T)}}}),[Xe,Qe,ue,fe,z]),Object(P.useEffect)((function(){var p=y.find((function(p){return p.id===T})).config.dataId,b=L.findIndex((function(b){return b.id===p}));-1!==b&&(Oe(Le[p]),Ce(L[b]))}),[T,y,L,Le]),Object(P.useEffect)((function(){if(K===q.h){var p,b,S,P,L=y.find((function(p){return p.id===T}));(null===L||void 0===L||null===(p=L.meta)||void 0===p||null===(b=p.featureTypes)||void 0===b?void 0:b.line)?Pe("line"):(null===L||void 0===L||null===(S=L.meta)||void 0===S||null===(P=S.featureTypes)||void 0===P?void 0:P.point)?Pe("point"):Pe("polygon")}}),[K,T,y]),Object(P.useEffect)((function(){var p;if(ie){var b=y.find((function(p){return p.id===T}));(null===b||void 0===b||null===(p=b.config)||void 0===p?void 0:p.dataId)===ie&&Fe(!0)}else Fe(!1)}),[ie,Fe,T,y]);var et=Object(P.useMemo)((function(){return[{id:"style",label:qe.formatMessage({id:"builder.layerPanelHeader.actions.style"}),icon:Object(B.jsx)(ta,{}),selected:D},{id:"duplicate",label:qe.formatMessage({id:"builder.layerPanelHeader.actions.duplicate"}),icon:Object(B.jsx)(Ao,{}),disabled:Ie.exceeded},{id:"rename",label:qe.formatMessage({id:"builder.layerPanelHeader.actions.rename"}),icon:Object(B.jsx)(Yo,{})},{id:"delete",label:qe.formatMessage({id:"builder.layerPanelHeader.actions.delete"}),icon:Object(B.jsx)(We,{}),variant:"error",divider:!0}]}),[qe,Ie,D]);Object(P.useEffect)((function(){Qe&&(de&&fe(!1),Qe.readOnly=!de,de&&setTimeout((function(){Qe.focus()}),0))}),[de,Qe,fe]);var nt=Object(P.useCallback)((function(){ue(!1)}),[ue]),rt=Object(P.useCallback)((function(p,b){var y=p.id;switch(null===b||void 0===b||b.stopPropagation(),y){case"style":z(b);break;case"duplicate":X(b);break;case"rename":null===b||void 0===b||b.stopPropagation(),ue(!0);break;case"delete":Q(b)}}),[Q,X,z,ue]);return Object(B.jsxs)(ra,{className:Wo()("layer-panel__header",{selected:D,"sort--handle":!D,editing:de,hidden:!ne,"sql-open":ze,error:Je}),sourceColor:(null===we||void 0===we?void 0:we.color)||"",sourceLetter:je,onClick:function onClick(p){de||Je||z(p)},children:[Object(B.jsx)(la,{className:"layer__drag-handle",children:Object(B.jsx)(Jo,{})}),Object(B.jsxs)("div",{className:"layer-panel__title",ref:he,children:[Object(B.jsx)(dr,{color:(null===we||void 0===we?void 0:we.color)||"",label:ke,letter:je,typographyVariant:"overline",typographyColor:"textSecondary"}),Object(B.jsx)(To.a,{onClickAway:nt,children:Object(B.jsx)("div",{children:Object(B.jsx)(na,{title:N,placement:"bottom-start",open:ge,children:Object(B.jsx)("div",{children:Object(B.jsx)(p,{layerId:T,label:De,onUpdateLayerLabel:function onUpdateLayerLabel(p){var b=p.target.value;return Ge(b)}})})})})}),Object(B.jsx)(na,{title:(null===we||void 0===we?void 0:we.source)||"",placement:"bottom-start",children:Object(B.jsx)("div",{className:"layer-panel__letter-tooltip"})})]}),Object(B.jsx)(oa,{children:D?Object(B.jsx)(ia,{onClick:z}):Object(B.jsxs)(B.Fragment,{children:[Je?Object(B.jsx)(He.a,{onClick:function onClick(){var p;alert(null===we||void 0===we||null===(p=we.errorMessage)||void 0===p?void 0:p.replaceAll(/error:/gi,""))},icon:Object(B.jsx)(Ne.a,{}),tooltip:qe.formatMessage({id:"builder.layerPanelHeader.errorDetailsTooltip"}),tooltipPlacement:"top",size:"small",error:!0}):Object(B.jsx)(He.a,Object(S.a)(Object(S.a)({onClick:re,icon:ne?Object(B.jsx)(No,{}):Object(B.jsx)(Uo,{})},ne&&{tooltip:qe.formatMessage({id:"builder.layerPanelHeader.hideLayerTooltip"})}),{},{tooltipPlacement:"top",size:"small",className:"layer__visibility-toggle"})),Object(B.jsx)(Ve.a,{onClickItem:rt,placement:"bottom-end",menuItems:et,elevation:8,dense:!0,iconWithLabel:!0,ButtonComponent:function ButtonComponent(p){var b=p.onClick;return Object(B.jsx)(He.a,{onClick:function onClick(p){p.stopPropagation(),b(p)},icon:Object(B.jsx)(Ue.a,{}),tooltip:qe.formatMessage({id:"builder.layerPanelHeader.actionsTooltip"}),tooltipPlacement:"top",size:"small"})}})]})})]})};return Object(z.withState)([],(function(p){var b;return{datasets:p.maps.currentMapDatasets,layers:p.keplerGl.map.visState.layers,isBuilderLoading:p.builder.isLoading,sqlPanelDatasetId:null===(b=p.builder.sqlPanel)||void 0===b?void 0:b.datasetId}}),{})(L.a.memo(b))}function CustomLayerTypeSelectorFactory(){var p,b,y=z.LayerTypeSelectorFactory.apply(void 0,arguments),P=function createLayersInstances(p,b){return p.reduce((function(p,y){return p[y.id]=new b[y.id],p}),{})},L=function getLayerTypeOptionsCompatible(b,y){var S=Object.keys(y.config.columns);return y.type===q.m?[b.find((function(p){return p.id===y.type}))]:b.filter((function(b){if("3D"===b.id)return!1;if(p&&p[b.id]){var y=p[b.id],P=Object.keys(y.config.columns).filter((function(p){return!y.config.columns[p].optional}));return P.length>0&&P.every((function(p){return S.includes(p)}))}return!1}))},T=function processGeojsonOption(p,y,S){var P=S.find((function(p){return"geojson"===p.id}));if(P&&p.meta.featureTypes)if(p.meta.featureTypes.line){var L=y.find((function(p){return"line"===p.id}));P.label=L.label,P.icon=L.icon}else if(p.meta.featureTypes.polygon)return P.label=b.label,P.icon=b.icon,S.filter((function(p){return"trip"!==p.id}));return S},D=function CustomLayerTypeSelector(z){var D=z.layer,N=z.layerTypeOptions,Z=z.layerClasses;p||(p=P(N,Z)),b||(b=Object(S.a)({},N.find((function(p){return p.id===q.h}))));var K=L(N,z.layer);return K=T(D,N,K),Object(B.jsx)(y,Object(S.a)(Object(S.a)({},z),{},{layerTypeOptions:K}))};return Object(z.withState)([],(function(p){return{layerClasses:p.keplerGl.map.visState.layerClasses}}),{})(D)}CustomLayerPanelHeaderFactory.deps=[z.LayerTitleSectionFactory,z.PanelHeaderActionFactory],CustomLayerTypeSelectorFactory.deps=z.LayerTypeSelectorFactory.deps;var ca,sa=y(821),da=y.n(sa);function CustomLayerColumnConfigFactory(){var p=da.a.apply(void 0,arguments);return function(b){return Object(B.jsx)(B.Fragment,{children:Object.keys(b.columns).length>0&&Object(B.jsx)(p,Object(S.a)({},b))})}}CustomLayerColumnConfigFactory.deps=da.a.deps;var ua=["title","titleId"];function widgets_illustration_extends(){return widgets_illustration_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},widgets_illustration_extends.apply(this,arguments)}function widgets_illustration_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function widgets_illustration_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgWidgetsIllustration(p,b){var y=p.title,S=p.titleId,L=widgets_illustration_objectWithoutProperties(p,ua);return P.createElement("svg",widgets_illustration_extends({width:"72px",height:"72px",viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),void 0===y?P.createElement("title",{id:S},"Widgets_illustration"):y?P.createElement("title",{id:S},y):null,ca||(ca=P.createElement("g",{id:"\\uD83D\\uDCCA-Widgets-ALT",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("g",{id:"Group-3-Copy",transform:"translate(-76.000000, 0.000000)"},P.createElement("g",{id:"Widgets_illustration",transform:"translate(76.000000, 0.000000)"},P.createElement("rect",{id:"Rectangle",x:0,y:0,width:72,height:72}),P.createElement("g",{id:"_icon/action/assessment_24px",transform:"translate(9.000000, 9.000000)",fillRule:"nonzero",strokeWidth:2},P.createElement("path",{d:"M48,1 C49.375,1 50.6243631,1.56357666 51.5303932,2.46960678 C52.4364233,3.3756369 53,4.625 53,6 L53,6 L53,48 C53,49.375 52.4364233,50.6243631 51.5303932,51.5303932 C50.6243631,52.4364233 49.375,53 48,53 L48,53 L6,53 C4.625,53 3.3756369,52.4364233 2.46960678,51.5303932 C1.56357666,50.6243631 1,49.375 1,48 L1,48 L1,6 C1,4.625 1.56357666,3.3756369 2.46960678,2.46960678 C3.3756369,1.56357666 4.625,1 6,1 L6,1 Z",id:"Path",stroke:"#036FE2",fill:"#F8F9F9"}),P.createElement("polygon",{id:"Path",stroke:"#024D9E",fillOpacity:.08,fill:"#036FE2",strokeLinejoin:"round",points:"12 21 18 21 18 42 12 42"}),P.createElement("polygon",{id:"Path",stroke:"#036FE2",fillOpacity:.08,fill:"#036FE2",strokeLinejoin:"round",points:"24 12 30 12 30 42 24 42"}),P.createElement("polygon",{id:"Path",stroke:"#358BE7",fillOpacity:.08,fill:"#036FE2",strokeLinejoin:"round",points:"36 30 42 30 42 42 36 42"})))))))}var pa=P.forwardRef(SvgWidgetsIllustration),ba=(y.p,Object(Oe.a)((function(p){var b=p.spacing;return{menu:{transform:"translate3d(0, ".concat(b(5),"px, 0)")}}})));var ga=function WidgetsEmpty(){var p=ba(),b=Object(Ee.a)(),y=Object(tt.a)(),S=Object(P.useState)(null),L=Object(ye.a)(S,2),z=L[0],D=L[1],N=Boolean(z),q=Object(Ee.b)((function(p){return p.builder.isLoading})),Z=Object(Ee.b)((function(p){return p.keplerGl.map.visState.datasets})),K=0===Object.keys(Z||{}).length;return Object(B.jsxs)(xe.a,{mt:10,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(B.jsx)(pa,{}),Object(B.jsx)(xe.a,{mt:1,children:Object(B.jsx)(_e.a,{variant:"body2",color:"textSecondary",align:"center",children:q?Object(B.jsx)(ke.a,{id:"builder.widgets.loadingDataSources"}):K?Object(B.jsx)(ke.a,{id:"builder.widgets.addDataSourceBeforeAdding"}):Object(B.jsx)(ke.a,{id:"builder.widgets.noWidgetsAdded"})})}),Object(B.jsxs)(xe.a,{mt:1,children:[Object(B.jsx)(Ce.a,{disabled:K||q,size:"small",variant:"outlined",color:"primary",onClick:function handleClickNewWidget(p){D(p.currentTarget)},children:Object(B.jsx)(ke.a,{id:"builder.widgets.newWidget"})}),Object(B.jsx)(or.a,{anchorEl:z,open:N,onClose:function handleCloseMenu(){D(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:p.menu,children:Object.entries(Z).map((function(p){var S=Object(ye.a)(p,2)[1];return Object(B.jsx)(ar.a,{onClick:function onClick(){return function handleSourceClick(p){b(Object(T.m)(p))}(S.id)},children:Object(B.jsx)(dr,{color:"rgb(".concat(S.color[0],", ").concat(S.color[1],", ").concat(S.color[2],")"),label:S.label,letter:y[S.id]})},S.id)}))})]})]})},fa=y(232),ha=y(2534),ma=y(1400),va=y(185),ja=y(202),ya=y(120),Oa=[ja.ALL_FIELD_TYPES.string,ja.ALL_FIELD_TYPES.boolean],xa=[ja.ALL_FIELD_TYPES.integer,ja.ALL_FIELD_TYPES.real];var _a=function useWidgetCategoryModel(p){var b=p.source,y=Object(P.useMemo)((function(){return b.fields.some((function(p){return Oa.includes(p.type)}))}),[b]),S=Object(P.useMemo)((function(){return b.fields.some((function(p){return xa.includes(p.type)}))?Object.values(ya.AggregationTypes):[ya.AggregationTypes.COUNT]}),[b]);return{validateWidget:function validateWidget(p){var y,S,P=null===(y=b.fields.find((function(b){return b.id===p.column})))||void 0===y?void 0:y.type,L=null===(S=b.fields.find((function(b){return b.id===p.operationColumn})))||void 0===S?void 0:S.type;Oa.includes(P)||(p.column=""),p.operation!==ya.AggregationTypes.COUNT&&xa.includes(L)||(p.operationColumn=""),p.isValid=!0,p.column||(p.isValid=!1),p.operation===ya.AggregationTypes.COUNT||p.operationColumn||(p.isValid=!1)},isWidgetAvailable:y,availableFileTypesForColumn:Oa,availableFileTypesForperationColumn:xa,availableOperations:S}},wa=[ja.ALL_FIELD_TYPES.integer,ja.ALL_FIELD_TYPES.real];var Ca=function useWidgetFormulaModel(p){var b=p.source,y=Object(P.useMemo)((function(){return!0}),[]),S=Object(P.useMemo)((function(){return b.fields.some((function(p){return wa.includes(p.type)}))?Object.values(ya.AggregationTypes):[ya.AggregationTypes.COUNT]}),[b]);return{validateWidget:function validateWidget(p){var y,S=null===(y=b.fields.find((function(b){return b.id===p.column})))||void 0===y?void 0:y.type;p.operation!==ya.AggregationTypes.COUNT&&wa.includes(S)||(p.column=""),p.operation===ya.AggregationTypes.COUNT||p.column?p.isValid=!0:p.isValid=!1},isWidgetAvailable:y,availableFileTypesForColumn:wa,availableOperations:S}},Sa=[ja.ALL_FIELD_TYPES.integer,ja.ALL_FIELD_TYPES.real];var Ea=function useWidgetHistogramModel(p){var b=p.source,y=Object(P.useMemo)((function(){return b.fields.some((function(p){return Sa.includes(p.type)}))}),[b]),S=Object(P.useMemo)((function(){return b.fields.some((function(p){return Sa.includes(p.type)}))?[ya.AggregationTypes.COUNT]:[]}),[b]);return{validateWidget:function validateWidget(p){var y,S=null===(y=b.fields.find((function(b){return b.id===p.column})))||void 0===y?void 0:y.type;Sa.includes(S)||(p.column=""),p.operation=ya.AggregationTypes.COUNT,p.column?p.isValid=!0:p.isValid=!1},isWidgetAvailable:y,availableFileTypesForColumn:Sa,availableOperations:S}},ka=[ja.ALL_FIELD_TYPES.date,ja.ALL_FIELD_TYPES.timestamp],Pa=[ja.ALL_FIELD_TYPES.integer,ja.ALL_FIELD_TYPES.real];var Ia=function useWidgetTimeSeriesModel(p){var b=p.source,y=Object(Ee.b)((function(p){return p.builder.widgets.find((function(p){return p.type===va.c.TIMESERIES}))})),S=Object(P.useMemo)((function(){return!y&&b.fields.some((function(p){return ka.includes(p.type)}))}),[b.fields,y]),L=Object(P.useMemo)((function(){return b.fields.some((function(p){return Pa.includes(p.type)}))?Object.values(ya.AggregationTypes):[ya.AggregationTypes.COUNT]}),[b]);return{validateWidget:function validateWidget(p){var y,S,P,L=null===(y=b.fields.find((function(b){return b.id===p.column})))||void 0===y?void 0:y.type,T=null===(S=b.fields.find((function(b){return b.id===p.operationColumn})))||void 0===S?void 0:S.type;ka.includes(L)||(p.column=(null===(P=b.fields.find((function(p){return p.type===ja.ALL_FIELD_TYPES.date||p.type===ja.ALL_FIELD_TYPES.timestamp})))||void 0===P?void 0:P.id)||"");p.operation!==ya.AggregationTypes.COUNT&&Pa.includes(T)||(p.operationColumn=""),p.isValid=!0,p.column||(p.isValid=!1),p.operation===ya.AggregationTypes.COUNT||p.operationColumn||(p.isValid=!1)},isWidgetAvailable:S,availableFileTypesForColumn:ka,availableFileTypesForperationColumn:Pa,availableOperations:L}},La=y(1391),Ma=y(2637),Ta=y(261),Ra=y.p+"static/media/icons-format.80a80163.svg",Wa=Object(Oe.a)((function(p){return{selector:{backgroundImage:"url('".concat(Ra,"')"),backgroundPosition:"".concat(p.spacing(1.75),"px, center"),backgroundRepeat:"no-repeat",paddingLeft:p.spacing(2.875),backgroundSize:p.spacing(2.25)}}}));var za=function WidgetFormatterSelector(p){var b=p.value,y=p.onChange,S=Wa(),L=Object(P.useState)(b||Ta.TOOLTIP_FORMATS.NONE.id),T=Object(ye.a)(L,2),z=T[0],D=T[1],N=Object(P.useMemo)((function(){return Object.values(Ta.TOOLTIP_FORMATS).filter((function(p){return p.type!==Ta.TOOLTIP_FORMAT_TYPES.DATE&&p.type!==Ta.TOOLTIP_FORMAT_TYPES.DATE_TIME}))}),[]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.formatting"})}),Object(B.jsx)(La.a,{size:"small",children:Object(B.jsx)(Ma.a,{fullWidth:!0,className:S.selector,value:z,onChange:function onFormatterSelected(p){var b=p.target.value;D(b),y(b)},children:N.map((function(p){return Object(B.jsx)(ar.a,{value:p.id,children:p.label},p.id)}))})})]})},Fa=Object(Oe.a)((function(p){return{label:{display:"flex",alignItems:"center","&:before":{content:'""',display:"block",width:p.spacing(1.5),height:p.spacing(1.5),borderRadius:p.spacing(.25),border:"2px solid ".concat(p.palette.common.black),marginRight:p.spacing(1),transform:"rotate(45deg)"}}}}));var Aa=function WidgetFormGroupLabel(p){var b=p.title,y=Fa();return Object(B.jsx)(_e.a,{variant:"body2",className:y.label,children:b})},Ba=Object(Oe.a)((function(p){return{content:{position:"relative","&:before":{content:'""',position:"absolute",left:p.spacing(.625),top:p.spacing(1.875),bottom:0,zIndex:1,width:p.spacing(.25),backgroundColor:p.palette.divider}}}}));var Da=function WidgetFormGroupContent(p){var b=p.title,y=p.children,S=Ba();return Object(B.jsxs)(xe.a,{pb:3.75,className:S.content,children:[Object(B.jsx)(Aa,{title:b}),Object(B.jsx)(xe.a,{mt:2.25,ml:2.5,children:y})]})},Na=y.p+"static/media/functions_alt.8d66e346.svg",Ha=Object(Oe.a)((function(p){return{selector:{textTransform:"uppercase",backgroundImage:"url('".concat(Na,"')"),backgroundPosition:"".concat(p.spacing(1.75),"px, center"),backgroundRepeat:"no-repeat",paddingLeft:p.spacing(2.875),backgroundSize:p.spacing(2.25)}}}));var Va=function WidgetOperationSelector(p){var b=p.value,y=p.onChange,S=p.availableOptions,L=Ha(),T=Object(P.useState)(b),z=Object(ye.a)(T,2),D=z[0],N=z[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.operation"})}),Object(B.jsx)(La.a,{size:"small",children:Object(B.jsx)(Ma.a,{fullWidth:!0,className:L.selector,value:D,onChange:function onOperationSelected(p){var b=p.target.value;N(b),y(b)},children:Object.entries(ya.AggregationTypes).map((function(p){var b=Object(ye.a)(p,2)[1];return Object(B.jsx)(ar.a,{style:{textTransform:"uppercase"},value:b,disabled:S&&!S.includes(b),children:b},b)}))})})]})},Ua=Object(Oe.a)((function(p){return{fieldSelector:{"& .field-selector .item-selector__dropdown":{backgroundColor:"transparent",transition:"background-color 0.25s ease, border-color 0.25s ease","&.active, &:hover":{backgroundColor:p.palette.common.white,borderColor:p.palette.primary.main}},"& .typeahead":{overflow:"hidden","& .typeahead__input_box":{display:"none"}},"& .field-selector_list-item":{"& > div:first-of-type > div":{width:"auto",padding:"0 ".concat(p.spacing(.5),"px"),fontFamily:"'Overpass Mono', monospace",fontSize:"11px",lineHeight:"14px"}},"& .list__item__anchor":{fontSize:p.typography.caption.fontSize,fontWeight:p.typography.caption.fontWeight,color:p.typography.caption.color},"&.selectorDisabled":{"& .field-selector .item-selector__dropdown":{backgroundColor:p.palette.action.hover,pointerEvents:"none"}}}}}));var Ga=function WidgetSourceFieldSelector(p){var b=p.source,y=p.value,S=p.onChange,L=p.disabled,T=void 0!==L&&L,D=p.availableFileTypes,N=p.label,q=Ua(),Z=Object(tt.a)(),K=Object(P.useState)(),Q=Object(ye.a)(K,2),X=Q[0],ne=Q[1];Object(P.useEffect)((function(){ne(y)}),[y]);var re=Object(P.useMemo)((function(){return D?b.fields.filter((function(p){return D.includes(p.type)})):b.fields}),[D,b.fields]);return Object(B.jsxs)(B.Fragment,{children:[!N&&Object(B.jsx)(xe.a,{mb:.5,children:Object(B.jsx)(dr,{color:"rgb(".concat(b.color[0],", ").concat(b.color[1],", ").concat(b.color[2],")"),label:b.label,letter:Z[b.id]})}),N&&Object(B.jsx)(_e.a,{variant:"caption",style:{fontWeight:500},children:N}),Object(B.jsx)("div",{className:"".concat(q.fieldSelector," ").concat(T&&"selectorDisabled"),children:Object(B.jsx)(z.FieldSelector,{inputTheme:"secondary",fields:re,value:X,erasable:!1,onSelect:function onFieldSelected(p){ne(p.id),S(p.id)},placeholder:T?" ":void 0})})]})};var qa=function WidgetNote(p){var b=p.value,y=p.onChange,S=Object(Me.a)(),L=Object(P.useState)(b),T=Object(ye.a)(L,2),z=T[0],D=T[1],N=Object(P.useMemo)((function(){return Object(Mo.a)((function(p){return y(p)}),500)}),[y]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.note"})}),Object(B.jsx)(ao.a,{value:z,multiline:!0,placeholder:S.formatMessage({id:"builder.widgets.typeANote"}),size:"small",inputProps:{maxLength:100},onChange:function handleOnChange(p){var b=p.target.value;D(b),N(b)}})]})};var Ja=function useWidgetForm(p){var b=p.widget,y=p.validateFunction,P=Object(Ee.a)();return{setValue:function setValue(p,L){b.column&&P(Object(fa.removeFilter)({id:b.dataSource,column:b.column}));var z=Object(S.a)(Object(S.a)({},b),{},Object(D.a)({},p,L));y(z),P(Object(T.p)(z))}}};var Za=function WidgetCategoryForm(p){var b=p.widget,y=Object(Me.a)(),S=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[b.dataSource],P=_a({source:S}),L=P.availableFileTypesForColumn,T=P.availableFileTypesForperationColumn,z=P.validateWidget,D=P.availableOperations,N=Ja({widget:b,validateFunction:z}).setValue;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.data"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Va,{value:b.operation,onChange:function onChange(p){return N("operation",p)},availableOptions:D}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.column,onChange:function onChange(p){return N("column",p)},availableFileTypes:L})}),b.operation!==ya.AggregationTypes.COUNT&&Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.operationColumn,onChange:function onChange(p){return N("operationColumn",p)},availableFileTypes:T,label:y.formatMessage({id:"builder.widgets.aggregationColumn"})})})]})}),Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.displayOptions"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(za,{value:b.formatter,onChange:function onChange(p){return N("formatter",p)}}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(qa,{value:b.note,onChange:function onChange(p){return N("note",p)}})})]})})]})};var $a=function WidgetFormulaForm(p){var b=p.widget,y=Object(Me.a)(),S=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[b.dataSource],P=Ca({source:S}),L=P.availableFileTypesForColumn,T=P.validateWidget,z=P.availableOperations,D=Ja({widget:b,validateFunction:T}).setValue;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.data"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Va,{value:b.operation,onChange:function onChange(p){return D("operation",p)},availableOptions:z}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.column,onChange:function onChange(p){return D("column",p)},disabled:b.operation===ya.AggregationTypes.COUNT,availableFileTypes:L})})]})}),Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.displayOptions"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(za,{value:b.formatter,onChange:function onChange(p){return D("formatter",p)}}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(qa,{value:b.note,onChange:function onChange(p){return D("note",p)}})})]})})]})},Ya=y(2638);var Ka=function InputWithSlider(p){var b=p.minStep,y=p.maxStep,S=p.step,L=p.value,T=p.onChange,z=Object(mn.a)(),D=Object(P.useState)(L),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Object(P.useState)(L),Q=Object(ye.a)(K,2),X=Q[0],ne=Q[1],re=function handleSlideChange(p){Z(p),ne(p),T(p)};return Object(B.jsxs)(xe.a,{display:"flex",alignItems:"center",children:[Object(B.jsx)(Ya.a,{value:q,onChange:function onChange(p,b){return re(b)},step:S,min:b,max:y}),Object(B.jsx)(ao.a,{style:{flex:"0 0 ".concat(z.spacing(7),"px"),marginLeft:z.spacing(2)},size:"small",type:"number",InputProps:{inputProps:{min:b,max:y}},value:X,onChange:function onChange(p){return ne(parseInt(p.target.value)||"")},onBlur:function handleOnBlur(){var p=X;"string"===typeof p&&(p=q),p<b&&(p=b),p>y&&(p=y),Z(p),ne(p),T(p)}})]})};var Qa=function WidgetHistogramForm(p){var b=p.widget,y=Object(Me.a)(),S=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[b.dataSource],P=Ea({source:S}),L=P.availableFileTypesForColumn,T=P.validateWidget,z=Ja({widget:b,validateFunction:T}).setValue;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.data"}),children:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.column,onChange:function onChange(p){return z("column",p)},availableFileTypes:L})})})}),Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.displayOptions"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.buckets"})}),Object(B.jsx)(Ka,{value:b.buckets,step:1,minStep:3,maxStep:12,onChange:function onChange(p){return z("buckets",p)}}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(za,{value:b.formatter,onChange:function onChange(p){return z("formatter",p)}})}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(qa,{value:b.note,onChange:function onChange(p){return z("note",p)}})})]})})]})};var Xa=function useWidgetRename(p){var b=p.widget,y=Object(Ee.a)(),S=Object(P.useState)(b.title),L=Object(ye.a)(S,2),z=L[0],B=L[1],D=Object(P.useState)(!1),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Object(P.useRef)(),Q=Object(P.useMemo)((function(){return Object(Mo.a)((function(p){y(Object(T.D)({id:b.id,props:{title:p}}))}),500)}),[y,b.id]);return Object(P.useEffect)((function(){var p;q&&K.current&&(null===(p=K.current)||void 0===p||p.focus())}),[q]),Object(P.useEffect)((function(){B(b.title)}),[b.title]),{title:z,editingTitle:q,setEditingTitle:Z,inputRef:K,handleOnTitleChange:function handleOnTitleChange(p){var b=p.target.value;B(b),Q(b)}}};var ei=function WidgetOptions(p){var b=p.widget,y=p.onRename,S=p.showNavigationOption,L=void 0===S||S,z=Object(Ee.a)(),D=Object(Me.a)(),N=Object(P.useCallback)((function(){z(Object(et.toggleSidePanel)("filter")),z(Object(T.y)(b.id))}),[z,b]),q=Object(P.useCallback)((function(){z(Object(T.n)(b))}),[z,b]),Z=Object(P.useCallback)((function(p){p.stopPropagation(),y&&y()}),[y]),K=Object(P.useCallback)((function(p,b){var y=p.id;switch(null===b||void 0===b||b.stopPropagation(),y){case"options":N();break;case"rename":Z(b);break;case"delete":q()}}),[N,Z,q]),Q=Object(P.useMemo)((function(){var p=[];return L&&p.push({id:"options",label:D.formatMessage({id:"builder.widgets.widgetOptions"}),icon:Object(B.jsx)(fe,{})}),y&&p.push({id:"rename",label:D.formatMessage({id:"builder.widgets.rename"}),icon:Object(B.jsx)(Yo,{})}),p.push({id:"delete",label:D.formatMessage({id:"builder.widgets.deleteWidget"}),icon:Object(B.jsx)(We,{}),variant:"error",divider:!0}),p}),[D,L,y]);return Object(B.jsx)(Ve.a,{onClickItem:K,placement:"bottom-end",menuItems:Q,elevation:8,dense:!0,iconWithLabel:!0,ButtonComponent:function ButtonComponent(p){var b=p.onClick;return Object(B.jsx)(He.a,{onClick:function onClick(p){p.stopPropagation(),b(p)},icon:Object(B.jsx)(Ue.a,{}),tooltip:D.formatMessage({id:"builder.layerPanelHeader.actionsTooltip"}),tooltipPlacement:"top",size:"small"})}})},ti=Object(Oe.a)((function(p){return{title:{"& input":Object(S.a)(Object(S.a)({},p.typography.subtitle1),{},{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})}}}));var ni,ri=function WidgetTitle(p){var b=p.widget,y=ti(),S=Xa({widget:b}),P=S.title,L=S.editingTitle,T=S.setEditingTitle,z=S.inputRef,D=S.handleOnTitleChange;return Object(B.jsxs)(xe.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(B.jsx)(To.a,{onClickAway:function onClickAway(){T(!1)},children:Object(B.jsx)(ao.a,{inputRef:z,size:"small",value:P,variant:"standard",onChange:D,InputProps:{disableUnderline:!L,readOnly:!L},className:y.title})}),Object(B.jsx)(ei,{widget:b,onRename:function handleEditTitle(){T(!0)},showNavigationOption:!1})]})},oi=["title","titleId"];function icon_widget_category_active_extends(){return icon_widget_category_active_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_category_active_extends.apply(this,arguments)}function icon_widget_category_active_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_category_active_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetCategoryActive(p,b){var y=p.title,S=p.titleId,L=icon_widget_category_active_objectWithoutProperties(p,oi);return P.createElement("svg",icon_widget_category_active_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ni||(ni=P.createElement("g",{fill:"#036FE2",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.6,d:"M5 6.667h10v1.667H5zM5 16.667h13.333v1.667H5zM5 26.667h6.667v1.667H5z"}),P.createElement("path",{fillOpacity:.25,d:"M5 10h30v3.333H5zM5 20h30v3.333H5zM5 30h30v3.333H5z"}),P.createElement("path",{d:"M5 10h30v3.333H5zM5 20h20v3.333H5zM5 30h13.333v3.333H5z"}))))}var ai,ii=P.forwardRef(SvgIconWidgetCategoryActive),li=(y.p,["title","titleId"]);function icon_widget_category_extends(){return icon_widget_category_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_category_extends.apply(this,arguments)}function icon_widget_category_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_category_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetCategory(p,b){var y=p.title,S=p.titleId,L=icon_widget_category_objectWithoutProperties(p,li);return P.createElement("svg",icon_widget_category_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ai||(ai=P.createElement("g",{fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.36,d:"M5 6.667h10v1.667H5zM5 16.667h13.333v1.667H5zM5 26.667h6.667v1.667H5z"}),P.createElement("path",{fillOpacity:.15,d:"M5 10h30v3.333H5zM5 20h30v3.333H5zM5 30h30v3.333H5z"}),P.createElement("path",{fillOpacity:.6,d:"M5 10h30v3.333H5zM5 20h20v3.333H5zM5 30h13.333v3.333H5z"}))))}var ci,si=P.forwardRef(SvgIconWidgetCategory),di=(y.p,["title","titleId"]);function icon_widget_category_disable_extends(){return icon_widget_category_disable_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_category_disable_extends.apply(this,arguments)}function icon_widget_category_disable_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_category_disable_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetCategoryDisable(p,b){var y=p.title,S=p.titleId,L=icon_widget_category_disable_objectWithoutProperties(p,di);return P.createElement("svg",icon_widget_category_disable_extends({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{background:"#FFFFFF"},ref:b,"aria-labelledby":S},L),void 0===y?P.createElement("title",{id:S},"Icon/48/CARTO Stack/Widget type/Category"):y?P.createElement("title",{id:S},y):null,ci||(ci=P.createElement("g",{id:"Icon/48/CARTO-Stack/Widget-type/Category",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("rect",{fill:"#FFFFFF",x:0,y:0,width:48,height:48}),P.createElement("g",{id:"Group",transform:"translate(6.000000, 8.000000)",fill:"#2C3032"},P.createElement("rect",{id:"Rectangle",fillOpacity:.15,x:0,y:0,width:12,height:2}),P.createElement("rect",{id:"Rectangle-Copy-3",fillOpacity:.15,x:0,y:12,width:16,height:2}),P.createElement("rect",{id:"Rectangle-Copy-6",fillOpacity:.15,x:0,y:24,width:8,height:2}),P.createElement("rect",{id:"Rectangle-Copy",fillOpacity:.0625,x:0,y:4,width:36,height:4}),P.createElement("rect",{id:"Rectangle-Copy-4",fillOpacity:.0625,x:0,y:16,width:36,height:4}),P.createElement("rect",{id:"Rectangle-Copy-7",fillOpacity:.0625,x:0,y:28,width:36,height:4}),P.createElement("rect",{id:"Rectangle-Copy-2",fillOpacity:.25,x:0,y:4,width:36,height:4}),P.createElement("rect",{id:"Rectangle-Copy-5",fillOpacity:.25,x:0,y:16,width:24,height:4}),P.createElement("rect",{id:"Rectangle-Copy-8",fillOpacity:.25,x:0,y:28,width:16,height:4})))))}var ui,pi=P.forwardRef(SvgIconWidgetCategoryDisable),bi=(y.p,["title","titleId"]);function icon_widget_formula_active_extends(){return icon_widget_formula_active_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_formula_active_extends.apply(this,arguments)}function icon_widget_formula_active_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_formula_active_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetFormulaActive(p,b){var y=p.title,S=p.titleId,L=icon_widget_formula_active_objectWithoutProperties(p,bi);return P.createElement("svg",icon_widget_formula_active_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,ui||(ui=P.createElement("g",{fill:"#036FE2",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.6,d:"M5 6.667h23.333V10H5z"}),P.createElement("path",{fillOpacity:.4,d:"M5 29.167h30v1.667H5zM5 31.667h13.333v1.667H5z"}),P.createElement("path",{d:"M9.827 27.433V25.94c1.004-.107 1.77-.411 2.3-.913a2.433 2.433 0 0 0 .793-1.834c0-.577-.144-1.042-.433-1.393a2.735 2.735 0 0 0-1.067-.793 10.25 10.25 0 0 0-1.593-.494V17.82a5.548 5.548 0 0 1 2.16.72l.546-1.347a4.797 4.797 0 0 0-1.246-.56 6.243 6.243 0 0 0-1.46-.253V14.9H8.733v1.507c-.995.097-1.755.4-2.28.906a2.464 2.464 0 0 0-.786 1.84c0 .578.142 1.043.426 1.394a2.74 2.74 0 0 0 1.06.8c.423.182.95.349 1.58.5v2.666a5.338 5.338 0 0 1-1.466-.34 4.424 4.424 0 0 1-1.2-.673l-.6 1.347c.346.302.813.55 1.4.746a7.472 7.472 0 0 0 1.866.36v1.48h1.094zm-1.094-7.2c-.435-.124-.769-.275-1-.453a.848.848 0 0 1-.346-.707c0-.31.11-.573.333-.786.222-.214.56-.356 1.013-.427v2.373zm1.094 4.254v-2.36c.444.124.786.277 1.026.46.24.182.36.424.36.726a.982.982 0 0 1-.34.76c-.226.205-.575.343-1.046.414z",fillOpacity:.6}),P.createElement("path",{d:"M18.813 25.833V16.5h-3.706v1.453h1.973v7.88h1.733zm8.739 0v-1.466h-4.4l2.493-2.374c.604-.569 1.013-1.075 1.227-1.52.213-.444.32-.92.32-1.426 0-.827-.303-1.48-.907-1.96-.604-.48-1.413-.72-2.427-.72-.764 0-1.455.135-2.073.406-.618.271-1.109.651-1.473 1.14l1.213.934c.507-.65 1.236-.974 2.187-.974.569 0 1 .116 1.293.347.293.231.44.564.44 1 0 .293-.073.589-.22.887-.147.297-.429.646-.847 1.046l-3.706 3.52v1.16h6.88zm4.058.134c.8 0 1.478-.131 2.033-.394.556-.262.971-.615 1.247-1.06.276-.444.413-.937.413-1.48 0-.72-.226-1.32-.68-1.8-.453-.48-1.11-.773-1.973-.88l2.267-2.693V16.5h-6.36v1.453h4.24l-2.12 2.52v1.187h.853c.684 0 1.193.122 1.527.367.333.244.5.584.5 1.02 0 .435-.176.78-.527 1.033-.351.253-.833.38-1.447.38a4.635 4.635 0 0 1-1.5-.247 3.776 3.776 0 0 1-1.233-.673l-.747 1.347c.436.337.963.602 1.58.793.618.191 1.26.287 1.927.287z"}))))}var gi,fi=P.forwardRef(SvgIconWidgetFormulaActive),hi=(y.p,["title","titleId"]);function icon_widget_formula_extends(){return icon_widget_formula_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_formula_extends.apply(this,arguments)}function icon_widget_formula_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_formula_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetFormula(p,b){var y=p.title,S=p.titleId,L=icon_widget_formula_objectWithoutProperties(p,hi);return P.createElement("svg",icon_widget_formula_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,gi||(gi=P.createElement("g",{fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.36,d:"M5 6.667h23.333V10H5z"}),P.createElement("path",{fillOpacity:.24,d:"M5 29.167h30v1.667H5zM5 31.667h13.333v1.667H5z"}),P.createElement("path",{d:"M9.827 27.433V25.94c1.004-.107 1.77-.411 2.3-.913a2.433 2.433 0 0 0 .793-1.834c0-.577-.144-1.042-.433-1.393a2.735 2.735 0 0 0-1.067-.793 10.25 10.25 0 0 0-1.593-.494V17.82a5.548 5.548 0 0 1 2.16.72l.546-1.347a4.797 4.797 0 0 0-1.246-.56 6.243 6.243 0 0 0-1.46-.253V14.9H8.733v1.507c-.995.097-1.755.4-2.28.906a2.464 2.464 0 0 0-.786 1.84c0 .578.142 1.043.426 1.394a2.74 2.74 0 0 0 1.06.8c.423.182.95.349 1.58.5v2.666a5.338 5.338 0 0 1-1.466-.34 4.424 4.424 0 0 1-1.2-.673l-.6 1.347c.346.302.813.55 1.4.746a7.472 7.472 0 0 0 1.866.36v1.48h1.094zm-1.094-7.2c-.435-.124-.769-.275-1-.453a.848.848 0 0 1-.346-.707c0-.31.11-.573.333-.786.222-.214.56-.356 1.013-.427v2.373zm1.094 4.254v-2.36c.444.124.786.277 1.026.46.24.182.36.424.36.726a.982.982 0 0 1-.34.76c-.226.205-.575.343-1.046.414z",fillOpacity:.36}),P.createElement("path",{d:"M18.813 25.833V16.5h-3.706v1.453h1.973v7.88h1.733zm8.739 0v-1.466h-4.4l2.493-2.374c.604-.569 1.013-1.075 1.227-1.52.213-.444.32-.92.32-1.426 0-.827-.303-1.48-.907-1.96-.604-.48-1.413-.72-2.427-.72-.764 0-1.455.135-2.073.406-.618.271-1.109.651-1.473 1.14l1.213.934c.507-.65 1.236-.974 2.187-.974.569 0 1 .116 1.293.347.293.231.44.564.44 1 0 .293-.073.589-.22.887-.147.297-.429.646-.847 1.046l-3.706 3.52v1.16h6.88zm4.058.134c.8 0 1.478-.131 2.033-.394.556-.262.971-.615 1.247-1.06.276-.444.413-.937.413-1.48 0-.72-.226-1.32-.68-1.8-.453-.48-1.11-.773-1.973-.88l2.267-2.693V16.5h-6.36v1.453h4.24l-2.12 2.52v1.187h.853c.684 0 1.193.122 1.527.367.333.244.5.584.5 1.02 0 .435-.176.78-.527 1.033-.351.253-.833.38-1.447.38a4.635 4.635 0 0 1-1.5-.247 3.776 3.776 0 0 1-1.233-.673l-.747 1.347c.436.337.963.602 1.58.793.618.191 1.26.287 1.927.287z",fillOpacity:.6}))))}var mi,vi=P.forwardRef(SvgIconWidgetFormula),ji=(y.p,["title","titleId"]);function icon_widget_formula_disable_extends(){return icon_widget_formula_disable_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_formula_disable_extends.apply(this,arguments)}function icon_widget_formula_disable_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_formula_disable_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetFormulaDisable(p,b){var y=p.title,S=p.titleId,L=icon_widget_formula_disable_objectWithoutProperties(p,ji);return P.createElement("svg",icon_widget_formula_disable_extends({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{background:"#FFFFFF"},ref:b,"aria-labelledby":S},L),void 0===y?P.createElement("title",{id:S},"Icon/48/CARTO Stack/Widget type/Formula"):y?P.createElement("title",{id:S},y):null,mi||(mi=P.createElement("g",{id:"Icon/48/CARTO-Stack/Widget-type/Formula",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("rect",{fill:"#FFFFFF",x:0,y:0,width:48,height:48}),P.createElement("g",{id:"Group",transform:"translate(6.000000, 8.000000)",fill:"#2C3032"},P.createElement("rect",{id:"Rectangle",fillOpacity:.15,x:0,y:0,width:28,height:4}),P.createElement("rect",{id:"Rectangle-Copy",fillOpacity:.1,x:0,y:27,width:36,height:2}),P.createElement("rect",{id:"Rectangle-Copy-2",fillOpacity:.1,x:0,y:30,width:16,height:2}),P.createElement("path",{d:"M5.792,24.92 L5.792,23.128 C6.99733333,23 7.91733333,22.6346667 8.552,22.032 C9.18666667,21.4293333 9.504,20.696 9.504,19.832 C9.504,19.1386667 9.33066667,18.5813333 8.984,18.16 C8.63733333,17.7386667 8.21066667,17.4213333 7.704,17.208 C7.19733333,16.9946667 6.56,16.7973333 5.792,16.616 L5.792,16.616 L5.792,13.384 C6.70933333,13.4906667 7.57333333,13.7786667 8.384,14.248 L8.384,14.248 L9.04,12.632 C8.61333333,12.3546667 8.11466667,12.1306667 7.544,11.96 C6.97333333,11.7893333 6.38933333,11.688 5.792,11.656 L5.792,11.656 L5.792,9.88 L4.48,9.88 L4.48,11.688 C3.28533333,11.8053333 2.37333333,12.168 1.744,12.776 C1.11466667,13.384 0.8,14.12 0.8,14.984 C0.8,15.6773333 0.970666667,16.2346667 1.312,16.656 C1.65333333,17.0773333 2.07733333,17.3973333 2.584,17.616 C3.09066667,17.8346667 3.72266667,18.0346667 4.48,18.216 L4.48,18.216 L4.48,21.416 C3.872,21.3626667 3.28533333,21.2266667 2.72,21.008 C2.15466667,20.7893333 1.67466667,20.52 1.28,20.2 L1.28,20.2 L0.56,21.816 C0.976,22.1786667 1.536,22.4773333 2.24,22.712 C2.944,22.9466667 3.69066667,23.0906667 4.48,23.144 L4.48,23.144 L4.48,24.92 L5.792,24.92 Z M4.48,16.28 C3.95733333,16.1306667 3.55733333,15.9493333 3.28,15.736 C3.00266667,15.5226667 2.864,15.24 2.864,14.888 C2.864,14.5146667 2.99733333,14.2 3.264,13.944 C3.53066667,13.688 3.936,13.5173333 4.48,13.432 L4.48,13.432 L4.48,16.28 Z M5.792,21.384 L5.792,18.552 C6.32533333,18.7013333 6.736,18.8853333 7.024,19.104 C7.312,19.3226667 7.456,19.6133333 7.456,19.976 C7.456,20.3386667 7.32,20.6426667 7.048,20.888 C6.776,21.1333333 6.35733333,21.2986667 5.792,21.384 L5.792,21.384 Z",id:"$",fillOpacity:.15}),P.createElement("path",{d:"M16.576,23 L16.576,11.8 L12.128,11.8 L12.128,13.544 L14.496,13.544 L14.496,23 L16.576,23 Z M27.062,23 L27.062,21.24 L21.782,21.24 L24.774,18.392 C25.4993333,17.7093333 25.99,17.1013333 26.246,16.568 C26.502,16.0346667 26.63,15.464 26.63,14.856 C26.63,13.864 26.2673333,13.08 25.542,12.504 C24.8166667,11.928 23.846,11.64 22.63,11.64 C21.7126667,11.64 20.8833333,11.8026667 20.142,12.128 C19.4006667,12.4533333 18.8113333,12.9093333 18.374,13.496 L18.374,13.496 L19.83,14.616 C20.438,13.8373333 21.3126667,13.448 22.454,13.448 C23.1366667,13.448 23.654,13.5866667 24.006,13.864 C24.358,14.1413333 24.534,14.5413333 24.534,15.064 C24.534,15.416 24.446,15.7706667 24.27,16.128 C24.094,16.4853333 23.7553333,16.904 23.254,17.384 L23.254,17.384 L18.806,21.608 L18.806,23 L27.062,23 Z M31.932,23.16 C32.892,23.16 33.7053333,23.0026667 34.372,22.688 C35.0386667,22.3733333 35.5373333,21.9493333 35.868,21.416 C36.1986667,20.8826667 36.364,20.2906667 36.364,19.64 C36.364,18.776 36.092,18.056 35.548,17.48 C35.004,16.904 34.2146667,16.552 33.18,16.424 L33.18,16.424 L35.9,13.192 L35.9,11.8 L28.268,11.8 L28.268,13.544 L33.356,13.544 L30.812,16.568 L30.812,17.992 L31.836,17.992 C32.6573333,17.992 33.268,18.1386667 33.668,18.432 C34.068,18.7253333 34.268,19.1333333 34.268,19.656 C34.268,20.1786667 34.0573333,20.592 33.636,20.896 C33.2146667,21.2 32.636,21.352 31.9,21.352 C31.2813333,21.352 30.6813333,21.2533333 30.1,21.056 C29.5186667,20.8586667 29.0253333,20.5893333 28.62,20.248 L28.62,20.248 L27.724,21.864 C28.2466667,22.2693333 28.8786667,22.5866667 29.62,22.816 C30.3613333,23.0453333 31.132,23.16 31.932,23.16 Z",id:123,fillOpacity:.25})))))}var yi,Oi=P.forwardRef(SvgIconWidgetFormulaDisable),xi=(y.p,["title","titleId"]);function icon_widget_histogram_active_extends(){return icon_widget_histogram_active_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_histogram_active_extends.apply(this,arguments)}function icon_widget_histogram_active_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_histogram_active_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetHistogramActive(p,b){var y=p.title,S=p.titleId,L=icon_widget_histogram_active_objectWithoutProperties(p,xi);return P.createElement("svg",icon_widget_histogram_active_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,yi||(yi=P.createElement("g",{fill:"#036FE2",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.6,d:"M6.666 31.667h1.667v1.667H6.666zM10.833 31.667H12.5v1.667h-1.667zM15 31.667h1.667v1.667H15zM19.166 31.667h1.667v1.667h-1.667zM23.333 31.667H25v1.667h-1.667zM27.5 31.667h1.667v1.667H27.5zM31.666 31.667h1.667v1.667h-1.667z"}),P.createElement("path",{d:"M5.833 23.334h3.333V30H5.833zM30.833 23.334h3.333V30h-3.333zM22.5 10h3.333v20H22.5zM26.666 16.667H30V30h-3.333zM18.333 6.667h3.333V30h-3.333zM14.166 13.334H17.5V30h-3.333zM10 20h3.333v10H10z"}))))}var _i,wi=P.forwardRef(SvgIconWidgetHistogramActive),Ci=(y.p,["title","titleId"]);function icon_widget_histogram_extends(){return icon_widget_histogram_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_histogram_extends.apply(this,arguments)}function icon_widget_histogram_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_histogram_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetHistogram(p,b){var y=p.title,S=p.titleId,L=icon_widget_histogram_objectWithoutProperties(p,Ci);return P.createElement("svg",icon_widget_histogram_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,_i||(_i=P.createElement("g",{fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.36,d:"M6.666 31.667h1.667v1.667H6.666zM10.833 31.667H12.5v1.667h-1.667zM15 31.667h1.667v1.667H15zM19.166 31.667h1.667v1.667h-1.667zM23.333 31.667H25v1.667h-1.667zM27.5 31.667h1.667v1.667H27.5zM31.666 31.667h1.667v1.667h-1.667z"}),P.createElement("path",{fillOpacity:.6,d:"M5.833 23.334h3.333V30H5.833zM30.833 23.334h3.333V30h-3.333zM22.5 10h3.333v20H22.5zM26.666 16.667H30V30h-3.333zM18.333 6.667h3.333V30h-3.333zM14.166 13.334H17.5V30h-3.333zM10 20h3.333v10H10z"}))))}var Si,Ei=P.forwardRef(SvgIconWidgetHistogram),ki=(y.p,["title","titleId"]);function icon_widget_histogram_disable_extends(){return icon_widget_histogram_disable_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_histogram_disable_extends.apply(this,arguments)}function icon_widget_histogram_disable_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_histogram_disable_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetHistogramDisable(p,b){var y=p.title,S=p.titleId,L=icon_widget_histogram_disable_objectWithoutProperties(p,ki);return P.createElement("svg",icon_widget_histogram_disable_extends({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{background:"#FFFFFF"},ref:b,"aria-labelledby":S},L),void 0===y?P.createElement("title",{id:S},"Icon/48/CARTO Stack/Widget type/Histogram"):y?P.createElement("title",{id:S},y):null,Si||(Si=P.createElement("g",{id:"Icon/48/CARTO-Stack/Widget-type/Histogram",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("rect",{fill:"#FFFFFF",x:0,y:0,width:48,height:48}),P.createElement("g",{id:"Group",transform:"translate(7.000000, 8.000000)",fill:"#2C3032"},P.createElement("rect",{id:"Rectangle-Copy-6",fillOpacity:.15,x:1,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-10",fillOpacity:.15,x:6,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-11",fillOpacity:.15,x:11,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-12",fillOpacity:.15,x:16,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-13",fillOpacity:.15,x:21,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-14",fillOpacity:.15,x:26,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-15",fillOpacity:.15,x:31,y:30,width:2,height:2}),P.createElement("rect",{id:"Rectangle-Copy-2",fillOpacity:.25,x:0,y:20,width:4,height:8}),P.createElement("rect",{id:"Rectangle-Copy-3",fillOpacity:.25,x:30,y:20,width:4,height:8}),P.createElement("rect",{id:"Rectangle-Copy-4",fillOpacity:.25,x:20,y:4,width:4,height:24}),P.createElement("rect",{id:"Rectangle-Copy-9",fillOpacity:.25,x:25,y:12,width:4,height:16}),P.createElement("rect",{id:"Rectangle-Copy-5",fillOpacity:.25,x:15,y:0,width:4,height:28}),P.createElement("rect",{id:"Rectangle-Copy-7",fillOpacity:.25,x:10,y:8,width:4,height:20}),P.createElement("rect",{id:"Rectangle-Copy-8",fillOpacity:.25,x:5,y:16,width:4,height:12})))))}var Pi,Ii,Li=P.forwardRef(SvgIconWidgetHistogramDisable),Mi=(y.p,["title","titleId"]);function icon_widget_timeseries_active_extends(){return icon_widget_timeseries_active_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_timeseries_active_extends.apply(this,arguments)}function icon_widget_timeseries_active_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_timeseries_active_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetTimeseriesActive(p,b){var y=p.title,S=p.titleId,L=icon_widget_timeseries_active_objectWithoutProperties(p,Mi);return P.createElement("svg",icon_widget_timeseries_active_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Pi||(Pi=P.createElement("defs",null,P.createElement("path",{d:"M21.25 9.063 25 6.25l-3.75-2.813v5.626zM22.5 0c-3.45 0-6.25 2.8-6.25 6.25s2.8 6.25 6.25 6.25 6.25-2.8 6.25-6.25S25.95 0 22.5 0zm0 11.25c-2.756 0-5-2.244-5-5s2.244-5 5-5 5 2.244 5 5-2.244 5-5 5z",id:"a"}))),Ii||(Ii=P.createElement("g",{transform:"translate(6.667 4.583)",fill:"#036FE2",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.6,d:"M0 27.083h1.667v1.667H0zM4.167 27.083h1.667v1.667H4.167zM8.333 27.083H10v1.667H8.333zM12.5 27.083h1.667v1.667H12.5zM16.667 27.083h1.667v1.667h-1.667zM20.833 27.083H22.5v1.667h-1.667zM25 27.083h1.667v1.667H25z"}),P.createElement("path",{d:"M2.99 6.409a2.5 2.5 0 0 1 4.33-.507l.097.143 2.398 3.837.083.142.073.148 3.023 6.65a.833.833 0 0 0 1.334.257l.064-.068.911-1.093a2.5 2.5 0 0 1 4.01.228l.096.158 2.698 4.857a.833.833 0 0 0 .316.319l.103.05 3.617 1.446a.833.833 0 0 1-.527 1.579l-.092-.031-3.617-1.447a2.5 2.5 0 0 1-1.168-.96l-.089-.147-2.698-4.857a.833.833 0 0 0-1.296-.204l-.072.076-.911 1.093a2.5 2.5 0 0 1-4.132-.434l-.065-.132-3.022-6.65-.025-.05-2.425-3.884a.833.833 0 0 0-1.434.034l-.042.088-2.925 7.02a.833.833 0 0 1-1.571-.549l.032-.092L2.99 6.41z",fillRule:"nonzero"}),P.createElement("use",{fillOpacity:.6,xlinkHref:"#a"}))))}var Ti,Ri,Wi=P.forwardRef(SvgIconWidgetTimeseriesActive),zi=(y.p,["title","titleId"]);function icon_widget_timeseries_extends(){return icon_widget_timeseries_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_timeseries_extends.apply(this,arguments)}function icon_widget_timeseries_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_timeseries_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetTimeseries(p,b){var y=p.title,S=p.titleId,L=icon_widget_timeseries_objectWithoutProperties(p,zi);return P.createElement("svg",icon_widget_timeseries_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Ti||(Ti=P.createElement("defs",null,P.createElement("path",{d:"M21.25 9.063 25 6.25l-3.75-2.813v5.626zM22.5 0c-3.45 0-6.25 2.8-6.25 6.25s2.8 6.25 6.25 6.25 6.25-2.8 6.25-6.25S25.95 0 22.5 0zm0 11.25c-2.756 0-5-2.244-5-5s2.244-5 5-5 5 2.244 5 5-2.244 5-5 5z",id:"a"}))),Ri||(Ri=P.createElement("g",{transform:"translate(6.667 4.583)",fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.6,d:"M0 27.083h1.667v1.667H0zM4.167 27.083h1.667v1.667H4.167zM8.333 27.083H10v1.667H8.333zM12.5 27.083h1.667v1.667H12.5zM16.667 27.083h1.667v1.667h-1.667zM20.833 27.083H22.5v1.667h-1.667zM25 27.083h1.667v1.667H25z"}),P.createElement("path",{d:"M2.99 6.409a2.5 2.5 0 0 1 4.33-.507l.097.143 2.398 3.837.083.142.073.148 3.023 6.65a.833.833 0 0 0 1.334.257l.064-.068.911-1.093a2.5 2.5 0 0 1 4.01.228l.096.158 2.698 4.857a.833.833 0 0 0 .316.319l.103.05 3.617 1.446a.833.833 0 0 1-.527 1.579l-.092-.031-3.617-1.447a2.5 2.5 0 0 1-1.168-.96l-.089-.147-2.698-4.857a.833.833 0 0 0-1.296-.204l-.072.076-.911 1.093a2.5 2.5 0 0 1-4.132-.434l-.065-.132-3.022-6.65-.025-.05-2.425-3.884a.833.833 0 0 0-1.434.034l-.042.088-2.925 7.02a.833.833 0 0 1-1.571-.549l.032-.092L2.99 6.41z",fillOpacity:.6,fillRule:"nonzero"}),P.createElement("use",{fillOpacity:.6,xlinkHref:"#a"}))))}var Fi,Ai,Bi=P.forwardRef(SvgIconWidgetTimeseries),Di=(y.p,["title","titleId"]);function icon_widget_timeseries_disable_extends(){return icon_widget_timeseries_disable_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_widget_timeseries_disable_extends.apply(this,arguments)}function icon_widget_timeseries_disable_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_widget_timeseries_disable_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconWidgetTimeseriesDisable(p,b){var y=p.title,S=p.titleId,L=icon_widget_timeseries_disable_objectWithoutProperties(p,Di);return P.createElement("svg",icon_widget_timeseries_disable_extends({width:40,height:40,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,Fi||(Fi=P.createElement("defs",null,P.createElement("path",{d:"M21.25 9.063 25 6.25l-3.75-2.813v5.626zM22.5 0c-3.45 0-6.25 2.8-6.25 6.25s2.8 6.25 6.25 6.25 6.25-2.8 6.25-6.25S25.95 0 22.5 0zm0 11.25c-2.756 0-5-2.244-5-5s2.244-5 5-5 5 2.244 5 5-2.244 5-5 5z",id:"a"}))),Ai||(Ai=P.createElement("g",{transform:"translate(6.667 4.583)",fill:"#2C3032",fillRule:"evenodd"},P.createElement("path",{fillOpacity:.15,d:"M0 27.083h1.667v1.667H0zM4.167 27.083h1.667v1.667H4.167zM8.333 27.083H10v1.667H8.333zM12.5 27.083h1.667v1.667H12.5zM16.667 27.083h1.667v1.667h-1.667zM20.833 27.083H22.5v1.667h-1.667zM25 27.083h1.667v1.667H25z"}),P.createElement("path",{d:"M2.99 6.409a2.5 2.5 0 0 1 4.33-.507l.097.143 2.398 3.837.083.142.073.148 3.023 6.65a.833.833 0 0 0 1.334.257l.064-.068.911-1.093a2.5 2.5 0 0 1 4.01.228l.096.158 2.698 4.857a.833.833 0 0 0 .316.319l.103.05 3.617 1.446a.833.833 0 0 1-.527 1.579l-.092-.031-3.617-1.447a2.5 2.5 0 0 1-1.168-.96l-.089-.147-2.698-4.857a.833.833 0 0 0-1.296-.204l-.072.076-.911 1.093a2.5 2.5 0 0 1-4.132-.434l-.065-.132-3.022-6.65-.025-.05-2.425-3.884a.833.833 0 0 0-1.434.034l-.042.088-2.925 7.02a.833.833 0 0 1-1.571-.549l.032-.092L2.99 6.41z",fillOpacity:.25,fillRule:"nonzero"}),P.createElement("use",{fillOpacity:.15,xlinkHref:"#a"}))))}var Ni=P.forwardRef(SvgIconWidgetTimeseriesDisable),Hi=(y.p,Object(Oe.a)((function(p){return{typeSelectorContainer:{display:"flex",overflowX:"auto","-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},typeSelector:{width:0,flex:"0 0 ".concat(p.spacing(9),"px"),height:p.spacing(12),borderRadius:p.spacing(.5),border:"1px solid ".concat(p.palette.divider),marginRight:p.spacing(1),cursor:"pointer",backgroundColor:p.palette.common.white,transition:p.transitions.create("border-color",{easing:p.transitions.easing.sharp,duration:p.transitions.duration.shortest}),"&.selected":{border:"2px solid ".concat(p.palette.primary.main),"& $typeSelectorName span":{color:p.palette.primary.main}},"&.disabled":{pointerEvents:"none","& $typeSelectorName span":{color:p.palette.text.disabled}}},typeSelectorName:{height:p.spacing(4),display:"flex",alignItems:"center",marginTop:p.spacing(.5),"& span":{fontSize:"11px",textAlign:"center",padding:"0 4px",lineHeight:1.45,transition:p.transitions.create("color",{easing:p.transitions.easing.sharp,duration:p.transitions.duration.shortest})}}}})));var Vi=function WidgetTypeSelector(p){var b=p.typeSelected,y=p.onChange,S=p.source,L=Object(Me.a)(),T=Hi(),z=Object(P.useRef)(null),D=Object(P.useState)(b),N=Object(ye.a)(D,2),q=N[0],Z=N[1],K=Ca({source:S}).isWidgetAvailable,Q=_a({source:S}).isWidgetAvailable,X=Ea({source:S}).isWidgetAvailable,ne=Ia({source:S}).isWidgetAvailable,re=Object(P.useMemo)((function(){return[{name:L.formatMessage({id:"builder.widgets.formula"}),icon:Object(B.jsx)(vi,{}),iconActive:Object(B.jsx)(fi,{}),iconDisable:Object(B.jsx)(Oi,{}),type:va.c.FORMULA,isAvailable:K},{name:L.formatMessage({id:"builder.widgets.category"}),icon:Object(B.jsx)(si,{}),iconActive:Object(B.jsx)(ii,{}),iconDisable:Object(B.jsx)(pi,{}),type:va.c.CATEGORY,isAvailable:Q},{name:L.formatMessage({id:"builder.widgets.histogram"}),icon:Object(B.jsx)(Ei,{}),iconActive:Object(B.jsx)(wi,{}),iconDisable:Object(B.jsx)(Li,{}),type:va.c.HISTOGRAM,isAvailable:X},{name:L.formatMessage({id:"builder.widgets.timeseries"}),icon:Object(B.jsx)(Bi,{}),iconActive:Object(B.jsx)(Wi,{}),iconDisable:Object(B.jsx)(Ni,{}),type:va.c.TIMESERIES,isAvailable:ne}]}),[L,Q,K,X,ne]);return Object(P.useEffect)((function(){var p,y;Z(b),null===(p=z.current)||void 0===p||null===(y=p.querySelector(".selected"))||void 0===y||y.scrollIntoView()}),[b]),Object(B.jsxs)("div",{ref:z,children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.widgetType"})}),Object(B.jsx)(xe.a,{mt:1,className:T.typeSelectorContainer,children:re.map((function(p){return Object(B.jsxs)(xe.a,{className:"".concat(T.typeSelector," ").concat(p.type===q&&"selected"," ").concat(p.type!==q&&!p.isAvailable&&"disabled"),pt:1.5,display:"flex",flexDirection:"column",alignItems:"center",onClick:function onClick(){return function handleTypeSelected(p){Z(p),y(p)}(p.type)},children:[p.type===q?p.iconActive:p.isAvailable?p.icon:p.iconDisable,Object(B.jsx)(xe.a,{className:T.typeSelectorName,children:Object(B.jsx)(_e.a,{variant:"caption",children:p.name})})]},p.type)}))})]})};var Ui=function WidgetGroupDateSelector(p){var b=p.value,y=p.onChange,S=Object(P.useState)(b),L=Object(ye.a)(S,2),T=L[0],z=L[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.defaultBucketSize"})}),Object(B.jsx)(La.a,{size:"small",children:Object(B.jsx)(Ma.a,{fullWidth:!0,value:T,onChange:function onGroupDateSelected(p){var b=p.target.value;z(b),y(b)},children:Object.entries(ya.GroupDateTypes).map((function(p){var b=Object(ye.a)(p,2)[1];return Object(B.jsx)(ar.a,{value:b,children:Object(B.jsx)(ke.a,{id:"builder.widgets.groupDateTypes.".concat(b),defaultMessage:b})},b)}))})})]})};var Gi=function WidgetTimeSeriesForm(p){var b=p.widget,y=Object(Me.a)(),S=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[b.dataSource],P=Ia({source:S}),L=P.availableFileTypesForColumn,T=P.availableFileTypesForperationColumn,z=P.validateWidget,D=P.availableOperations,N=Ja({widget:b,validateFunction:z}).setValue;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.data"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Va,{value:b.operation,onChange:function onChange(p){return N("operation",p)},availableOptions:D}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.column,onChange:function onChange(p){return N("column",p)},availableFileTypes:L})}),b.operation!==ya.AggregationTypes.COUNT&&Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(Ga,{source:S,value:b.operationColumn,onChange:function onChange(p){return N("operationColumn",p)},availableFileTypes:T,label:y.formatMessage({id:"builder.widgets.aggregationColumn"})})})]})}),Object(B.jsx)(Da,{title:y.formatMessage({id:"builder.widgets.displayOptions"}),children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Ui,{value:b.stepSize,onChange:function onChange(p){return N("stepSize",p)}}),Object(B.jsxs)(xe.a,{mt:1,ml:-1,display:"flex",alignItems:"center",children:[Object(B.jsx)(Oo.a,{checked:b.showControls,onChange:function onChange(p){return N("showControls",p.target.checked)}}),Object(B.jsx)(_e.a,{variant:"caption",children:Object(B.jsx)(ke.a,{id:"builder.widgets.playPause"})})]}),Object(B.jsx)(xe.a,{mt:1.5,children:Object(B.jsx)(za,{value:b.formatter,onChange:function onChange(p){return N("formatter",p)}})})]})})]})},qi=Object(Oe.a)((function(p){return{"@global":{".side-panel__content__inner > div:first-of-type":{display:"none !important"}},header:{flex:"none",display:"flex",alignItems:"center",padding:p.spacing(7.5,3,1,2)},content:{flex:"1 1 auto",overflow:"auto",padding:p.spacing(3),paddingTop:0},backButton:{padding:p.spacing(.5)},root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column"},menuLabel:{marginLeft:p.spacing(.5)}}}));var Ji=function WidgetForm(p){var b,y=p.selectedWidgetId,S=Object(Ee.a)(),L=Object(Ee.b)((function(p){return p.builder.widgets})).find((function(p){return p.id===y})),z=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[null===L||void 0===L?void 0:L.dataSource],N=Ca({source:z}).validateWidget,Z=_a({source:z}).validateWidget,K=Ea({source:z}).validateWidget,Q=Ia({source:z}).validateWidget,X=qi();Object(P.useEffect)((function(){return function(){S(Object(T.y)(void 0))}}),[S]);var ne=(b={},Object(D.a)(b,va.c.FORMULA,(function changeWidgetTypeToFormula(){if(L){var p={type:va.c.FORMULA,id:L.id,title:L.title,dataSource:L.dataSource,column:L.column,operation:L.operation,formatter:L.formatter,note:L.note,isValid:!0};N(p),S(Object(T.p)(p))}})),Object(D.a)(b,va.c.CATEGORY,(function changeWidgetTypeToCategory(){if(L){var p={type:va.c.CATEGORY,id:L.id,title:L.title,dataSource:L.dataSource,column:L.column,operationColumn:L.operationColumn||"",operation:L.operation,formatter:L.formatter,note:L.note,isValid:!0};Z(p),S(Object(T.p)(p))}})),Object(D.a)(b,va.c.HISTOGRAM,(function changeWidgetTypeToHistogram(){if(L){var p={type:va.c.HISTOGRAM,id:L.id,title:L.title,dataSource:L.dataSource,column:L.column,operation:L.operation,formatter:L.formatter,buckets:L.buckets||q.b,note:"",isValid:!0};K(p),S(Object(T.p)(p))}})),Object(D.a)(b,va.c.TIMESERIES,(function changeWidgetTypeToTimeSeries(){if(L){var p={type:va.c.TIMESERIES,id:L.id,title:L.title,dataSource:L.dataSource,column:L.column,operationColumn:L.operationColumn||"",operation:L.operation,stepSize:L.stepSize||q.e,chartType:L.chartType||q.c,showControls:L.showControls||!1,formatter:L.formatter,note:L.note,isValid:!0};Q(p),S(Object(T.p)(p))}})),b);return Object(B.jsxs)(xe.a,{className:X.root,children:[Object(B.jsxs)(xe.a,{className:X.header,children:[Object(B.jsx)(Ce.a,{className:X.backButton,startIcon:Object(B.jsx)(ha.a,{component:ma.a}),size:"small",color:"primary",onClick:function goBack(){S(Object(T.y)(void 0))},children:Object(B.jsx)(ke.a,{id:"common.button.back"})}),Object(B.jsx)(_e.a,{variant:"caption",color:"textSecondary",style:{marginRight:1},children:"/"}),Object(B.jsx)(_e.a,{className:X.menuLabel,variant:"caption",color:"textSecondary",children:Object(B.jsx)(ke.a,{id:"builder.widgets.widgetOptions"})})]}),L&&Object(B.jsxs)(xe.a,{className:X.content,children:[Object(B.jsx)(xe.a,{mt:1,children:Object(B.jsx)(ri,{widget:L})}),Object(B.jsx)(xe.a,{mt:3,children:Object(B.jsx)(Vi,{source:z,typeSelected:L.type,onChange:function handleTypeSelected(p){L&&S(Object(fa.removeFilter)({id:null===L||void 0===L?void 0:L.dataSource,column:null===L||void 0===L?void 0:L.column})),ne[p]()}})}),Object(B.jsxs)(xe.a,{mt:3.75,ml:2,children:[L.type===va.c.FORMULA&&Object(B.jsx)($a,{widget:L}),L.type===va.c.CATEGORY&&Object(B.jsx)(Za,{widget:L}),L.type===va.c.HISTOGRAM&&Object(B.jsx)(Qa,{widget:L}),L.type===va.c.TIMESERIES&&Object(B.jsx)(Gi,{widget:L})]})]})]})},Zi=Object(Oe.a)((function(p){return{widget:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:p.palette.common.white,borderRadius:p.spacing(.5),padding:p.spacing(2),paddingBottom:p.spacing(1),marginBottom:p.spacing(1),cursor:"pointer",transition:"all .4s ease","&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,left:0,pointerEvents:"none",borderRadius:p.shape.borderRadius,border:"1px solid ".concat(p.palette.divider),transition:"all .4s ease"},"&:hover":{boxShadow:p.shadows[1],"&::after":{borderColor:"transparent"}}},title:{cursor:"pointer","& input":Object(S.a)(Object(S.a)({},p.typography.body2),{},{fontWeight:500,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",cursor:"pointer",height:p.spacing(4),padding:p.spacing(.75,0)})}}}));var $i=function WidgetsListItem(p){var b=p.widget,y=Object(tt.a)(),S=Object(Me.a)(),L=Zi(),z=Object(Ee.a)(),D=Object(Ee.b)((function(p){return p.keplerGl.map.visState.datasets[b.dataSource]})),N=Xa({widget:b}),q=N.title,Z=N.editingTitle,K=N.setEditingTitle,Q=N.inputRef,X=N.handleOnTitleChange,ne=Object(P.useCallback)((function(){z(Object(et.toggleSidePanel)("filter")),z(Object(T.y)(b.id))}),[z,b]);return Object(B.jsxs)(xe.a,{className:L.widget,onClick:ne,children:[Object(B.jsxs)(xe.a,{sx:{flexGrow:1},mr:2,children:[Object(B.jsx)(dr,{color:"rgb(".concat(D.color[0],", ").concat(D.color[1],", ").concat(D.color[2],")"),label:S.formatMessage({id:"builder.widgets.".concat(b.type)}),letter:y[D.id],typographyVariant:"overline",typographyColor:"textSecondary"}),Object(B.jsx)(To.a,{onClickAway:function onClickAway(){K(!1)},children:Object(B.jsx)(ao.a,{inputRef:Q,size:"small",value:q,variant:"standard",onChange:X,InputProps:{disableUnderline:!Z,readOnly:!Z},className:L.title})})]}),Object(B.jsx)(xe.a,{mt:-1,children:Object(B.jsx)(ei,{widget:b,onRename:function handleEditTitle(){K(!0)}})})]},b.id)};var Yi=function WidgetsList(){var p=Object(Ee.b)((function(p){return p.builder.widgets}));return Object(B.jsx)("div",{children:p.map((function(p){return Object(B.jsx)($i,{widget:p},p.id)}))})};var Ki,Qi,Xi=function WidgetsConfigurator(){var p=Object(Ee.b)((function(p){return p.builder.selectedWidgetId})),b=Object(Ee.b)((function(p){return p.builder.widgets}));return p?Object(B.jsx)(Ji,{selectedWidgetId:p}):b.length?Object(B.jsx)(Yi,{}):Object(B.jsx)(ga,{})},el=Dn.default.div(Ki||(Ki=Object(Bn.a)(["\n  padding-top: 0 !important;\n"]))),tl=Dn.default.div(Qi||(Qi=Object(Bn.a)(["\n  .side-panel-section {\n    margin-bottom: 12px;\n  }\n\n  .filter-panel {\n    background-color: ",";\n    border-radius: ","px;\n    border: 1px solid ",";\n    transition: ",";\n\n    &:hover {\n      box-shadow: ",";\n      border-color: transparent;\n    }\n\n    > div:first-of-type > div:first-of-type {\n      border-top-left-radius: ","px;\n      border-top-right-radius: ","px;\n    }\n\n    .filter-panel__content {\n      padding: 0;\n      border-bottom-left-radius: ","px;\n      border-bottom-right-radius: ","px;\n      > div {\n        padding: ","px;\n        border-top: 1px solid ",";\n      }\n      .typeahead__input_box {\n        display: none;\n      }\n    }\n  }\n\n  .no-widgets {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: ","px;\n\n    button {\n      margin-top: ","px;\n    }\n  }\n"])),Nn.a.palette.common.white,Nn.a.spacing(.5),Nn.a.palette.divider,Nn.a.transitions.create(["box-shadow","border"],{easing:Nn.a.transitions.easing.easeInOut,duration:Nn.a.transitions.duration.standard}),Nn.a.shadows[2],Nn.a.spacing(.5),Nn.a.spacing(.5),Nn.a.spacing(.5),Nn.a.spacing(.5),Nn.a.spacing(2),Nn.a.palette.divider,Nn.a.spacing(15),Nn.a.spacing(1));function CustomFilterManagerFactory(){return function FilterManager(p){p.filters,p.datasets,p.layers,p.showDatasetTable,p.visStateActions;return Object(B.jsx)(el,{className:"filter-manager",children:Object(B.jsx)(tl,{children:Object(B.jsx)(Xi,{})})})}}CustomFilterManagerFactory.deps=z.FilterManagerFactory.deps;var nl,rl=y(88),ol=y(82),al=Dn.default.div(nl||(nl=Object(Bn.a)(["\n  .map-popover {\n    display: none !important;\n  }\n  ,\n  .map-container {\n    margin: 0;\n    padding: 0;\n  }\n"])));function CustomPlotContainerFactory(){var p=z.PlotContainerFactory.apply(void 0,arguments),b=function(p){Object(jr.a)(CustomPlotContainer,p);var b=Object(yr.a)(CustomPlotContainer);function CustomPlotContainer(p){var y;return Object(mr.a)(this,CustomPlotContainer),(y=b.call(this,p))._intervalMilliseconds=q.s,y._intervalMaxRetries=q.r,y._intervalId=0,y._mapsRendered=0,y._onCustomMapRender=function(p){if(y._mapsRendered++,p.isStyleLoaded()&&y.plottingAreaRef.current&&!y._intervalId){var b=y.props.splitMaps,S=y.props.mapFields.layers,P=y._intervalMaxRetries;y._intervalId=setInterval((function(){try{var p=S.every((function(p){var b;return p.type!==q.m||(null===(b=p.deckGLMVTLayer.state)||void 0===b?void 0:b.tileset.tiles.every((function(p){return!p.isVisible||p.isLoaded})))})),L=!b||y._mapsRendered>=b.length;(P--<=0||p&&L)&&(clearInterval(y._intervalId),y._retrieveNewScreenshot())}catch(T){throw clearInterval(y._intervalId),T}}),y._intervalMilliseconds)}},y._onMapRender=y._onCustomMapRender,y}return Object(vr.a)(CustomPlotContainer,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this._intervalId)}},{key:"render",value:function render(){var p=Object(rl.a)(Object(ol.a)(CustomPlotContainer.prototype),"render",this).call(this);return Object(B.jsx)(al,{children:p})}}]),CustomPlotContainer}(p);return b}CustomPlotContainerFactory.deps=z.PlotContainerFactory.deps;var il=y(2579),ll=y(2566),cl=y(358),sl=y(127),dl=y(505),ul=Object(Oe.a)((function(p){return{root:{boxShadow:p.shadows[1],borderRadius:p.spacing(.5),backgroundColor:p.palette.common.white},popper:Object(D.a)({marginTop:p.spacing(3),marginRight:p.spacing(-.5),width:p.spacing(32)},Q.a,{marginTop:p.spacing(2),marginRight:0}),paper:Object(D.a)({padding:p.spacing(2)},Q.a,{padding:p.spacing(3,2)}),input:{margin:0,"& + $input":{marginTop:p.spacing(2)}},inputLabel:{color:p.palette.text.primary},inputLabelFocused:{color:p.palette.primary.main},inputAreaRoot:{padding:"0 !important",backgroundColor:Object(K.alpha)(p.palette.common.black,.05),borderColor:"transparent","&:hover $inputAreaBorder":{opacity:1}},inputAreaInput:{padding:p.spacing(1,1.75)},inputAreaBorder:{opacity:0,transition:p.transitions.create("opacity",{easing:p.transitions.easing.easeIn,duration:p.transitions.duration.shortest})},inputAreaFocused:{backgroundColor:"transparent","& $inputAreaBorder":{opacity:1}}}}));var pl=function MapSettings(){var p=ul(),b=Object(Ee.a)(),y=Object(Me.a)(),L=Object(Ee.b)((function(p){return p.maps.currentMap})),T=Object(Ee.b)((function(p){return p.maps.mapEditStatus})),z=Object(P.useState)(!1),D=Object(ye.a)(z,2),N=D[0],q=D[1],Z=Object(P.useRef)(),K=T===Ze.b.Pending,X=Object(Q.b)(),ne=Object(P.useState)((null===L||void 0===L?void 0:L.description)||""),re=Object(ye.a)(ne,2),ie=re[0],le=re[1],se=Object(P.useState)(),de=Object(ye.a)(se,2),ue=de[0],pe=de[1],be=Object(P.useState)((null===L||void 0===L?void 0:L.title)||""),ge=Object(ye.a)(be,2),fe=ge[0],he=ge[1],me=Object(P.useState)(),ve=Object(ye.a)(me,2),je=ve[0],Oe=ve[1],xe=Object(P.useMemo)((function(){return Object(Mo.a)((function(p){return le(p)}),500)}),[le]),_e=dl.a-((null===ue||void 0===ue?void 0:ue.length)||0),we=Object(P.useMemo)((function(){return Object(Mo.a)((function(p){return he(p)}),500)}),[he]),Ce=Object(P.useCallback)((function(p){xe(p.target.value),pe(p.target.value)}),[xe,pe]),Se=Object(P.useCallback)((function(p){we(p.target.value),Oe(p.target.value)}),[we,Oe]);Object(P.useEffect)((function(){(null===L||void 0===L?void 0:L.id)&&((null===L||void 0===L?void 0:L.description)!=ie||(null===L||void 0===L?void 0:L.title)!=fe&&fe)&&b(Object(sl.g)({id:L.id,title:X?fe:null===L||void 0===L?void 0:L.title,description:ie}))}),[ie,b,L,fe,X]),Object(P.useEffect)((function(){L&&void 0===ue&&pe(L.description),L&&void 0===je&&Oe(L.title)}),[L,ue,pe,je,Oe]);var Ie=Object(P.useCallback)((function(p){le(p.target.value)}),[le]),Le=Object(P.useCallback)((function(p){he(p.target.value)}),[he]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(He.a,{active:N,onClick:function onClick(){return!K&&q(!N)},icon:Object(B.jsx)(cl.a,{}),className:p.root}),!!L&&Object(B.jsx)("div",{ref:Z,children:Object(B.jsx)(il.a,{anchorEl:Z.current,open:N,placement:"bottom-end",transition:!0,modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}},className:p.popper,children:function children(b){var P=b.TransitionProps,L=b.placement;return Object(B.jsx)(ll.a,Object(S.a)(Object(S.a)({},P),{},{style:{transformOrigin:"".concat(L.includes("end")?"right":"center"," ").concat(L.includes("bottom")?"top":"bottom")},children:Object(B.jsxs)(Pe.a,{className:p.paper,elevation:0,children:[X&&Object(B.jsx)(ao.a,{id:"title","aria-label":"map-title",margin:"dense",label:Object(B.jsx)(ke.a,{id:"builder.toolBar.mapTitle.label"}),placeholder:y.formatMessage({id:"builder.toolBar.mapTitle.placeholder"}),fullWidth:!0,value:je||"",onChange:Se,onBlur:Le,classes:{root:p.input},InputLabelProps:{shrink:!1,classes:{root:p.inputLabel,focused:p.inputLabelFocused}},InputProps:{margin:"dense",classes:{root:p.inputAreaRoot,focused:p.inputAreaFocused,notchedOutline:p.inputAreaBorder}}}),Object(B.jsx)(ao.a,{id:"description","aria-label":"map-description",margin:"dense",label:Object(B.jsx)(ke.a,{id:"builder.toolBar.mapDescription.label"}),placeholder:y.formatMessage({id:"builder.toolBar.mapDescription.placeholder"}),fullWidth:!0,value:ue||"",onChange:Ce,onBlur:Ie,inputProps:{maxLength:dl.a},classes:{root:p.input},multiline:!0,helperText:y.formatMessage({id:"maps.edit.helpers.description"},{remainingCharacters:_e}),minRows:4,maxRows:13,InputLabelProps:{shrink:!1,classes:{root:p.inputLabel,focused:p.inputLabelFocused}},InputProps:{margin:"dense",classes:{root:p.inputAreaRoot,input:p.inputAreaInput,focused:p.inputAreaFocused,notchedOutline:p.inputAreaBorder}}})]})}))}})})]})},bl=Object(Oe.a)((function(p){return{mapContainer:{position:"relative"},attributionLink:{position:"absolute",bottom:p.spacing(1),right:p.spacing(1),width:"auto",height:"auto",border:"none",backgroundColor:Object(Sr.a)(p.palette.common.white,.5),padding:p.spacing(0,.75),borderTopLeftRadius:p.spacing(.5),fontSize:p.spacing(1.12),fontFamily:"Inter",fontWeight:500,"& > a":{color:"".concat(p.palette.primary.main," !important")}}}}));var gl=function MapAttributions(){var p=bl();return Object(B.jsxs)("div",{className:p.attributionLink,children:["\xa9 ",Object(B.jsx)(Se.a,{href:"https://carto.com/about-carto/",target:"_blank",rel:"noopener noreferrer",children:"CARTO"}),", ","\xa9 ",Object(B.jsx)(Se.a,{href:"http://www.openstreetmap.org/copyright",target:"_blank",rel:"noopener noreferrer",children:"OpenStreetMap"})," ","contributors"]})},fl=y(236),hl=y(66),ml=y(940),vl=y(1581),jl=y(527),yl="render",Ol={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},xl=function(){function MapboxGoogleMapWrapper(){Object(mr.a)(this,MapboxGoogleMapWrapper),this.googleMap=null,this.listeners=new Set,this.googleMapListeners=new Map}return Object(vr.a)(MapboxGoogleMapWrapper,[{key:"setGoogleMap",value:function setGoogleMap(p){this.googleMap=p;var b,y=Object(hl.a)(this.googleMapListeners.values());try{for(y.s();!(b=y.n()).done;){var S=b.value;google.maps.event.removeListener(S)}}catch(B){y.e(B)}finally{y.f()}if(this.googleMapListeners.clear(),this.googleMap){var P,L=Object(hl.a)(this.listeners.values());try{for(L.s();!(P=L.n()).done;){var T=P.value,z=google.maps.event.addListener(this.googleMap,"tilesloaded",T);this.googleMapListeners.set(T,z)}}catch(B){L.e(B)}finally{L.f()}}}},{key:"on",value:function on(p,b){if(p===yl&&!this.listeners.has(b)&&(this.listeners.add(b),this.googleMap)){var y=google.maps.event.addListener(this.googleMap,"tilesloaded",b);this.googleMapListeners.set(b,y)}}},{key:"off",value:function off(p,b){if(p===yl&&this.listeners.has(b)){this.listeners.delete(b);var y=this.googleMapListeners.get(b);y&&(google.maps.event.removeListener(y),this.googleMapListeners.delete(b))}}},{key:"isStyleLoaded",value:function isStyleLoaded(){return!0}}]),MapboxGoogleMapWrapper}();var _l=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(p,b){return(b=b||{}).preserveDrawingBuffer=!0,_l.call(this,p,b)};var wl=Object(P.forwardRef)((function(p,b){var y=p.apiKey,L=p.width,T=p.height,z=p.style,D=p.mapId,N=p.mapTypeId,q=p.styles,Z=p.latitude,K=p.longitude,Q=p.zoom,X=p.pitch,ne=p.bearing,re=p.onMouseMove,ie=p.onViewportChange,le=p.children,se=Object(ml.a)({id:"google-map-script",googleMapsApiKey:y,language:"en",version:"beta"}).isLoaded,de=Object(P.useRef)(null),ue=Object(P.useState)(null),pe=Object(ye.a)(ue,2),be=pe[0],ge=pe[1],fe=Object(P.useState)(null),he=Object(ye.a)(fe,2),me=he[0],ve=he[1],je=Object(P.useMemo)((function(){return N?{mapTypeId:N,styles:q}:{}}),[N,q]),Oe=Object(P.useMemo)((function(){return function deckToGoogleMapState(p){return{center:{lat:p.latitude,lng:p.longitude},zoom:p.zoom+1,tilt:p.pitch,heading:p.bearing}}({latitude:Z,longitude:K,zoom:Q,pitch:X,bearing:ne})}),[Z,K,Q,X,ne]);Object(P.useEffect)((function(){if(se&&de.current){var p=be&&D&&be.mapId!==D;if(!be||p){for(;de.current.firstChild;)de.current.removeChild(de.current.firstChild);var b=document.createElement("div");Object.entries(Ol).forEach((function(p){var y=Object(ye.a)(p,2),S=y[0],P=y[1];b.style[S]=P})),de.current.appendChild(b);var y=new google.maps.Map(b,Object(S.a)(Object(S.a)(Object(S.a)(Object(S.a)({},D?{mapId:D}:{}),je),Oe),{},{isFractionalZoomEnabled:!0,mapTypeControl:!1,fullscreenControl:!1,zoomControl:!1,streetViewControl:!1}));ge(y);var P=new vl.a({});P.setMap(y),ve(P)}}}),[se,de,be,D,je,Oe]),Object(P.useEffect)((function(){return be?be.setOptions(je):void 0}),[be,je]),Object(P.useEffect)((function(){return be?be.moveCamera(Oe):void 0}),[be,Oe]);var xe=Object(P.useMemo)((function(){return new xl}),[]);Object(P.useEffect)((function(){return xe.setGoogleMap(be)}),[xe,be]),Object(P.useImperativeHandle)(b,(function(){return function getRefHandles(p){return{getMap:function getMap(){return p}}}(xe)}),[xe]);var _e=Object(P.useRef)(null),we=Object(P.useMemo)((function(){return new jl.EventManager}),[]);Object(P.useEffect)((function(){return we.setElement(_e.current),function(){return we.destroy()}}),[we]);var Ce=Object(P.useMemo)((function(){return new fl.MapController}),[]);Object(P.useEffect)((function(){be&&Ce.setOptions({onViewportChange:ie,eventManager:we,latitude:Z,longitude:K,zoom:Q,pitch:X,bearing:ne,width:be.getDiv().clientWidth,height:be.getDiv().clientHeight})}),[be,Ce,ie,we,Z,K,Q,X,ne]),Object(P.useEffect)((function(){we.on("mousemove",(function(p){var b=[p.offsetCenter.x,p.offsetCenter.y],y=Ce.getMapState()._unproject(b);re({point:b,lngLat:y})}))}),[we,Ce,re]);var Se=Object(P.useMemo)((function(){return le.find((function(p){var b;return"default-deckgl-overlay"===(null===p||void 0===p||null===(b=p.props)||void 0===b?void 0:b.id)}))}),[le]);Object(P.useEffect)((function(){me&&Se&&me.setProps({glOptions:Se.props.glOptions,layers:Se.props.layers.map((function(p){return p.clone()})),onBeforeRender:Se.props.onBeforeRender,onHover:Se.props.onHover,onClick:Se.props.onClick,onError:Se.props.onError})}),[me,Se]);var Ee=Object(P.useMemo)((function(){return Object(S.a)(Object(S.a)({position:"relative"},z),{},{width:L,height:T})}),[z,L,T]);return Object(B.jsx)("div",{ref:_e,style:Ee,children:Object(B.jsx)("div",{ref:de,style:Ol},"map-container")},"event-canvas")})),Cl=["children"],Sl=Object(P.forwardRef)((function(p,b){var y=Object(Ee.b)((function(p){var b;return null===(b=p.builder.customBaseMaps)||void 0===b?void 0:b.amazon}))||{},P=y.identityPoolId,L=y.mapName,T=useAmazonLocation(P),z=T.isReady,D=T.transformRequest,N=p.children,q=Object(nn.a)(p,Cl);return z?Object(B.jsxs)(fl.default,Object(S.a)(Object(S.a)({},q),{},{transformRequest:D,mapStyle:L,ref:b,children:[N,Object(B.jsx)(fl.AttributionControl,{style:{right:0,bottom:0}})]})):null})),El=Object(P.forwardRef)((function(p,b){var y=p.mapStyle;if(y.type!==to.c.MAPBOX&&y.type){if(y.type===to.c.AMAZON)return Object(B.jsx)(Sl,Object(S.a)(Object(S.a)({},p),{},{ref:b}));if(y.type===to.c.GOOGLE_MAPS){var P=uo.b.map((function(p){if(!y.layers.includes(p))return{featureType:p,stylers:[{visibility:"off"}]}})).filter((function(p){return!!p}));return Object(B.jsx)(wl,Object(S.a)(Object(S.a)({},p),{},{ref:b,apiKey:Vt.a.googleMapsApiKey,mapId:y.options.mapId,mapTypeId:y.options.mapTypeId,styles:P}))}return Object(B.jsx)("div",{children:"Not a valid map provider"})}return Object(B.jsx)(fl.default,Object(S.a)(Object(S.a)({},p),{},{ref:b}))})),kl=y(941),Pl=y.n(kl),Il=y(942),Ll=y.n(Il),Ml=Object(Oe.a)((function(p){return{container:{position:"absolute",right:p.spacing(3),top:p.spacing(3),zIndex:1},iconInfo:{"&.MuiIconButton-root, &.MuiIconButton-root:hover":{backgroundColor:p.palette.common.white}},paper:{position:"relative",width:"304px",padding:"".concat(p.spacing(2),"px ").concat(p.spacing(3),"px ").concat(p.spacing(2.5),"px ").concat(p.spacing(3),"px")},title:{marginRight:"".concat(p.spacing(2.5),"px"),textOverflow:"ellipsis",overflow:"hidden"},description:{overflowWrap:"anywhere"},closeButton:{position:"absolute",right:"6px",top:"6px"}}}));var Tl=function BuilderMapInfo(){var p=Ml(),b=Object(P.useState)(!1),y=Object(ye.a)(b,2),S=y[0],L=y[1],T=Object(Ee.b)((function(p){return p.maps.currentMap})),z=((null===T||void 0===T?void 0:T.description)||"").split("\n");return Object(B.jsxs)("div",{children:[!S&&Object(B.jsx)(ct.a,{className:p.iconInfo,onClick:function onClick(){L(!0)},children:Object(B.jsx)(Pl.a,{})}),S&&Object(B.jsxs)(Pe.a,{className:p.paper,children:[Object(B.jsx)(_e.a,{variant:"subtitle2",className:p.title,children:null===T||void 0===T?void 0:T.title}),Object(B.jsx)(xe.a,{mt:1,children:Object(B.jsx)(_e.a,{variant:"body2",color:"textSecondary",className:p.description,children:z.map((function(p,b){return Object(B.jsx)("p",{children:p},b)}))})}),Object(B.jsx)(ct.a,{className:p.closeButton,onClick:function onClick(){L(!1)},children:Object(B.jsx)(Ll.a,{})})]})]})},Rl=y(675),Wl=y(534);var zl=function BuilderZoomControl(p){var b=p.customClass,y=Object(Ee.a)(),S=Object(Ee.b)((function(p){var b;return null===(b=p.keplerGl.map)||void 0===b?void 0:b.mapState}));return Object(B.jsx)(Wl.c,{zoom:(null===S||void 0===S?void 0:S.zoom)||Wl.b,maxZoom:Wl.a,minZoom:Wl.b,customClasses:["vertical",b||""],zoomChanged:function zoomChanged(p){y(Object(et.updateMap)({zoom:p}))}})},Fl=y(1390),Al=y(65),Bl=y(522),Dl=y(99),Nl=y(347),Hl=Object(Oe.a)((function(p){return{textLight:{color:p.palette.text.disabled,fontWeight:500}}}));var Vl=function BuilderWidgetEmpty(p){var b=Hl();return Object(B.jsx)(Nl.WrapperWidgetUI,Object(S.a)(Object(S.a)({},p),{},{expandable:!1,children:Object(B.jsx)(_e.a,{variant:"h5",className:b.textLight,children:Object(B.jsx)(ke.a,{id:"builder.widgets.selectField"})})}))};var Ul=function BuilderHistogramWidget(p){var b=Object(Ee.b)((function(p){return p.keplerGl.map.visState})).datasets[p.dataSource],y=Object(P.useCallback)((function(p,b){var y,S;if(p.metadata.type===Z.c.tileset){var P=p.metadata.tilestats.attributes.find((function(p){return p.attribute===b}));y=P.min,S=P.max}else{var L=p.fields.find((function(p){return p.id===b}));if(!L)return{min:0,max:0};var T=p.allIndexes.reduce((function(p,b){var y=L.valueAccessor({index:b});return(!p.min||y<p.min)&&(p.min=y),(!p.max||y>p.max)&&(p.max=y),p}),{min:null,max:null});y=T.min,S=T.max}return{min:y,max:S}}),[]),L=Object(P.useMemo)((function(){for(var S,P=[],L=y(b,p.column),T=L.min,z=(L.max-T)/(p.buckets-1),B=1;B<p.buckets;B++)P.push((S=T+z*B)%1===0?S:parseFloat((Math.round(100*S)/100).toFixed(2)));return P}),[y,b,p.buckets,p.column]);return Object(B.jsx)(Bl.HistogramWidget,Object(S.a)(Object(S.a)({},p),{},{ticks:L}))},Gl=Object(Oe.a)((function(p){return{widget:{position:"relative",backgroundColor:p.palette.common.white,borderRadius:p.spacing(.5),border:"1px solid ".concat(p.palette.divider),"&.selected":{border:"2px solid ".concat(p.palette.primary.main)}},options:{position:"absolute",zIndex:1,top:p.spacing(2),right:p.spacing(2)},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"}}})),ql=new Map([[va.c.FORMULA,Bl.FormulaWidget],[va.c.CATEGORY,Bl.CategoryWidget],[va.c.HISTOGRAM,Ul],[va.c.TIMESERIES,Bl.TimeSeriesWidget]]);var Jl=function BuilderWidgetItem(p){var b=p.widget,y=p.extraWidgetProps,L=void 0===y?{}:y,T=Gl(),z=Object(Ee.b)((function(p){return p.builder.selectedWidgetId})),D=Object(Ee.b)((function(p){return p.builder.privacyMode})),N=Object(P.useMemo)((function(){var p=b.type;return b.isValid?ql.get(p):Vl}),[b]);return Object(B.jsxs)("div",{className:Object(Al.a)(z===b.id&&"selected",T.widget),children:[N&&Object(B.jsx)(N,Object(S.a)(Object(S.a)(Object(S.a)({},b),L),{},{formatter:function getWidgetFormatter(){var p;return Object(Dl.getFormatter)(null===(p=Ta.TOOLTIP_FORMATS[b.formatter])||void 0===p?void 0:p.format)}(),wrapperProps:{expandable:!1},animation:!1})),b.note&&Object(B.jsx)(xe.a,{pl:3,pr:3,mb:2,mt:-2,children:Object(B.jsx)(_e.a,{variant:"caption",color:"textSecondary",className:T.ellipsis,variantMapping:{caption:"p"},children:b.note})}),D===Z.b.Private&&Object(B.jsx)("div",{className:T.options,children:Object(B.jsx)(ei,{widget:b})})]})},Zl=Object(Oe.a)((function(p){return{container:{height:0,minWidth:0,flex:"0 0 ".concat(p.spacing(30.25),"px"),marginTop:p.spacing(1),overflow:"hidden","& a":{color:"".concat(p.palette.primary.main," !important")}}}}));function BuilderTimeSeriesWidget(){var p=Object(mn.a)(),b=Zl(),y=Object(Ee.a)(),S=Object(Ee.b)((function(p){return p.builder.widgets.find((function(p){return p.type===va.c.TIMESERIES}))})),P=Object(Ee.b)((function(p){return p.builder.isWidgetPanelOpen})),L=Object(Ee.b)((function(p){return p.builder.privacyMode})),z=function enableBuilderAutoSave(){L===Z.b.Private&&y(Object(T.t)(!0))};return Object(B.jsx)(B.Fragment,{children:S&&Object(B.jsx)(Fl.a,{direction:"up",in:P,mountOnEnter:!0,unmountOnExit:!0,timeout:{exit:0,enter:p.transitions.duration.short},children:Object(B.jsx)("div",{className:b.container,children:Object(B.jsx)(Jl,{widget:S,extraWidgetProps:{height:"".concat(p.spacing(17),"px"),onPlay:function disableBuilderAutoSave(){y(Object(T.t)(!1))},onPause:z,onStop:z}})})})})}var $l=L.a.memo(BuilderTimeSeriesWidget),Yl=y(2567);var Kl,Ql=function useIpadBuilder(){return Object(Yl.a)(Nn.a.breakpoints.down("sm"),{noSsr:!0})},Xl=Dn.default.div(Kl||(Kl=Object(Bn.a)(["\n  position: absolute;\n  z-indez: 1;\n  top: ","px;\n  right: ","px;\n"])),Nn.a.spacing(3),Nn.a.spacing(3));function CustomMapContainerFactory(){var p=z.MapContainerFactory.apply(void 0,arguments),b=function CustomMapContainer(b){var y,P=Ql(),L=b.mapStyle,T=b.mapState,z=b.isExport,D=L.bottomMapStyle,N=(null===D||void 0===D?void 0:D.type)===to.c.GOOGLE_MAPS,q=(null===D||void 0===D?void 0:D.type)===to.c.AMAZON,K=!N&&!q,Q=N&&!(null===D||void 0===D||null===(y=D.options)||void 0===y?void 0:y.mapId),X=Object(S.a)(Object(S.a)({},T),{},{pitch:Q?void 0:T.pitch,bearing:Q?void 0:T.bearing}),ne=Object(Ee.b)((function(p){return p.builder.widgets}));return Object(B.jsxs)("div",{className:"map-container",children:[Object(B.jsxs)(xe.a,{position:"relative",flexGrow:1,children:[Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{MapComponent:El,mapState:X})),K&&Object(B.jsx)(gl,{}),Object(B.jsxs)(Xl,{children:[b.privacyMode===Z.b.Private&&Object(B.jsx)(pl,{}),b.privacyMode!==Z.b.Private&&Object(B.jsxs)(B.Fragment,{children:[ne.length>0&&Object(B.jsx)(Rl.a,{}),Object(B.jsx)(Tl,{})]})]}),Object(B.jsx)(zl,{})]}),!z&&!P&&Object(B.jsx)($l,{})]})};return Object(z.withState)([],(function(p){return{privacyMode:p.builder.privacyMode}}),{})(L.a.memo(b))}function CustomLayerSelectorPanelFactory(){var p=z.LayerSelectorPanelFactory.apply(void 0,arguments),b=function CustomLayerSelectorPanel(b){return Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{iconLayersComponent:Object(B.jsx)(pe,{height:"22px"})}))};return L.a.memo(b)}CustomMapContainerFactory.deps=z.MapContainerFactory.deps,CustomLayerSelectorPanelFactory.deps=z.LayerSelectorPanelFactory.deps;var ec,tc,nc=y.p+"static/media/icon-action-visibility-grey.cb223bd6.svg",rc=y.p+"static/media/icon-action-visibility-off-grey.bda2d74d.svg",oc=Dn.default.div(ec||(ec=Object(Bn.a)(["\n  .map-layers > div {\n    margin-bottom: 0 !important;\n    border-radius: ","px;\n    box-shadow: ",";\n  }\n  .map-layer-selector {\n    padding: 0;\n  }\n  .map-layer-selector__item {\n    padding: 0;\n    border-bottom: 1px solid ",";\n    margin: 0 !important;\n    min-width: ","px;\n    &:last-child {\n      border-bottom: none;\n    }\n    .kg-checkbox {\n      .kg-checkbox__label {\n        font-size: ",";\n        line-height: ",";\n        letter-spacing: ",";\n        color: ",";\n        font-weight: 500;\n        padding: ",";\n        flex: 1;\n        &:before,\n        &:after {\n          top: 50% !important;\n          transform: translateY(-50%);\n          right: ","px !important;\n          left: auto !important;\n          width: ","px;\n          height: ","px;\n          background: ",";\n          border-radius: 0;\n          border: none !important;\n          background-size: ","px;\n          background-repeat: no-repeat;\n          background-position: center;\n        }\n        &:before {\n          background-image: url('","');\n          opacity: 0.4;\n        }\n        &:after {\n          background-image: url('","');\n        }\n      }\n    }\n  }\n"])),Nn.a.shape.borderRadius,Nn.a.shadows[1],Nn.a.palette.divider,Nn.a.spacing(30),Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.palette.text.secondary,Nn.a.spacing(2,6,2,2),Nn.a.spacing(2),Nn.a.spacing(3),Nn.a.spacing(3),Nn.a.palette.common.white,Nn.a.spacing(2.25),rc,nc);function CustomMapControlFactory(){var p=z.MapControlFactory.apply(void 0,arguments),b=function(b){Object(jr.a)(CustomMapControl,b);var y=Object(yr.a)(CustomMapControl);function CustomMapControl(){return Object(mr.a)(this,CustomMapControl),y.apply(this,arguments)}return Object(vr.a)(CustomMapControl,[{key:"render",value:function render(){return Object(B.jsx)(oc,{children:Object(B.jsx)(p,Object(S.a)({},this.props))})}}]),CustomMapControl}(P.Component);return L.a.memo(b)}CustomMapControlFactory.deps=z.MapControlFactory.deps;var ac=["title","titleId"];function icon_editor_format_list_bulleted_extends(){return icon_editor_format_list_bulleted_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_format_list_bulleted_extends.apply(this,arguments)}function icon_editor_format_list_bulleted_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_format_list_bulleted_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorFormatListBulleted(p,b){var y=p.title,S=p.titleId,L=icon_editor_format_list_bulleted_objectWithoutProperties(p,ac);return P.createElement("svg",icon_editor_format_list_bulleted_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,tc||(tc=P.createElement("g",{fill:"none",fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M4.25 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zm3 2.5h14v-2h-14v2zm0-6h14v-2h-14v2zm0-8v2h14V5h-14z",transform:"translate(-600.000000, -2976.000000) translate(552.202020, 2976.000000) translate(47.797980, 0.000000)"})))))))}var ic,lc=P.forwardRef(SvgIconEditorFormatListBulleted),cc=(y.p,Dn.default.div(ic||(ic=Object(Bn.a)(["\n  > div {\n    margin-bottom: 0 !important;\n    border-radius: ","px;\n    box-shadow: ",";\n  }\n  .map-legend {\n    min-width: ","px;\n  }\n  .legend--layer {\n    padding: ",";\n    width: 100%;\n  }\n  .legend--layer_name,\n  .legend--layer_color_field {\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: ",";\n  }\n  .legend--layer_color-legend text {\n    font-size: ","px;\n    letter-spacing: ",";\n  }\n  .legend--layer_color-legend rect {\n    width: ","px !important;\n    height: ","px !important;\n  }\n  .legend--layer_color-schema {\n    margin-top: ",";\n  }\n  .legend--layer_color_field {\n    color: ",";\n    font-weight: 400;\n  }\n  .legend--layer_color-legend {\n    text {\n      transform: translate(-4px, 3px);\n    }\n    rect {\n      transform: translateY(3px);\n    }\n  }\n"])),Nn.a.shape.borderRadius,Nn.a.shadows[1],Nn.a.spacing(30),Nn.a.spacing(2,2,1.5),Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.spacing(1.25),Nn.a.typography.caption.letterSpacing,Nn.a.spacing(1.25),Nn.a.spacing(1.25),Nn.a.spacing(.5),Nn.a.palette.text.secondary));CustomMapLegendPanelFactory.deps=z.MapLegendPanelFactory.deps;var sc={legend:lc};function CustomMapLegendPanelFactory(){var p=z.MapLegendPanelFactory.apply(void 0,arguments),b=function MapLegendPanelWrapper(b){return Object(B.jsx)(cc,{children:Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{actionIcons:sc}))})};return L.a.memo(b)}CustomTooltipConfigFactory.deps=z.TooltipConfigFactory.deps;var dc=Object(Oe.a)((function(p){return{customTooltipConfig:{"& .side-panel-section":{marginBottom:p.spacing(3.5),"& > div":{marginBottom:p.spacing(.5)},"& .source-data-title":{alignItems:"center"},"& .source-data-tag":{alignItems:"center"},"& .dataset-color":{width:"12px",height:"12px",borderRadius:"4px",marginTop:0},"& .dataset-name":Object(S.a)(Object(S.a)({},p.typography.caption),{},{color:p.palette.common.black,fontWeight:500}),"& .source-data-rows":Object(S.a)(Object(S.a)({},p.typography.caption),{},{fontWeight:"normal"}),"& .chickleted-input > div":{height:p.spacing(3),margin:p.spacing(0,.5,.5,0),padding:p.spacing(0,1.5),backgroundColor:p.palette.common.white,border:"1px solid ".concat(p.palette.grey[100]),borderRadius:p.spacing(1.5),color:p.palette.common.black,"& span":{marginRight:p.spacing(1),fontWeight:500}}}}}}));function CustomTooltipConfig(p){var b=p.children,y=dc();return Object(B.jsx)("div",{className:y.customTooltipConfig,children:b})}function CustomTooltipConfigFactory(){var p=z.TooltipConfigFactory.apply(void 0,arguments);return function(b){return Object(B.jsx)(CustomTooltipConfig,{children:Object(B.jsx)(p,Object(S.a)({},b))})}}for(var uc,pc=y.p+"static/media/icon-navigation-more-vert.ab5c771e.svg",bc=[],gc=1;gc<20;)bc.push("&:nth-child(".concat(gc,") .dataset-clolor:before {\n    content: '").concat(String.fromCharCode(64+gc),"';\n  }")),gc++;var fc,hc=Dn.default.div(uc||(uc=Object(Bn.a)(["\n  .dataset-modal-catalog {\n    padding-left: ","px;\n    padding-right: ","px;\n  }\n  .dataset-modal-tab {\n    margin: 0;\n    padding: ","px;\n    height: ","px;\n    border-bottom-width: ","px;\n    ","\n  }\n  .dataset-name {\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: ",";\n  }\n  .details {\n    align-items: flex-start;\n  }\n  .col-name {\n    margin-bottom: ","px;\n    width: 100%;\n  }\n  .col-name__name {\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: ",";\n    color: ",";\n    text-overflow: ellipsis;\n  }\n  .col-name__sort {\n    &,\n    svg {\n      width: ","px;\n      height: ","px;\n    }\n    svg path {\n      fill: ",";\n    }\n  }\n  .more {\n    margin-left: ","px;\n    height: ","px;\n    width: ","px;\n    margin: ",";\n    background-image: url('","');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: ","px;\n    opacity: 0;\n    svg {\n      display: none;\n    }\n  }\n  .header-cell:hover {\n    .more {\n      opacity: 1;\n    }\n  }\n  .cell {\n    font-family: 'Open Sans', sans-serif;\n    color: ",";\n    font-size: "," !important;\n    line-height: ",";\n    letter-spacing: ",";\n    border-bottom: none !important;\n\n    &.align-right {\n      align-items: flex-start !important;\n    }\n  }\n  .body-grid {\n    &::-webkit-scrollbar-thumb {\n      backgroundcolor: ",";\n    }\n  }\n"])),Nn.a.spacing(2),Nn.a.spacing(2),Nn.a.spacing(1.75),Nn.a.spacing(6),Nn.a.spacing(.25),bc.join(""),Nn.a.typography.body2.fontSize,Nn.a.typography.body2.lineHeight,Nn.a.typography.body2.letterSpacing,Nn.a.spacing(.5),Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.palette.text.secondary,Nn.a.spacing(2),Nn.a.spacing(2),Nn.a.palette.text.secondary,Nn.a.spacing(1),Nn.a.spacing(3),Nn.a.spacing(3),Nn.a.spacing(-.5,0),pc,Nn.a.spacing(2.25),Nn.a.palette.text.primary,Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Object(K.alpha)(Nn.a.palette.common.black,.4));function CustomDataTableModalFactory(){var p=z.DataTableModalFactory.apply(void 0,arguments);return function(b){return Object(B.jsxs)(hc,{children:[Object(B.jsx)(xe.a,{pt:3,pr:8,pl:3,children:Object(B.jsx)(_e.a,{color:"textPrimary",variant:"subtitle1",children:Object(B.jsx)(ke.a,{id:"builder.dataTableModal.title"})})}),Object(B.jsx)(p,Object(S.a)({},b))]})}}CustomDataTableModalFactory.deps=z.DataTableModalFactory.deps;var mc,vc=Dn.default.div(fc||(fc=Object(Bn.a)(["\n  background-color: ",";\n  border-radius: ","px;\n  border: 1px solid ",";\n  color: ",";\n  font-family: 'Overpass Mono', monospace;\n  font-weight: 600;\n  font-size: ","px;\n  line-height: ","px;\n  padding: ",";\n  width: auto;\n  text-transform: none;\n"])),(function(p){return Object(K.alpha)(p.borderColor,.12)}),Nn.a.spacing(.25),(function(p){return p.borderColor}),(function(p){return p.color}),Nn.a.spacing(1.5),Nn.a.spacing(1.75),Nn.a.spacing(0,.5));function CustomFieldTokenFactory(){return function(p){var b,y=p.type;return Object(B.jsx)(vc,Object(S.a)(Object(S.a)({},q.f[y]?q.f[y].style:q.g),{},{children:(null===(b=q.f[y])||void 0===b?void 0:b.label)||y}))}}var jc=["title","titleId"];function icon_remove_circle_extends(){return icon_remove_circle_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_remove_circle_extends.apply(this,arguments)}function icon_remove_circle_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_remove_circle_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconRemoveCircle(p,b){var y=p.title,S=p.titleId,L=icon_remove_circle_objectWithoutProperties(p,jc);return P.createElement("svg",icon_remove_circle_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},L),y?P.createElement("title",{id:S},y):null,mc||(mc=P.createElement("g",{fill:"none",fillOpacity:.6,fillRule:"evenodd"},P.createElement("g",{fill:"#2C3032"},P.createElement("g",null,P.createElement("g",null,P.createElement("g",null,P.createElement("path",{d:"M5.25 8.25v1.5h7.5v-1.5h-7.5zM9 1.5C4.86 1.5 1.5 4.86 1.5 9c0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zM9 15c-3.308 0-6-2.693-6-6 0-3.308 2.692-6 6-6 3.307 0 6 2.692 6 6 0 3.307-2.693 6-6 6z",transform:"translate(-267.000000, -195.000000) translate(16.000000, 152.000000) translate(248.000000, 40.000000) translate(3.000000, 3.000000)"}))))))))}var yc,Oc=P.forwardRef(SvgIconRemoveCircle),xc=(y.p,Dn.default.div(yc||(yc=Object(Bn.a)(["\n  width: 100%;\n  height: auto;\n  padding: ","px;\n\n  .filter-panel__header {\n    height: auto;\n    padding: ",";\n    border-left: none;\n    border-image: none;\n\n    .field-selector .item-selector__dropdown {\n      background-color: ",";\n      border-color: transparent;\n      transition: background-color 0.25s ease, border-color 0.25s ease;\n\n      &.active,\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n    }\n\n    .typeahead {\n      overflow: hidden;\n\n      .typeahead__input_box {\n        display: none;\n      }\n    }\n\n    .field-selector_list-item {\n      & > div:first-of-type > div {\n        width: auto;\n        padding: 0 ","px;\n        font-family: 'Overpass Mono', monospace;\n        font-size: 11px;\n        line-height: 14px;\n      }\n    }\n\n    .list__item__anchor {\n      font-size: ",";\n      font-weight: ",";\n      color: ",";\n    }\n\n    > div {\n      align-items: center;\n    }\n\n    .panel--header__action {\n      svg {\n        width: ","px !important;\n        height: ","px !important;\n        path {\n          fill-opacity: 0.6;\n        }\n      }\n    }\n  }\n"])),Nn.a.spacing(2),Nn.a.spacing(.5,0,0),Nn.a.palette.action.hover,Nn.a.palette.common.white,Nn.a.palette.primary.main,Nn.a.spacing(.5),Nn.a.typography.caption.fontSize,Nn.a.typography.caption.fontWeight,Nn.a.typography.caption.color,Nn.a.spacing(2.25),Nn.a.spacing(2.25)));function CustomFilterPanelHeaderFactory(){var p=z.FilterPanelHeaderFactory.apply(void 0,arguments),b={delete:Oc},y=function CustomFilterPanelHeader(y){var P=y.datasets,L=Object(tt.a)()[P[0].id];return Object(B.jsxs)(xc,{children:[Object(B.jsx)(dr,{color:"rgb(".concat(P[0].color[0],", ").concat(P[0].color[1],", ").concat(P[0].color[2],")"),label:P[0].label,letter:L}),Object(B.jsx)(p,Object(S.a)(Object(S.a)({},y),{},{actionIcons:b}))]})};return Object(z.withState)([],(function(p){return{sources:p.keplerGl.map.visState.datasets}}),{})(L.a.memo(y))}CustomFilterPanelHeaderFactory.deps=z.FilterPanelHeaderFactory.deps;var _c,wc=y(613),Cc=y.n(wc),Sc=Dn.default.div(_c||(_c=Object(Bn.a)(["\n  .filter-panel__content {\n    display: none;\n  }\n"])));function CustomNewFilterPanelFactory(){var p=Cc.a.apply(void 0,arguments);return function(b){return Object(B.jsx)(Sc,{children:Object(B.jsx)(p,Object(S.a)({},b))})}}function CustomSourceDataSelectorFactory(){return function(){return Object(B.jsx)(B.Fragment,{})}}CustomNewFilterPanelFactory.deps=Cc.a.deps;var Ec,kc=y(1578),Pc=y(355),Ic=y.n(Pc),Lc=Dn.default.div(Ec||(Ec=Object(Bn.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: ","px;\n  height: auto;\n  padding: 0 ","px ","px ","px;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n\n  .delete-data-source-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    height: ","px;\n  }\n\n  .delete-data-source-content {\n    min-height: ","px;\n    margin-top: ","px;\n    padding: ","px ","px;\n    background-color: ",";\n    border-radius: ","px;\n\n    .datasource-wrapper {\n      display: flex;\n      flex-direction: row;\n      width: 100%;\n      height: ","px;\n      margin-top: ","px;\n      background-color: ",";\n      border-radius: ","px;\n      overflow: hidden;\n\n      .label {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: ","px;\n        height: 100%;\n        margin-right: ","px;\n\n        .label-letter {\n          font-family: 'Overpass Mono', monospace;\n          font-size: 12px;\n          font-weight: 600;\n          color: ",";\n        }\n      }\n\n      .content {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .name {\n          font-weight: 500;\n        }\n\n        .textType {\n          text-transform: capitalize !important;\n          &:after {\n            content: ' \xb7 ';\n            color: ",";\n          }\n        }\n      }\n    }\n  }\n\n  .delete-data-source-footer {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    margin-top: ","px;\n\n    .delete-button {\n      margin-left: ","px;\n      color: ",";\n      background-color: ",";\n\n      .delete-icon path {\n        fill: ",";\n      }\n    }\n  }\n"])),br.a.spacing(70),br.a.spacing(2),br.a.spacing(2),br.a.spacing(2),br.a.palette.common.white,br.a.spacing(.5),br.a.shadows[10],br.a.spacing(9),br.a.spacing(25),br.a.spacing(2),br.a.spacing(2),br.a.spacing(3),br.a.palette.grey[50],br.a.spacing(.5),br.a.spacing(10),br.a.spacing(3),br.a.palette.common.white,br.a.spacing(.5),br.a.spacing(2),br.a.spacing(1.5),br.a.palette.common.white,br.a.palette.text.secondary,br.a.spacing(2),br.a.spacing(2),br.a.palette.common.white,br.a.palette.error.main,br.a.palette.common.white);function CustomModalContainerFactory(){var p=L.a.memo(z.ModalContainerFactory.apply(void 0,arguments)),b=function CustomModalContainer(b){var y=b.uiState,P=y.currentModal,L=Object(tt.a)();if("deleteData"===P){var T,z,D,N=y.datasetKeyToRemove,q=b.uiStateActions,Z=b.visStateActions,K=b.datasets,Q=b.map,X=K.findIndex((function(p){return p.id===N})),ne=K[X],re=null===Q||void 0===Q||null===(T=Q.keplerMapConfig)||void 0===T||null===(z=T.config)||void 0===z||null===(D=z.visState)||void 0===D?void 0:D.layers.filter((function(p){return p.config.dataId===ne.id})),ie=L[N],le=ne.providerId?Object(Le.a)(ne.providerId):null,se=function closeModal(){q.toggleModal(null)};return Object(B.jsx)(kc.a,{open:!0,children:Object(B.jsxs)(Lc,{children:[Object(B.jsxs)("div",{className:"delete-data-source-header",children:[Object(B.jsx)(_e.a,{variant:"subtitle1",children:Object(B.jsx)(ke.a,{id:"builder.deleteSourceModal.title"})}),Object(B.jsx)(ct.a,{onClick:function onClick(){return se()},children:Object(B.jsx)(Ic.a,{fontSize:"small",color:"action"})})]}),Object(B.jsxs)("div",{className:"delete-data-source-content",children:[Object(B.jsxs)(_e.a,{variant:"body2",color:"textSecondary",children:[Object(B.jsx)(ke.a,{id:"builder.deleteSourceModal.info"}),Array.isArray(re)&&Object(B.jsx)("strong",{children:Object(B.jsx)(ke.a,{values:{layers:re.length,layerNames:re.map((function(p){return p.config.label})).join(", ")},id:"builder.deleteSourceModal.layers"})})]}),Object(B.jsxs)("div",{className:"datasource-wrapper",children:[Object(B.jsx)("div",{className:"label",style:{backgroundColor:ne.color},children:Object(B.jsx)(_e.a,{className:"label-letter",children:ie})}),Object(B.jsxs)("div",{className:"content",children:[Object(B.jsxs)(xe.a,{mb:.5,children:[Object(B.jsx)(_e.a,{variant:"caption",color:"primary",className:"textType",children:ne.type}),Object(B.jsx)(_e.a,{variant:"caption",color:"textPrimary",children:(null===le||void 0===le?void 0:le.label)?le.label:Object(B.jsx)(ke.a,{id:"builder.datasetItem.providerPlaceholder"})})]}),Object(B.jsx)(_e.a,{variant:"body2",gutterBottom:!0,className:"name",children:ne.label})]})]})]}),Object(B.jsxs)("div",{className:"delete-data-source-footer",children:[Object(B.jsx)(Ce.a,{color:"primary",onClick:function onClick(){return se()},children:Object(B.jsx)(ke.a,{id:"builder.deleteSourceModal.cancelButton"})}),Object(B.jsx)(Ce.a,{startIcon:Object(B.jsx)(We,{className:"delete-icon"}),className:"delete-button",onClick:function onClick(){return function deleteDataset(){Z.removeDataset(N),se()}()},children:Object(B.jsx)(ke.a,{id:"builder.deleteSourceModal.deleteButton"})})]})]})})}return Object(B.jsx)(p,Object(S.a)({},b))};return Object(z.withState)([],(function(p){return{datasets:p.maps.currentMapDatasets,map:p.maps.currentMap}}),{})(b)}CustomModalContainerFactory.deps=z.ModalContainerFactory.deps;var Mc,Tc,Rc=y(272),Wc=Object(Dn.default)("div")(Mc||(Mc=Object(Bn.a)(["\n  ","\n"])),(function(p){return p.active&&"\n        .panel--header__action {\n            background-color: ".concat(Object(K.alpha)(Nn.a.palette.primary.main,.08)," !important;\n            path {\n                fill: ").concat(Nn.a.palette.primary.main,";\n                fill-opacity: 1;\n            }\n        }\n    ")}));function getIconComponent(p){return"Clock"===(null===p||void 0===p?void 0:p.name)?Rc.a:null}function CustomPanelHeaderActionFactory(){var p=z.PanelHeaderActionFactory.apply(void 0,arguments);return function(b){var y=getIconComponent(b.IconComponent);return y?Object(B.jsx)(Wc,{active:!!b.active,children:Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{IconComponent:y}))}):Object(B.jsx)(p,Object(S.a)({},b))}}CustomPanelHeaderActionFactory.deps=z.PanelHeaderActionFactory.deps;var zc=Dn.default.div(Tc||(Tc=Object(Bn.a)(["\n  .selection {\n    fill-opacity: 1;\n  }\n\n  .kg-range-slider__brush {\n    path.handle--custom {\n      fill: ",";\n      transition: ",";\n      &:hover {\n        fill: ",";\n      }\n    }\n    &[pointer-events='none'] {\n      path.handle--custom {\n        fill: ",";\n      }\n    }\n  }\n\n  .kg-range-slider__slider {\n    > div:not(.kg-slider) {\n      height: ","px !important;\n    }\n  }\n\n  .axis text {\n    font-family: ",";\n    font-weight: ",";\n    letter-spacing: ",";\n  }\n\n  .range-slider__input-group {\n    margin: ",";\n  }\n\n  .kg-range-slider__input {\n    height: ","px;\n    border-width: ","px;\n    color: ",";\n  }\n"])),Nn.a.palette.text.hint,Nn.a.transitions.create("fill",{easing:Nn.a.transitions.easing.easeInOut,duration:Nn.a.transitions.duration.short}),Nn.a.palette.text.primary,Nn.a.palette.text.primary,Nn.a.spacing(4),Nn.a.typography.overline.fontFamily,Nn.a.typography.overline.fontWeight,Nn.a.typography.overline.letterSpacing,Nn.a.spacing(2,0,1),Nn.a.spacing(4),Nn.a.spacing(.125),Nn.a.palette.text.primary);function CustomRangeSliderFactory(){var p=z.RangeSliderFactory.apply(void 0,arguments);return function(b){return Object(B.jsx)(zc,{children:Object(B.jsx)(p,Object(S.a)(Object(S.a)({},b),{},{inputTheme:""}))})}}CustomRangeSliderFactory.deps=z.RangeSliderFactory.deps;var Fc,Ac,Bc=y.p+"static/media/icon-av-pause-circle-outline-black.8589d69c.svg",Dc=y.p+"static/media/icon-av-play-circle-outline-black.2ef04925.svg",Nc=y.p+"static/media/icon-clock.65d3ee62.svg",Hc=y.p+"static/media/icon-maps-time-window-incremental-black.5992b6d1.svg",Vc=y.p+"static/media/icon-maps-time-window-moving-black.22ab8520.svg",Uc=y.p+"static/media/icon-maps-time-window-incremental-primary.c7c6c31c.svg",Gc=y.p+"static/media/icon-maps-time-window-moving-primary.ee826a0c.svg",qc=y.p+"static/media/icon-navigation-refresh-black.83c5c361.svg",Jc=Object(Dn.default)("div")(Fc||(Fc=Object(Bn.a)(["\n  .time-value span {\n    color: ",";\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: ",";\n    font-weight: ",";\n  }\n\n  .time-slider-marker {\n    margin-top: 0;\n  }\n\n  .playback-controls {\n    display: flex;\n    width: auto !important;\n    flex-direction: column;\n    margin-bottom: ","px;\n    min-height: ","px;\n\n    .playback-control-button {\n      margin: ",";\n      &:hover,\n      &:focus,\n      &:active,\n      &.active {\n        color: ",";\n      }\n\n      svg {\n        width: ","px;\n        height: ","px;\n        background-size: 100%;\n        background-position: center;\n        opacity: 0.6;\n\n        path {\n          display: none;\n        }\n      }\n\n      &.active {\n        &:hover,\n        &:active,\n        &:focus {\n          background-color: ",";\n        }\n\n        .data-ex-icons-freewindow {\n          opacity: 1;\n          background-image: url('","');\n        }\n\n        .data-ex-icons-anchorwindow {\n          opacity: 1;\n          background-image: url('","');\n        }\n      }\n\n      &[data-for='animate-play-pause'] {\n        background-color: "," !important;\n        svg {\n          opacity: 1;\n        }\n      }\n    }\n\n    > div {\n      position: relative;\n    }\n  }\n\n  ","\n\n  .data-ex-icons-freewindow {\n    background-image: url('","');\n  }\n\n  .data-ex-icons-anchorwindow {\n    background-image: url('","');\n  }\n\n  .data-ex-icons-rocket {\n    opacity: 1 !important;\n    background-image: url('","');\n  }\n\n  .data-ex-icons-reset {\n    background-image: url('","');\n  }\n\n  .data-ex-icons-play {\n    background-image: url('","');\n  }\n\n  .data-ex-icons-pause {\n    background-image: url('","');\n  }\n\n  .animation-control__speed-slider {\n    bottom: auto;\n    top: 100%;\n    margin-top: ","px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 2;\n    padding: ",";\n    border-radius: ","px;\n    border: none;\n    box-shadow: ",";\n\n    .kg-range-slider__input {\n      margin-left: ","px;\n    }\n\n    > div::before {\n      content: 'Playback speed';\n      margin-bottom: ","px;\n      color: ",";\n      font-size: ",";\n      line-height: ",";\n      letter-spacing: ",";\n      font-weight: ",";\n    }\n  }\n"])),Nn.a.palette.text.secondary,Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.typography.caption.fontWeight,Nn.a.spacing(3.5),Nn.a.spacing(14),Nn.a.spacing(0,0,.5),Nn.a.palette.text.secondary,Nn.a.spacing(2.25),Nn.a.spacing(2.25),Object(K.alpha)(Nn.a.palette.primary.main,.08),Gc,Uc,Nn.a.palette.secondary.main,(function(p){return p.large&&".time-range-slider__container {\n      display: flex;\n      .timeline-container {\n        width: auto !important;\n        flex: 1;\n      }\n    }"}),Vc,Hc,Nc,qc,Dc,Bc,Nn.a.spacing(.5),Nn.a.spacing(2,.75),Nn.a.spacing(.5),Nn.a.shadows[8],Nn.a.spacing(2),Nn.a.spacing(.5),Nn.a.palette.text.primary,Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.typography.caption.fontWeight);function CustomTimeRangeSliderFactory(){var p=z.TimeRangeSliderFactory.apply(void 0,arguments);return function(b){return Object(B.jsx)(Jc,{large:!!b.isEnlarged,children:Object(B.jsx)(p,Object(S.a)({},b))})}}CustomTimeRangeSliderFactory.deps=z.TimeRangeSliderFactory.deps;var Zc=q.f[ja.ALL_FIELD_TYPES.timestamp],$c=Dn.default.div(Ac||(Ac=Object(Bn.a)(["\n  .bottom-widget--inner {\n    padding: 0;\n    border-radius: ","px;\n    box-shadow: ",";\n    display: flex;\n    flex-direction: column;\n    > div {\n      order: 3;\n      &.time-widget--top {\n        order: 1;\n      }\n      &.floating-time-display {\n        order: 2;\n        position: relative;\n      }\n    }\n  }\n\n  .time-widget--top {\n    border-bottom: 1px solid ",";\n    padding: ",";\n    align-items: center;\n    > div:last-child {\n      flex: 1;\n      justify-content: flex-end;\n    }\n    .bottom-widget__field {\n      margin-right: ","px;\n\n      .bottom-widget__icon {\n        font-family: 'Overpass Mono', monospace;\n        font-weight: 600;\n        font-size: ","px;\n        line-height: ","px;\n        padding: ",";\n        color: ",";\n        border: 1px solid ",";\n        background-color: ",";\n        border-radius: ","px;\n        margin-right: ","px;\n\n        &:before {\n          content: '","';\n        }\n\n        svg {\n          display: none;\n        }\n      }\n\n      span {\n        font-size: ",";\n        line-height: ",";\n        letter-spacing: ",";\n      }\n    }\n\n    .bottom-widget__y-axis {\n      flex: none;\n      margin: 0;\n      border: 1px solid ",";\n      padding: ",";\n      border-radius: ","px;\n\n      .bottom-widget__icon {\n        opacity: 0.6;\n        margin-right: ","px;\n        svg {\n          width: ","px;\n          height: ","px;\n        }\n      }\n\n      .bottom-widget__field-select {\n        width: auto;\n      }\n\n      .item-selector__dropdown {\n        padding: 0 !important;\n        border: none;\n        height: ","px;\n\n        + div {\n          bottom: ","px;\n          min-width: ","px;\n          left: 50%;\n          margin-left: ","px;\n          transform: translateX(-50%);\n          text-align: center;\n\n          .typeahead {\n            text-align: left;\n            display: inline-block;\n            border-radius: ","px;\n            min-width: ","px;\n            overflow: hidden;\n          }\n        }\n      }\n\n      .item-selector__dropdown__value {\n        padding-right: ","px;\n\n        &,\n        .field-selector_list-item,\n        .list__item__anchor {\n          font-size: ",";\n          line-height: ",";\n          letter-spacing: ",";\n          font-weight: ",";\n        }\n\n        + div {\n          margin: 0;\n          width: ","px;\n          height: ","px;\n          border-radius: 50%;\n          background-color: ",";\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          svg {\n            width: ","px;\n            height: ","px;\n            path {\n              fill: ",";\n            }\n          }\n          &:hover {\n            background-color: ",";\n          }\n        }\n      }\n    }\n  }\n\n  .floating-time-display {\n    padding: ",";\n\n    .time-value {\n      font-size: ",";\n      line-height: ",";\n      letter-spacing: ",";\n      color: ",";\n    }\n    .animation-control__horizontal-bar {\n      margin: ",";\n      height: ",";\n      path {\n        fill: ",";\n      }\n    }\n  }\n\n  .floating-time-display__inner {\n    height: auto;\n  }\n\n  .time-range-slider {\n    padding: ",";\n  }\n"])),Nn.a.spacing(.5),Nn.a.shadows[1],Nn.a.palette.divider,Nn.a.spacing(.5,.5,.5,2),Nn.a.spacing(2),Nn.a.spacing(1.5),Nn.a.spacing(1.75),Nn.a.spacing(0,.5),Zc.style.color,Zc.style.borderColor,Object(K.alpha)(Zc.style.borderColor,.12),Nn.a.spacing(.25),Nn.a.spacing(1),Zc.label,Nn.a.typography.body2.fontSize,Nn.a.typography.body2.lineHeight,Nn.a.typography.body2.letterSpacing,Nn.a.palette.grey[100],Nn.a.spacing(.25,.5,.25,.25),Nn.a.spacing(1.5),Nn.a.spacing(.5),Nn.a.spacing(2.25),Nn.a.spacing(2.25),Nn.a.spacing(2.25),Nn.a.spacing(2),Nn.a.spacing(40),Nn.a.spacing(-1.25),Nn.a.spacing(.5),Nn.a.spacing(15),Nn.a.spacing(1.25),Nn.a.typography.caption.fontSize,Nn.a.typography.caption.lineHeight,Nn.a.typography.caption.letterSpacing,Nn.a.typography.caption.fontWeight,Nn.a.spacing(1.625),Nn.a.spacing(1.625),Nn.a.palette.text.secondary,Nn.a.spacing(1.125),Nn.a.spacing(1.125),Nn.a.palette.common.white,Nn.a.palette.text.primary,Nn.a.spacing(2,8,0,3),Nn.a.typography.body2.fontSize,Nn.a.typography.body2.lineHeight,Nn.a.typography.body2.letterSpacing,Nn.a.palette.text.secondary,Nn.a.spacing(0,1),Nn.a.typography.body2.lineHeight,Nn.a.palette.text.secondary,Nn.a.spacing(0,2,2));function CustomTimeWidgetFactory(){var p=z.TimeWidgetFactory.apply(void 0,arguments);return function(b){return Object(B.jsx)($c,{children:Object(B.jsx)(p,Object(S.a)({},b))})}}function CustomSidePanelFactory(){var p=z.SidePanelFactory.apply(void 0,arguments);return L.a.memo(p)}CustomTimeWidgetFactory.deps=z.TimeWidgetFactory.deps,CustomSidePanelFactory.deps=z.SidePanelFactory.deps;var Yc=y(959),Kc=y.p+"static/media/icon-add.0a5c55c9.svg",Qc=y.p+"static/media/icon-navigation-close-black.44e2db7e.svg",Xc=y.p+"static/media/icon-navigation-close-grey.821cb23e.svg",es=y.p+"static/media/icon-navigation-arrow-upward-black.6f46b861.svg",ts=y.p+"static/media/icon-navigation-arrow-downward.fad5792c.svg",ns=y.p+"static/media/icon-navigation-cancel-black.c1568b80.svg",rs=y.p+"static/media/icon-content-copy-dark.77fbfa48.svg",os=y.p+"static/media/icon-pin.7771fef9.svg",as=Object(Oe.a)((function(p){var b=p.palette,y=p.shadows,P=p.shape,L=p.spacing,T=p.transitions,z=p.typography;return{keplerGlContainer:{position:"relative",height:0,flex:1,display:"flex","& .kepler-gl":{minWidth:0,flex:1,height:"100% !important",display:"flex",flexDirection:"row !important"},"& .widgets-container":Object(D.a)({},Q.a,{marginTop:q.x}),"& .map-container":Object(D.a)({display:"flex",flexDirection:"column",padding:L(.5),marginTop:0,minWidth:0,flex:1,marginBottom:"var(--builder-maps-mb, 0)",position:"relative","& > div:first-child":{borderRadius:L(.5),overflow:"hidden",border:"1px solid ".concat(Object(K.alpha)(b.common.black,.05)),'&, & > div[tabindex="0"]':{width:"100% !important",height:"100% !important"}},"& + .map-container":{paddingTop:0}},Q.a,{marginTop:q.x,padding:L(1),"& + .map-container":{paddingTop:L(1),paddingLeft:0}}),"& .side-panel__content":{padding:L(2,1.5,2,2)},"& .side-panel__content__title":{letterSpacing:z.subtitle1.letterSpacing,fontWeight:500,marginBottom:0},"& .side-panel-divider":{"border-color":b.action.selected},"& .side-panel-panel__label":Object(S.a)({},z.caption),"& .item-selector__dropdown, .color-palette__config__select .item-selector .item-selector__dropdown, .color-selector__selector, .kg-range-slider__input, .typeahead__input, .chickleted-input":Object(S.a)(Object(S.a)({},z.body2),{},{border:"1px solid ".concat(b.text.disabled),borderRadius:L(.5),textTransform:"capitalize"}),"& .item-selector .typeahead__input_box":{display:"none"},"& .item-selector .item-selector__dropdown":{padding:"4px 10px !important","&:hover":{backgroundColor:"".concat(b.common.white," !important")}},"& .chickleted-input":{paddingTop:L(.5),borderWidth:1,"& .chickleted-input__placeholder":{margin:L(0,.5,.5,.5)}},"& .chickleted-input:hover":{backgroundColor:b.common.white},"& .list-selector":{border:"none",padding:L(.5,0),borderRadius:"4px","& .list__header":Object(S.a)(Object(S.a)({},z.caption),{},{color:b.text.secondary}),"& .list__section":{borderColor:"".concat(b.action.selected," !important")}},"& .list__item":{padding:"4px 9px !important"},"& .list__item__anchor":Object(S.a)(Object(S.a)({},z.body2),{},{color:b.common.black,textTransform:"capitalize"}),"& .ReactModal__Content .more-options":{"& .list-selector":{boxShadow:y[8],"& .list__item":Object(S.a)(Object(S.a)({},z.caption),{},{fontWeight:500,padding:"".concat(L(.375,2,.375,1.5)," !important"),transition:T.create("background-color",{easing:T.easing.easeInOut,duration:T.duration.short}),"&.hover, &:hover":{backgroundColor:Object(K.alpha)(b.common.black,.08)},"& svg":{marginRight:L(1.5),width:L(2.25),height:L(2.25),backgroundSize:"cover",backgroundPosition:"center","& path":{display:"none"},"&.data-ex-icons-arrowdown":{backgroundImage:"url('".concat(ts,"')")},"&.data-ex-icons-arrow_up":{backgroundImage:"url('".concat(es,"')")},"&.data-ex-icons-cancel":{backgroundImage:"url('".concat(ns,"')")},"&.data-ex-icons-pin":{backgroundImage:"url('".concat(os,"')")},"&.data-ex-icons-clipboard":{backgroundImage:"url('".concat(rs,"')")}}})}},"& .source-data-catalog":{marginBottom:"18px","& .side-panel-section":{border:"1px solid ".concat(b.text.disabled),borderRadius:"4px",padding:"7px 12px 7px 12px"},"& .source-data-title":{alignItems:"center"},"& .source-data-tag":{alignItems:"center",marginBottom:L(.5)},"& .dataset-color":{width:"12px",height:"12px",borderRadius:"4px",marginTop:0},"& .dataset-name":Object(S.a)(Object(S.a)({},z.subtitle2),{},{color:b.common.black,"&:hover":{color:b.primary.main}}),"& .source-data-rows":Object(S.a)(Object(S.a)({},z.caption),{},{fontWeight:"normal"})},"& .sortable-layer-items.sorting-layers .layer-panel__header":{boxShadow:y[8]},"& .kg-checkbox":{'& input[type="checkbox"]:not(:checked) ~ .kg-checkbox__label::before':{border:"1px solid ".concat(b.text.secondary)}},'& .kg-checkbox[type="radio"]':{'& input[type="checkbox"] ~ .kg-checkbox__label::before':{border:"1px solid ".concat(b.text.secondary)}},"& .chickleted-input > div":{height:L(3),margin:L(0,.5,.5,0),padding:L(0,1.5),backgroundColor:b.common.white,border:"1px solid ".concat(b.grey[100]),borderRadius:L(1.5),color:b.common.black,"& span":{marginRight:L(1),fontWeight:500},'& div div[data-tip="true"]:hover .tooltip-chicklet__icon svg':{fill:"".concat(b.primary.main," !important")}},"& .add-layer-button, .add-filter-button, .add-map-style-button":Object(S.a)(Object(S.a)({},z.button),{},{backgroundColor:b.primary.main,borderRadius:"4px",padding:"6px 16px 6px 42px",backgroundImage:"url(".concat(Kc,")"),backgroundRepeat:"no-repeat",backgroundPosition:"12px center",width:"auto",marginBottom:"20px","&:hover":{backgroundColor:b.primary.dark},"& >svg":{display:"none"}}),"& .attrition-logo":{display:"none !important"},"& .attrition-link":{display:"none !important"},"& .interaction-panel":{marginBottom:L(2),paddingBottom:0,backgroundColor:b.common.white,borderRadius:L(.5),transition:T.create(["box-shadow","border"],{easing:T.easing.easeInOut,duration:T.duration.standard}),border:"1px solid ".concat(b.divider),"&:hover":{boxShadow:y[2],borderColor:"transparent"},"& .side-panel-section":{marginBottom:L(3.5),"& > div":{marginBottom:L(.5)},"& .source-data-title":{alignItems:"center"},"& .source-data-tag":{alignItems:"center"},"& .dataset-color":{width:"12px",height:"12px",borderRadius:"4px",marginTop:0},"& .dataset-name":Object(S.a)(Object(S.a)({},z.caption),{},{color:b.common.black,fontWeight:500}),"& .source-data-rows":Object(S.a)(Object(S.a)({},z.caption),{},{fontWeight:"normal"})},"& .interaction-panel__header__title .side-panel-panel__header__title":Object(S.a)(Object(S.a)({},z.body2),{},{color:b.text.secondary,fontWeight:500}),"& .interaction-panel__header":{borderRadius:L(.5),"& .interaction-panel__header__title":Object(S.a)(Object(S.a)({},z.body2),{},{fontWeight:500})},"& .interaction-panel__content":{borderTop:"1px solid ".concat(b.divider),borderBottomLeftRadius:L(.5),borderBottomRightRadius:L(.5),"& .side-panel-section:last-child":{marginBottom:0},"& .typeahead .typeahead__input_box":{display:"none"}}},"& .layer-config__type":{"& .item-selector__dropdown":{paddingLeft:"8px !important"},"& .item-selector__dropdown__value":{"& .layer-type-selector__item__icon":{"& svg":{width:"24px !important",height:"24px !important",fill:b.primary.main}}},"& .layer-type-selector__item__icon":{backgroundImage:"none !important",backgroundColor:b.grey[50],borderRadius:"4px","& svg":{width:"72px !important",height:"72px !important","&:hover":{fill:b.primary.main}}}},"& .dataset-modal-tab":{"& .dataset-name":{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":1}},"& .notification-panel":{zIndex:10002},"& .__react_component_tooltip":Object(S.a)(Object(S.a)({padding:"".concat(L(.5,1)," !important")},z.caption),{},{fontWeight:"".concat(z.caption.fontWeight," !important")}),"& .map-control__panel-header":Object(S.a)(Object(S.a)({},z.body2),{},{color:b.text.primary,padding:0,fontWeight:500,borderBottom:"1px solid ".concat(b.divider),borderTopLeftRadius:P.borderRadius,borderTopRightRadius:P.borderRadius,"& > span":{padding:L(.75,2)}}),"& .close-map-control-item, & .time-widget--top > div:last-child > div":{backgroundImage:'url("'.concat(Qc,'")'),margin:L(.5),backgroundColor:"transparent",backgroundPosition:"center",backgroundSize:L(2.25),backgroundRepeat:"no-repeat","& svg":{color:"transparent"}},"& .panel--header__action, & .close-map-control-item, & .time-widget--top > div:last-child > div, .playback-control-button":{borderRadius:L(.25),width:L(3),height:L(3),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:b.action.hover},"& svg":{outline:0}},"& .map-control":{top:"auto",bottom:br.a.spacing(.5),padding:L(1.5,2)},"& .map-control-button":{borderRadius:P.borderRadius,boxShadow:y[1],'& > svg[width="24"]':{transform:"scale(0.82)",transformOrigin:"50% 50%"},"&:hover":{"& svg path":{fill:b.primary.main}}},"& .modal--wrapper":{boxShadow:y[24],padding:0},"& .modal--close":{width:L(4),height:L(4),backgroundImage:'url("'.concat(Xc,'")'),backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:L(.5),top:L(2),right:L(2),transition:T.create("background-color",{easing:T.easing.easeInOut,duration:T.duration.standard}),"& svg":{display:"none"},"&:hover":{backgroundColor:b.action.hover}},"& .bottom-widget--container":{zIndex:20}}}}));var is=y(1417),ls=Object(Oe.a)((function(p){var b=p.spacing,y=p.palette;return{popoverHeader:{maxWidth:"calc(".concat(b(36),"px - ").concat(b(6),"px)"),marginBottom:b(1),overflow:"hidden"},title:{width:"calc(100% - ".concat(b(6),"px)"),marginLeft:b(1),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},fixed:{color:y.common.white}}}));var cs=function PopoverHeader(p){var b=p.title,y=ls(),S=Object(P.createRef)(),L=Object(P.useState)(),T=Object(ye.a)(L,2),z=T[0],D=T[1],N=Object(P.useMemo)((function(){return(null===z||void 0===z?void 0:z.querySelector(".popover-arrow-right"))||(null===z||void 0===z?void 0:z.querySelector(".popover-arrow-left"))}),[z]);return Object(P.useLayoutEffect)((function(){var p,b,y,P,L,T,z,B,N,q=null===(p=(null===(b=S.current)||void 0===b||null===(y=b.parentElement)||void 0===y||null===(P=y.parentElement)||void 0===P||null===(L=P.parentElement)||void 0===L?void 0:L.querySelector(".popover-arrow-right"))||(null===(T=S.current)||void 0===T||null===(z=T.parentElement)||void 0===z||null===(B=z.parentElement)||void 0===B||null===(N=B.parentElement)||void 0===N?void 0:N.querySelector(".popover-arrow-left")))||void 0===p?void 0:p.parentElement;q&&q.classList.add("map-popover__top"),D(q)}),[S]),Object(B.jsx)("div",{ref:S,children:Object(B.jsxs)(xe.a,{display:"flex",alignItems:"center",className:[y.popoverHeader,N?y.fixed:""].join(" "),children:[Object(B.jsx)(is.a,{color:"inherit",fontSize:"small"}),Object(B.jsx)(_e.a,{variant:"body2",color:"inherit",className:y.title,children:b})]})})},ss=y(459),ds=Object(Oe.a)((function(p){var b=p.palette,y=p.spacing;return{popoverRow:{maxWidth:y(36),minWidth:y(18),"&:not(:last-of-type)":{marginBottom:y(1)}},label:{color:Object(Sr.a)(b.common.white,.6)},value:{marginLeft:y(4),color:b.common.white}}}));var us=function PopoverRow(p){var b=p.label,y=p.children,S=ds();return Object(B.jsxs)(xe.a,{display:"flex",justifyContent:"space-between",className:S.popoverRow,children:[Object(B.jsx)(_e.a,{variant:"caption",className:S.label,children:b}),Object(B.jsx)(_e.a,{variant:"caption",className:S.value,component:"div",children:y})]})},ps=Object(Oe.a)((function(p){return{positive:{color:p.palette.success.main},negative:{color:p.palette.error.main}}}));var bs=function PopoverEntryRow(p){var b,y=p.item,S=p.fields,P=p.data,L=p.primaryData,T=p.compareType,z=p.isAggregated,D=y.name,N=ps(),q=S.findIndex((function(p){return p.name===y.name})),Z=S[q],K=function getTooltipDisplayValueWrapper(p){var b=p.item,y=p.field,S=p.data,P=p.fieldIdx;return p.isAggregated?null:S.valueAt?Object(ss.getTooltipDisplayValue)({item:b,field:y,data:S,fieldIdx:P}):Object(Dl.notNullorUndefined)(S[P])?b.format?Object(Dl.getFormatter)(b.format,y)(S[P]):Object(Dl.parseFieldValue)(S[P],y.type):""}({item:y,field:Z,data:P,fieldIdx:q,isAggregated:z}),Q=z?null:Object(ss.getTooltipDisplayDeltaValue)({item:y,field:Z,data:P,fieldIdx:q,primaryData:L,compareType:T});K&&"string"===typeof K&&K.match(/^http/)&&(b=K);var X=/<img>/.test(D);return q<0?null:Object(B.jsx)(us,{label:D,children:Object(B.jsxs)(B.Fragment,{children:[X?Object(B.jsx)("img",{src:K}):b?Object(B.jsx)(Se.a,{target:"_blank",rel:"noopener noreferrer",href:b,children:K}):K,Object(Dl.notNullorUndefined)(Q)&&Object(B.jsx)("span",{className:"+"===Q.toString().charAt(0)?N.positive:N.negative,children:Q})]})})};function CustomLayerHoverInfoFactory(){return function(p){return Object(B.jsxs)("div",{className:"map-popover__layer-info",style:{color:br.a.palette.common.white},children:[Object(B.jsx)(cs,{title:p.layer.config.label}),p.fieldsToShow.map((function(b){return Object(B.jsx)(bs,Object(S.a)(Object(S.a)({item:b},p),{},{isAggregated:p.layer.isAggregated}),b.name)}))]})}}CustomLayerHoverInfoFactory.deps=z.LayerHoverInfoFactory.deps;var gs=Object(Oe.a)((function(p){return{container:Object(D.a)({minWidth:0,flex:"0 0 ".concat(p.spacing(37),"px"),overflowY:"auto",padding:p.spacing(1),paddingLeft:0,backgroundColor:p.palette.background.default},p.breakpoints.down("sm"),{marginTop:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:999,padding:p.spacing(2)}),widgetItemContainer:{"&:not(:last-child)":{marginBottom:p.spacing(1)}},closeButton:Object(D.a)({position:"absolute",right:p.spacing(3),bottom:p.spacing(3),color:p.palette.common.white,backgroundColor:p.palette.text.primary,fontFamily:p.typography.body1.fontFamily,fontWeight:p.typography.body1.fontWeight,paddingLeft:p.spacing(2),paddingRight:p.spacing(2),"& svg":{width:18,height:18,"& path":{fill:p.palette.common.white}}},p.breakpoints.up("md"),{display:"none"})}}));var fs=function BuilderWidgets(){var p=Object(mn.a)(),b=gs(),y=Object(Ee.a)(),S=Ql(),P=Object(Ee.b)((function(p){return p.builder.widgets})).filter((function(p){return S||p.type!==va.c.TIMESERIES})),L=Object(Ee.b)((function(p){return p.builder.isWidgetPanelOpen})),z=P.length>0;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(Fl.a,{direction:"left",in:z&&L,mountOnEnter:!0,unmountOnExit:!0,timeout:{exit:0,enter:p.transitions.duration.short},children:Object(B.jsxs)("div",{className:"widgets-container ".concat(b.container),children:[P.map((function(p){return Object(B.jsx)(xe.a,{className:b.widgetItemContainer,children:Object(B.jsx)(Jl,{widget:p})},p.id)})),Object(B.jsx)(Ce.a,{className:b.closeButton,variant:"contained",color:"default",startIcon:Object(B.jsx)(je.a,{}),onClick:function onClick(){return y(Object(T.v)(!1))},children:Object(B.jsx)(ke.a,{id:"builder.widgets.backToMap"})})]})})})},hs=Object(z.injectComponents)([function replaceSidePanel(){return[z.SidePanelFactory,CustomSidePanelFactory]}(),function replacePlotContainer(){return[z.PlotContainerFactory,CustomPlotContainerFactory]}(),function replaceMapContainer(){return[z.MapContainerFactory,CustomMapContainerFactory]}(),function replacePanelHeader(){return[z.PanelHeaderFactory,CustomPanelHeaderFactory]}(),function replaceSidebar(){return[z.SidebarFactory,CustomSidebarFactory]}(),function replacePanelToggle(){return[z.PanelToggleFactory,CustomPanelToggleFactory]}(),function replaceLayerManager(){return[z.LayerManagerFactory,CustomLayerManagerFactory]}(),function replaceLayerBlendingSelector(){return[z.LayerBlendingSelectorFactory,CustomLayerBlendingSelectorFactory]}(),function replacePanelTitle(){return[z.PanelTitleFactory,CustomPanelTitleFactory]}(),function replaceMapPopover(){return[z.MapPopoverFactory,CustomMapPopoverFactory]}(),function replaceLayerHoverInfo(){return[z.LayerHoverInfoFactory,CustomLayerHoverInfoFactory]}(),function replaceMapManager(){return[z.MapManagerFactory,CustomMapManagerFactory]}(),function replaceMapLayerSelector(){return[z.LayerGroupSelectorFactory,CustomLayerGroupSelectorFactory]}(),function replaceLayerPanel(){return[z.LayerPanelFactory,CustomLayerPanelFactory]}(),function replaceLayerConfigurator(){return[z.LayerConfiguratorFactory,CustomLayerConfiguratorFactory]}(),function replaceLayerPanelHeader(){return[z.LayerPanelHeaderFactory,CustomLayerPanelHeaderFactory]}(),function replaceMapStyleSelector(){return[z.MapStyleSelectorFactory,CustomMapStyleSelectorFactory]}(),function replaceLayerTypeSelector(){return[z.LayerTypeSelectorFactory,CustomLayerTypeSelectorFactory]}(),function replaceLayerColumnConfig(){return[da.a,CustomLayerColumnConfigFactory]}(),function replaceInteractionManager(){return[z.InteractionManagerFactory,CustomInteractionManagerFactory]}(),function replaceMapControl(){return[z.MapControlFactory,CustomMapControlFactory]}(),function replaceLayerSelectorPanel(){return[z.LayerSelectorPanelFactory,CustomLayerSelectorPanelFactory]}(),function replaceMapLegendPanel(){return[z.MapLegendPanelFactory,CustomMapLegendPanelFactory]}(),function replaceTooltipConfig(){return[z.TooltipConfigFactory,CustomTooltipConfigFactory]}(),function replaceFilterManager(){return[z.FilterManagerFactory,CustomFilterManagerFactory]}(),function replaceNewFilterPanel(){return[Cc.a,CustomNewFilterPanelFactory]}(),function replaceSourceDataSelector(){return[z.SourceDataSelectorFactory,CustomSourceDataSelectorFactory]}(),function replaceFilterPanelHeader(){return[z.FilterPanelHeaderFactory,CustomFilterPanelHeaderFactory]}(),function replaceTimeWidget(){return[z.TimeWidgetFactory,CustomTimeWidgetFactory]}(),function replaceTimeRangeSlider(){return[z.TimeRangeSliderFactory,CustomTimeRangeSliderFactory]}(),function replaceRangeSlider(){return[z.RangeSliderFactory,CustomRangeSliderFactory]}(),function replaceModalContainer(){return[z.ModalContainerFactory,CustomModalContainerFactory]}(),function replaceDataTableModal(){return[z.DataTableModalFactory,CustomDataTableModalFactory]}(),function replaceFieldToken(){return[z.FieldTokenFactory,CustomFieldTokenFactory]}(),function replacePanelHeaderAction(){return[z.PanelHeaderActionFactory,CustomPanelHeaderActionFactory]}()]);function KeplerGl(p){var b=p.sidebarDisabled,y=function useKeplerGlStyles(){var p=Object(mn.a)(),b=as();return{keplerGlTheme:{fontFamily:p.typography.body1.fontFamily,btnFontFamily:p.typography.body1.fontFamily,sidePanelBg:p.palette.grey[50],sidePanelHeaderBg:p.palette.common.white,sidePanelHeaderBorder:p.palette.action.selected,sidePanelTitleFontsize:p.typography.subtitle1.fontSize,sidePanelTitleLineHeight:p.typography.subtitle1.lineHeight,sidePanelScrollBarWidth:4,sidePanelScrollBarHeight:4,titleTextColor:p.palette.common.black,sidepanelDividerMargin:"24",sidepanelDividerHeight:"24",labelColor:p.palette.text.secondary,inputBoxHeight:"32px",inputBgd:p.palette.common.white,inputBgdHover:p.palette.common.white,inputBgdActive:p.palette.common.white,inputBorderHoverColor:p.palette.common.black,inputBorderActiveColor:p.palette.primary.main,secondaryInputBgd:p.palette.common.white,secondaryInputBgdActive:p.palette.common.white,secondaryInputBgdHover:p.palette.common.black,secondaryInputBorderActiveColor:p.palette.primary.main,selectColor:p.palette.common.black,selectColorPlaceHolder:p.palette.text.hint,selectFontSize:p.typography.body2.fontSize,dropdownListBgd:p.palette.common.white,dropdownListHighlightBg:p.palette.action.hover,textColor:p.palette.text.primary,textColorHl:p.palette.common.black,subtextColor:p.palette.text.secondary,panelBackground:p.palette.common.white,panelBackgroundHover:p.palette.common.white,layerConfigGroupPaddingLeft:28,layerConfigGroupLabelBorderLeft:"1px",layerConfigGroupLabelPadding:"16px",layerConfigGroupMarginBottom:14,switchHeight:16,switchWidth:24,switchTrackBorderRadius:"8px",switchTrackBgdActive:p.palette.primary.main,switchTrackBgd:p.palette.common.white,switchBtnBorderRadius:"100%",switchBtnWidth:8,switchBtnHeight:8,switchBtnBgd:p.palette.text.secondary,switchBtnBgdActive:p.palette.common.white,switchBtnBoxShadow:"none",secondarySwitchTrackBgd:p.palette.common.white,secondarySwitchBtnBgd:p.palette.text.secondary,sliderBarColor:p.palette.primary.main,sliderBarBgd:"rgba(3, 111, 226, 0.38)",sliderBarRadius:"0",sliderBarHeight:2,sliderBorderRadius:"100%",sliderHandleColor:p.palette.primary.main,sliderInactiveBorderColor:p.palette.primary.main,sliderHandleHoverColor:p.palette.primary.main,sliderHandleShadow:"none",sliderInputHeight:36,sliderInputWidth:56,sliderInputFontSize:p.typography.body2.fontSize,chickletBgd:p.palette.secondary.main,floatingBtnBgd:p.palette.common.white,floatingBtnColor:p.palette.common.black,floatingBtnBgdHover:p.palette.common.white,floatingBtnActColor:p.palette.primary.main,panelContentBackground:p.palette.common.white,mapPanelHeaderBackgroundColor:p.palette.common.white,mapPanelBackgroundColor:p.palette.common.white,activeColor:p.palette.primary.main,rangeBrushBgd:Object(K.alpha)(p.palette.common.black,.05),histogramFillInRange:p.palette.secondary.main,histogramFillOutRange:p.palette.grey[100],rangePlotMargin:{top:p.spacing(2),bottom:0,left:0,right:0},rangePlotH:p.spacing(8),rangePlotContainerH:p.spacing(10),axisFontSize:p.typography.overline.fontSize,axisFontColor:p.palette.text.secondary,rangePlotMarginLarge:{top:p.spacing(2),bottom:0,left:0,right:0},rangePlotHLarge:p.spacing(13.5),rangePlotContainerHLarge:p.spacing(15.5),toolbarItemBgdHover:p.palette.action.hover,tooltipBg:p.palette.other.tooltip,tooltipColor:p.palette.common.white,tooltipBoxShadow:"none",tooltipFontSize:p.typography.caption.fontSize,panelBorderColor:p.palette.divider,headerRowHeight:58,rowHeight:32,headerPaddingTop:12,headerPaddingBottom:8,cellPaddingSide:16,edgeCellPaddingSide:0,cellFontSize:11,modalOverlayBgd:Object(K.alpha)(p.palette.common.black,.4),headerCellBackground:p.palette.common.white,headerCellBorderColor:"#e0e0e0",headerCellIconColor:p.palette.text.secondary,cellBorderColor:"transparent",evenRowBackground:"rgba(3, 111, 226, 0.05)",oddRowBackground:p.palette.common.white,pinnedGridBorderColor:p.palette.divider,bottomWidgetBgd:p.palette.common.white,bottomInnerPdSide:p.spacing(0),bottomInnerPdVert:p.spacing(0),bottomPanelGap:p.spacing(2),bottomWidgetPaddingTop:p.spacing(2),bottomWidgetPaddingRight:p.spacing(8),bottomWidgetPaddingBottom:p.spacing(2),bottomWidgetPaddingLeft:p.spacing(2),playbackButtonColor:p.palette.text.secondary,playbackButtonBgColor:p.palette.common.white,playbackButtonActBgColor:Object(K.alpha)(p.palette.primary.main,.08)},keplerGlClasses:b}}(),L=y.keplerGlTheme,z=y.keplerGlClasses,D=Object(Ee.a)(),N=Ql(),Z=Object(Ee.b)((function(p){return p.builder.widgets})),Q=Object(Ee.b)((function(p){return p.builder.isLoading})),X=Z.length>0;return Object(P.useEffect)((function(){D(Object(et.fitBounds)(q.j))}),[D]),Object(P.useEffect)((function(){Q||N||!X||D(Object(T.v)(!0))}),[X,Q,N,D]),Object(B.jsxs)("div",{className:z.keplerGlContainer,children:[Object(B.jsx)(hs,Object(S.a)(Object(S.a)({},(b||N)&&{initialUiState:{activeSidePanel:""}}),{},{theme:L,mapboxApiAccessToken:'""',mapStyles:uo.d,localeMessages:Yc.a})),Object(B.jsx)(fs,{})]})}b.a=L.a.memo(KeplerGl)},960:function(p,b,y){"use strict";var S=y(49),P=y(48),L=y(41),T=y(1081),z=y(2593),B=y(729),D=y(2515),N=y(1386),q=y(2519),Z=y(50),K=y(2549),Q=y(2568),X=y(194),ne=y(130),re=y(127);var ie=function useMapTitleEditor(){var p=Object(X.a)(),b=Object(Z.a)(),y=Object(Z.b)((function(p){return p.maps.currentMap})),P=Object(L.useState)(null===y||void 0===y?void 0:y.title),T=Object(S.a)(P,2),z=T[0],B=T[1],D=Object(L.useMemo)((function(){return z||p.formatMessage({id:"maps.default.title"})}),[z,p]);Object(L.useEffect)((function(){void 0===z&&(null===y||void 0===y?void 0:y.title)&&B(null===y||void 0===y?void 0:y.title)}),[y,z,B]);var N=function saveMapTitle(){(null===y||void 0===y?void 0:y.id)&&void 0!==z&&z!==y.title&&b(Object(re.g)({id:null===y||void 0===y?void 0:y.id,title:z.trim(),description:null===y||void 0===y?void 0:y.description}))};return{mapTitle:z,mapTitleSpacerContent:D,handleTitleSelection:function handleTitleSelection(p){p.target.select()},handleTitleChange:function handleTitleChange(p){B(p.target.value)},handleKeyDown:function handleKeyDown(p){"Enter"!==p.key&&"Tab"!==p.key||(N(),p.target.blur()),"Escape"===p.key&&(B(null===y||void 0===y?void 0:y.title),p.target.blur())},saveMapTitle:N}},le=y(43),se=Object(T.a)((function(p){var b=p.palette,y=p.transitions,S=p.typography;return{inputWrapper:{position:"relative",maxWidth:"60%",overflow:"hidden"},inputSpacer:{opacity:0,pointerEvents:"none",fontWeight:500},inputRoot:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)","&:before, &:after":{borderBottomColor:b.common.white},"&:before":{opacity:0,transition:y.create("opacity",{easing:y.easing.easeIn,duration:y.duration.shortest}),borderBottom:"1px solid ".concat(b.common.white," !important")},"&:hover":{"&:before":{opacity:1}}},inputRootFocused:{"&:before":{opacity:1}},input:Object(P.a)(Object(P.a)({},S.body2),{},{color:b.common.white,fontWeight:500,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}}));var de,ue,pe=function MapTitleEditor(){var p=se(),b=Object(X.a)(),y=Object(ne.b)(),S=ie(),P=S.mapTitle,L=S.mapTitleSpacerContent,T=S.handleTitleSelection,z=S.handleTitleChange,N=S.handleKeyDown,q=S.saveMapTitle;return y?null:Object(le.jsxs)(B.a,{ml:1,mr:2.75,className:p.inputWrapper,children:[Object(le.jsx)(D.a,{component:"p",variant:"body2",className:p.inputSpacer,children:L}),Object(le.jsx)(K.a,{onClickAway:q,children:Object(le.jsx)(Q.a,{placeholder:b.formatMessage({id:"maps.default.title"}),value:P||"",className:p.input,onClick:T,onChange:z,onKeyDown:N,fullWidth:!0,classes:{root:p.inputRoot,focused:p.inputRootFocused,input:p.input},inputProps:{"aria-label":"map-name"}})})]})},be=y(2548),ge=y(2635),fe=y(289),he=y(271),me=["title","titleId"];function _extends(){return _extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},_extends.apply(this,arguments)}function _objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function _objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconFileCloudDone(p,b){var y=p.title,S=p.titleId,P=_objectWithoutProperties(p,me);return L.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,de||(de=L.createElement("defs",null,L.createElement("path",{id:"dihpog92ta",d:"M14.512 7.53C14.002 4.942 11.73 3 9 3 6.832 3 4.95 4.23 4.013 6.03 1.755 6.27 0 8.182 0 10.5 0 12.982 2.018 15 4.5 15h9.75c2.07 0 3.75-1.68 3.75-3.75 0-1.98-1.538-3.585-3.488-3.72zm-.262 5.97H4.5c-1.658 0-3-1.342-3-3 0-1.537 1.147-2.82 2.67-2.978l.803-.082.375-.713C6.06 5.356 7.455 4.5 9 4.5c1.965 0 3.66 1.395 4.043 3.322l.225 1.125 1.147.083c1.17.075 2.085 1.058 2.085 2.22 0 1.238-1.012 2.25-2.25 2.25zM7.5 10.635L5.933 9.068l-1.058 1.057L7.5 12.75l4.508-4.508-1.058-1.057-3.45 3.45z"}))),ue||(ue=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",{transform:"translate(-566.000000, -732.000000) translate(138.000000, 716.000000) translate(207.000000, 8.000000) translate(218.000000, 5.000000) translate(3.000000, 3.000000)"},L.createElement("mask",{id:"ly0l79gbab",fill:"#fff"},L.createElement("use",{xlinkHref:"#dihpog92ta"})),L.createElement("g",{fill:"#FFF",mask:"url(#ly0l79gbab)"},L.createElement("path",{d:"M0 0H18V18H0z"}))))))))))}var ve,je=L.forwardRef(SvgIconFileCloudDone),ye=(y.p,["title","titleId"]);function icon_file_cloud_off_extends(){return icon_file_cloud_off_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_file_cloud_off_extends.apply(this,arguments)}function icon_file_cloud_off_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_file_cloud_off_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconFileCloudOff(p,b){var y=p.title,S=p.titleId,P=icon_file_cloud_off_objectWithoutProperties(p,ye);return L.createElement("svg",icon_file_cloud_off_extends({width:18,height:18,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,ve||(ve=L.createElement("path",{d:"M18 10.553a3.732 3.732 0 0 0-3.488-3.72A5.617 5.617 0 0 0 9 2.302c-.998 0-1.928.27-2.737.727L7.38 4.148A4.047 4.047 0 0 1 9 3.803a4.123 4.123 0 0 1 4.125 4.125v.375h1.125a2.247 2.247 0 0 1 1.342 4.05l1.058 1.057c.818-.69 1.35-1.703 1.35-2.857zM3.308 2.197 2.25 3.255l2.077 2.077h-.314A4.496 4.496 0 0 0 0 9.802c0 2.483 2.018 4.5 4.5 4.5h8.797l1.5 1.5 1.058-1.057L3.308 2.198zM4.5 12.803a3 3 0 1 1 0-6h1.298l6 6H4.5z",fill:"#FFF",fillRule:"evenodd"})))}var Oe=L.forwardRef(SvgIconFileCloudOff),xe=(y.p,y(64));var _e=function useMapSavingState(){return{currentMap:Object(Z.b)((function(p){return p.maps.currentMap})),isLoading:Object(Z.b)((function(p){return p.maps.mapEditStatus===xe.b.Pending})),isAutosavingEnabled:Object(Z.b)((function(p){return p.builder.isAutosavingEnabled}))}},we=Object(T.a)((function(p){var b=p.spacing,y=p.transitions;return{chip:{marginLeft:b(0),opacity:"0.6",transition:y.create("opacity",{easing:y.easing.easeIn,duration:y.duration.shorter}),"&:hover":{opacity:1}},chipAvatar:{background:"transparent !important",marginRight:"0 !important"}}}));function getAutosaveTitleId(p,b){return p?b?"builder.navBar.updating":"builder.navBar.updated":"builder.navBar.autosavedDisabled.title"}function getAutosaveIcon(p,b){return p?b?Object(le.jsx)(be.a,{color:"inherit",size:16}):Object(le.jsx)(je,{}):Object(le.jsx)(Oe,{})}var Ce,Se,Ee=function MapSavingIndicator(){var p=we(),b=Object(X.a)(),y=Object(ne.b)(),S=_e(),P=S.currentMap,L=S.isLoading,T=S.isAutosavingEnabled;return Object(le.jsx)(z.a,{title:T?Object(le.jsx)(he.a,{opts:{minInterval:60},datetime:(null===P||void 0===P?void 0:P.updatedAt)||""}):Object(le.jsx)(fe.a,{id:"builder.navBar.autosavedDisabled.msg"}),placement:"bottom",children:Object(le.jsx)(ge.a,{avatar:Object(le.jsx)("div",{children:getAutosaveIcon(T,L)}),label:!y&&b.formatMessage({id:getAutosaveTitleId(T,L)}),color:"primary",size:"small",classes:{root:p.chip,avatar:p.chipAvatar},"aria-label":"map-save-status"})})},ke=y(158),Pe=y(2536),Ie=y(506),Le=y(98),Me=y(510),Te=y(282),Re=y(2621),We=y(2583),ze=y(2518),Fe=y(2592),Ae=["title","titleId"];function icon_check_light_extends(){return icon_check_light_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_check_light_extends.apply(this,arguments)}function icon_check_light_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_check_light_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconCheckLight(p,b){var y=p.title,S=p.titleId,P=icon_check_light_objectWithoutProperties(p,Ae);return L.createElement("svg",icon_check_light_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,Ce||(Ce=L.createElement("defs",null,L.createElement("filter",{id:"zm051m44ca"},L.createElement("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 1.000000 0"})))),Se||(Se=L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",null,L.createElement("g",null,L.createElement("g",null,L.createElement("g",{filter:"url(#zm051m44ca)",transform:"translate(-434.000000, -445.000000) translate(360.000000, 78.000000) translate(40.000000, 208.000000) translate(24.000000, 152.000000)"},L.createElement("g",null,L.createElement("g",{fill:"#2C3032"},L.createElement("g",null,L.createElement("path",{d:"M6.596 11.906L3.469 8.779 2.404 9.836 6.596 14.029 15.596 5.029 14.539 3.971z",transform:"translate(10.000000, 6.000000) translate(0.000000, 1.000000) translate(0.000000, 0.000000)"})))))))))))}var Be=L.forwardRef(SvgIconCheckLight),De=(y.p,y(142)),Ne=Object(T.a)((function(p){return{linkButton:{"& svg":{width:p.spacing(2.25),height:p.spacing(2.25),"& path":{fill:p.palette.primary.main}}},linkButtonSuccess:{backgroundColor:"".concat(p.palette.success.main," !important"),color:"".concat(p.palette.common.white," !important")},copyInput:{display:"flex",alignItems:"center",paddingRight:"".concat(p.spacing(.625),"px !important")},copyInputLabel:{color:p.palette.text.primary,marginBottom:p.spacing(.5)},copyInputInput:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1,paddingRight:p.spacing(.5)},copyInputOutline:{borderWidth:"".concat(p.spacing(.125),"px !important")},copyInputButton:{minWidth:"0 !important",padding:p.spacing(.375,1)},helperText:{marginTop:p.spacing(1),fontWeight:p.typography.fontWeightRegular,"& a":{color:p.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}}));var He=function BuilderCopiableInputText(p){var b=p.labelId,y=p.helperTextId,P=p.value,T=Ne(),z=Object(X.a)(),B=Object(L.useState)(!1),N=Object(S.a)(B,2),Z=N[0],K=N[1];Object(L.useEffect)((function(){if(Z){var p=setTimeout((function(){K(!1)}),3e3);return function(){p&&window.clearTimeout(p)}}}),[Z,K]);var Q=Object(L.useCallback)((function(){Object(De.a)(P).then((function(){return K(!0)}))}),[P,K]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Fe.a,{label:z.formatMessage({id:b}),value:P,size:"small",InputLabelProps:{disableAnimation:!0,focused:!1,shrink:!1,classes:{root:T.copyInputLabel}},InputProps:{readOnly:!0,classes:{root:T.copyInput,input:T.copyInputInput,notchedOutline:T.copyInputOutline},endAdornment:Object(le.jsx)(q.a,{classes:{root:T.copyInputButton,disabled:T.linkButtonSuccess},color:"primary",variant:"text",size:"small",startIcon:Z&&Object(le.jsx)(Be,{}),disabled:Z,children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.".concat(Z?"copied":"copyInput")})})},onClick:Q}),Object(le.jsx)(D.a,{component:"p",className:T.helperText,variant:"caption",color:"textSecondary",children:Object(le.jsx)("span",{dangerouslySetInnerHTML:{__html:z.formatMessage({id:y})}})})]})},Ve=y(273),Ue=Object(T.a)((function(p){return{linkButton:{"& svg":{width:p.spacing(2.25),height:p.spacing(2.25),"& path":{fill:p.palette.primary.main}}},linkButtonSuccess:{backgroundColor:"".concat(p.palette.success.main," !important"),color:"".concat(p.palette.common.white," !important")},mapTokenHr:{margin:p.spacing(3,0),border:"none",borderBottom:"1px solid ".concat(p.palette.divider)},mapToken:{position:"relative",marginTop:p.spacing(3),paddingTop:p.spacing(3),borderTop:"1px solid ".concat(p.palette.divider)},mapTokenLabel:{marginBottom:p.spacing(1)},mapTokenText:{fontWeight:p.typography.fontWeightRegular},mapTokenCopied:{position:"absolute",top:p.spacing(1),right:0}}}));var Ge=function PublicRadioItemTabsDevelopers(p){var b=p.map,y=Ue(),P=Object(Ve.a)(),L=Object(S.a)(P,2),T=L[0],z=L[1];return Object(le.jsxs)(le.Fragment,{children:[b.id&&Object(le.jsx)(He,{labelId:"builder.shareDialog.mapID",helperTextId:"builder.shareDialog.mapIDCopyAndPasteInfo",value:b.id||""}),b.token&&Object(le.jsxs)(B.a,{className:y.mapToken,children:[Object(le.jsx)(D.a,{className:y.mapTokenLabel,component:"p",variant:"caption",children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.mapToken.label"})}),Object(le.jsxs)(D.a,{className:y.mapTokenText,component:"p",variant:"caption",children:[Object(le.jsx)(fe.a,{id:"builder.shareDialog.mapToken.copyLinkBefore"}),Object(le.jsx)(ze.a,{href:"#",onClick:function onClick(){Object(De.a)(b.token||"").then((function(){return z(!0)}))},children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.mapToken.copyLink"})}),Object(le.jsx)(fe.a,{id:"builder.shareDialog.mapToken.copyLinkAfter"}),Object(le.jsx)(ze.a,{href:"https://docs.carto.com/react/guides/authentication-and-authorization/#public-applications",target:"_blank",children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.mapToken.secondaryLink"})}),"."]}),T&&Object(le.jsx)(q.a,{classes:{root:"".concat(y.linkButton," ").concat(y.mapTokenCopied),disabled:y.linkButtonSuccess},color:"primary",size:"small",variant:"outlined",startIcon:Object(le.jsx)(Be,{}),disabled:!0,children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.copied"})})]})]})},qe=y(278),Je=y(227),Ze=y(666),$e=Object(T.a)((function(p){return{linksWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid ".concat(p.palette.divider),paddingBottom:p.spacing(3),marginBottom:p.spacing(3),overflow:"hidden",position:"relative"},linkButton:{"& svg":{width:p.spacing(2.25),height:p.spacing(2.25),"& path":{fill:p.palette.primary.main}}},linkButtonSuccess:{backgroundColor:"".concat(p.palette.success.main," !important"),color:"".concat(p.palette.common.white," !important")},shareWrapper:{display:"flex",justifyContent:"flex-end",alignItems:"center","& p":{flex:"none"}}}}));var Ye=function PublicRadiotItemTabsShareLink(p){var b=p.map,y=$e(),P=Object(Ve.a)(),L=Object(S.a)(P,2),T=L[0],z=L[1],B=b.id&&Object(Je.e)(b.id)||"",N=B&&'<iframe width="640px" height="360px" src="'.concat(B,'"></iframe>');return Object(le.jsxs)(le.Fragment,{children:[b.id&&Object(le.jsxs)("div",{className:y.linksWrapper,children:[Object(le.jsx)(q.a,{classes:{root:y.linkButton,disabled:y.linkButtonSuccess},color:"primary",size:"medium",variant:"outlined",startIcon:T?Object(le.jsx)(Be,{}):Object(le.jsx)(qe.a,{}),disabled:T,onClick:function onClick(){Object(De.a)(B).then((function(){return z(!0)}))},children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.".concat(T?"copied":"copy")})}),Object(le.jsxs)("div",{className:y.shareWrapper,children:[Object(le.jsx)(D.a,{component:"p",variant:"caption",color:"textSecondary",children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.share"})}),Object(le.jsx)(Ze.a,{url:B,hideCopy:!0,size:"medium"})]})]}),Object(le.jsx)(He,{labelId:"builder.shareDialog.embedThisMap",helperTextId:"builder.shareDialog.copyAndPasteInfo",value:N})]})},Ke=Object(T.a)((function(p){return{publicTabs:{width:p.spacing(57.75),maxWidth:"100%",borderBottom:"1px solid ".concat(p.palette.divider)},publicTabsContainer:{justifyContent:"center"},publicTabsIndicator:{backgroundColor:"".concat(p.palette.primary.main," !important")},publicTab:{margin:0,minWdith:"0 !important",paddingLeft:p.spacing(2),paddingRight:p.spacing(2)}}}));var Qe=function PublicRadioItemTabs(p){var b=p.map,y=Ke(),P=Object(X.a)(),T=Object(L.useState)(0),z=Object(S.a)(T,2),D=z[0],N=z[1];return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(Re.a,{value:D,indicatorColor:"primary",textColor:"primary",onChange:function onChange(p,b){N(b)},"aria-label":"disabled tabs example",classes:{root:y.publicTabs,flexContainer:y.publicTabsContainer,indicator:y.publicTabsIndicator},children:[Object(le.jsx)(We.a,{classes:{root:y.publicTab},label:P.formatMessage({id:"builder.shareDialog.link"})}),Object(le.jsx)(We.a,{classes:{root:y.publicTab},label:P.formatMessage({id:"builder.shareDialog.developers"})})]}),Object(le.jsxs)(B.a,{p:3,pb:4,children:[0===D&&Object(le.jsx)(Ye,{map:b}),1===D&&b.token&&Object(le.jsx)(Ge,{map:b})]})]})},Xe=y(248),et=Object(T.a)((function(p){return{publicWrapper:{backgroundColor:p.palette.common.white,borderBottomLeftRadius:p.spacing(.5),borderBottomRightRadius:p.spacing(.5),border:"1px solid ".concat(p.palette.divider),borderTopWidth:0},snackbarButton:{whiteSpace:"nowrap",fontWeight:600,fontSize:p.spacing(1.375)},publicRoundedIcon:{'&[data-state="selected"]':{backgroundColor:Object(ke.a)(p.palette.primary.main,.08),"& svg path":{fill:p.palette.primary.main,fillOpacity:1}}}}}));function PublicIconSocialPublic(p){var b=et();return Object(le.jsx)(Xe.a,Object(P.a)(Object(P.a)({},p),{},{icon:Object(le.jsx)(Ie.a,{}),className:b.publicRoundedIcon}))}var tt,nt=function BuilderShareDialog(p){var b=p.map,y=p.open,P=p.handleClose,T=et(),z=Object(X.a)(),B=Object(Z.a)(),D=Object(L.useState)(!1),N=Object(S.a)(D,2),K=N[0],Q=N[1],ne=Object(L.useState)(b.privacy||Le.b.Private),ie=Object(S.a)(ne,2),se=ie[0],de=ie[1],ue=Object(Z.b)((function(p){return p.maps.changeMapPrivacyStatus})),pe=ue===xe.b.Pending,be=Object(L.useCallback)((function(p){de(p),Q(!0),b.id&&B(Object(re.b)({mapId:b.id,privacy:p}))}),[B,b]),ge=Object(L.useMemo)((function(){return[Te.b,Te.c,{value:Le.b.Public,title:z.formatMessage({id:"builder.shareDialog.publicOption"}),description:z.formatMessage({id:"builder.shareDialog.publicDesc"}),iconComponent:PublicIconSocialPublic,extraContent:Object(le.jsx)(Pe.a,{classes:{wrapperInner:T.publicWrapper},in:se===Le.b.Public,children:Object(le.jsx)(Qe,{map:b})})}]}),[se,b,z,T]),he=Object(L.useMemo)((function(){return K?ue===xe.b.Rejected?{notificationContent:z.formatMessage({id:"builder.shareDialog.errorMessage"}),notificationSeverity:"error"}:ue===xe.b.Fulfilled&&b.wasUnpublished?{notificationContent:Object(le.jsx)(fe.a,{id:"builder.shareDialog.nonPublicSuccessInfo"}),notificationSeverity:"info",notificationAction:Object(le.jsx)(q.a,{classes:{root:T.snackbarButton},color:"inherit",size:"small",component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://docs.carto.com/",children:Object(le.jsx)(fe.a,{id:"builder.shareDialog.nonPublicSuccessInfoLink"})})}:{}:{}}),[K,z,ue,b,T]),me=he.notificationContent,ve=he.notificationAction,je=he.notificationSeverity;return Object(le.jsx)(Me.a,{shareOptions:ge,value:se,open:y,onClose:P,running:pe,onChange:be,notificationContent:me,notificationAction:ve,notificationSeverity:je})},rt=y(526),ot=y(354),at=["title","titleId"];function icon_social_public_extends(){return icon_social_public_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_social_public_extends.apply(this,arguments)}function icon_social_public_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_social_public_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconSocialPublic(p,b){var y=p.title,S=p.titleId,P=icon_social_public_objectWithoutProperties(p,at);return L.createElement("svg",icon_social_public_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,tt||(tt=L.createElement("g",{fill:"currentColor",fillRule:"evenodd"},L.createElement("g",{transform:"translate(-1276.000000, -899.000000) translate(138.000000, 884.000000) translate(1128.000000, 8.000000)"},L.createElement("path",{d:"M9 1.5C4.86 1.5 1.5 4.86 1.5 9c0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zM3 9c0-.457.06-.908.158-1.335l3.584 3.585V12c0 .825.676 1.5 1.5 1.5v1.447C5.295 14.573 3 12.053 3 9zm10.418 4.05c-.195-.607-.75-1.05-1.425-1.05h-.75V9.75c0-.412-.338-.75-.75-.75h-4.5V7.5h1.5c.412 0 .75-.338.75-.75v-1.5h1.5c.825 0 1.5-.675 1.5-1.5v-.308C13.44 4.327 15 6.487 15 9c0 1.56-.607 2.985-1.582 4.05z",transform:"translate(10.000000, 6.000000) translate(0.000000, 1.000000)"})))))}var it,lt=L.forwardRef(SvgIconSocialPublic),ct=(y.p,["title","titleId"]);function icon_action_lock_disabled_extends(){return icon_action_lock_disabled_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_lock_disabled_extends.apply(this,arguments)}function icon_action_lock_disabled_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_lock_disabled_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionLockDisabled(p,b){var y=p.title,S=p.titleId,P=icon_action_lock_disabled_objectWithoutProperties(p,ct);return L.createElement("svg",icon_action_lock_disabled_extends({width:18,height:18,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,it||(it=L.createElement("path",{d:"M13.5 6.375h-.75v-1.5c0-2.07-1.68-3.75-3.75-3.75-2.07 0-3.75 1.68-3.75 3.75v1.5H4.5c-.825 0-1.5.675-1.5 1.5v7.5c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5v-7.5c0-.825-.675-1.5-1.5-1.5zm-6.75-1.5A2.247 2.247 0 0 1 9 2.625a2.247 2.247 0 0 1 2.25 2.25v1.5h-4.5v-1.5zm6.75 10.5h-9v-7.5h9v7.5zM9 13.125c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z",fill:"#FFF",fillRule:"evenodd",fillOpacity:.25})))}var st,dt=L.forwardRef(SvgIconActionLockDisabled),ut=(y.p,["title","titleId"]);function icon_action_lock_white_extends(){return icon_action_lock_white_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_lock_white_extends.apply(this,arguments)}function icon_action_lock_white_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_lock_white_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionLockWhite(p,b){var y=p.title,S=p.titleId,P=icon_action_lock_white_objectWithoutProperties(p,ut);return L.createElement("svg",icon_action_lock_white_extends({width:18,height:18,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,st||(st=L.createElement("path",{d:"M13.5 6.375h-.75v-1.5c0-2.07-1.68-3.75-3.75-3.75-2.07 0-3.75 1.68-3.75 3.75v1.5H4.5c-.825 0-1.5.675-1.5 1.5v7.5c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5v-7.5c0-.825-.675-1.5-1.5-1.5zm-6.75-1.5A2.247 2.247 0 0 1 9 2.625a2.247 2.247 0 0 1 2.25 2.25v1.5h-4.5v-1.5zm6.75 10.5h-9v-7.5h9v7.5zM9 13.125c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z",fill:"#FFF",fillRule:"evenodd"})))}var pt,bt=L.forwardRef(SvgIconActionLockWhite),gt=(y.p,y(221)),ft=["title","titleId"];function icon_editor_publish_extends(){return icon_editor_publish_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_editor_publish_extends.apply(this,arguments)}function icon_editor_publish_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_editor_publish_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconEditorPublish(p,b){var y=p.title,S=p.titleId,P=icon_editor_publish_objectWithoutProperties(p,ft);return L.createElement("svg",icon_editor_publish_extends({width:18,height:18,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,pt||(pt=L.createElement("path",{d:"m9 5.25 5.25 5.25h-3V15h-4.5v-4.5h-3L9 5.25zm0 2.122L7.372 9h.878v4.5h1.5V9h.877L9 7.372zM14.25 3v1.5H3.75V3h10.5z",fill:"#FFF",fillRule:"evenodd"})))}var ht=L.forwardRef(SvgIconEditorPublish),mt=(y.p,y(97)),vt=y(125);var jt,yt=function useUserHasPermissions(){var p=Object(vt.a)(),b=null===p||void 0===p?void 0:p.quotas;return{sharingMapsAvailable:null===b||void 0===b?void 0:b.share_maps_available}},Ot=y(2579),xt=y(1387),_t=y(2537),wt=["title","titleId"];function icon_action_open_in_new_grey_extends(){return icon_action_open_in_new_grey_extends=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])}return p},icon_action_open_in_new_grey_extends.apply(this,arguments)}function icon_action_open_in_new_grey_objectWithoutProperties(p,b){if(null==p)return{};var y,S,P=function icon_action_open_in_new_grey_objectWithoutPropertiesLoose(p,b){if(null==p)return{};var y,S,P={},L=Object.keys(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||(P[y]=p[y]);return P}(p,b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);for(S=0;S<L.length;S++)y=L[S],b.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(p,y)&&(P[y]=p[y])}return P}function SvgIconActionOpenInNewGrey(p,b){var y=p.title,S=p.titleId,P=icon_action_open_in_new_grey_objectWithoutProperties(p,wt);return L.createElement("svg",icon_action_open_in_new_grey_extends({width:18,height:18,xmlns:"http://www.w3.org/2000/svg",ref:b,"aria-labelledby":S},P),y?L.createElement("title",{id:S},y):null,jt||(jt=L.createElement("path",{d:"M14.25 14.25H3.75V3.75H9v-1.5H3.75a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5c.825 0 1.5-.675 1.5-1.5V9h-1.5v5.25zm-3.75-12v1.5h2.693L5.82 11.123l1.058 1.057 7.372-7.372V7.5h1.5V2.25H10.5z",fill:"#2C3032",fillRule:"evenodd",fillOpacity:.6})))}var Ct=L.forwardRef(SvgIconActionOpenInNewGrey),St=(y.p,y(357)),Et=y(111),kt=y(2623),Pt=Object(T.a)((function(p){return{content:{width:"240px",position:"relative"},publishBtn:{height:"32px"},openInNew:{position:"absolute",zIndex:1,top:"24px",right:"16px"},publishDate:{fontWeight:500,"&.loading":{color:p.palette.text.disabled}}}}));var It=function BuilderPublishDialog(p){var b=p.map,y=p.anchorEl,S=p.open,L=p.handleClose,T=Pt(),Q=Object(X.a)(),ne=Object(Z.a)(),ie=Object(St.a)(b).isPublicMap,se=Object(Z.b)((function(p){return p.maps.changeMapPrivacyStatus})),de=se===xe.b.Pending,ue=se===xe.b.Rejected,pe=b.id&&Object(Je.e)(b.id)||"";return Object(le.jsx)(Ot.a,{open:S,anchorEl:y,className:T.content,transition:!0,children:function children(p){var y=p.TransitionProps;return Object(le.jsx)(xt.a,Object(P.a)(Object(P.a)({},y),{},{timeout:250,children:Object(le.jsx)(_t.a,{children:Object(le.jsx)(K.a,{onClickAway:L,children:Object(le.jsxs)(B.a,{p:2,mt:.5,children:[Object(le.jsx)(D.a,{variant:"caption",color:"textSecondary",children:Object(le.jsx)(fe.a,{id:"builder.publishDialog.lastPublished"})}),Object(le.jsx)(B.a,{mt:.5,children:Object(le.jsx)(D.a,{variant:"body2",color:"textPrimary",className:"".concat(T.publishDate," ").concat(de&&"loading"),children:Object(le.jsx)(he.a,{opts:{minInterval:60},datetime:(null===b||void 0===b?void 0:b.lastPublishedAt)||""})})}),Object(le.jsxs)(B.a,{mt:3,children:[!de&&Object(le.jsx)(q.a,{variant:"contained",color:"primary",fullWidth:!0,className:T.publishBtn,onClick:function onClick(){return b.id&&b.privacy&&ne(Object(re.b)({mapId:b.id,privacy:b.privacy}))},children:Object(le.jsx)(fe.a,{id:"builder.publishDialog.publishUpdates"})}),de&&Object(le.jsx)(Et.a,{disabled:!1,variant:"text",loading:Q.formatMessage({id:"builder.publishDialog.publishingMap"}),color:"primary",labelId:"builder.publishDialog.publishingMap",fullWidth:!0})]}),ue&&Object(le.jsx)(B.a,{mt:1,children:Object(le.jsx)(kt.a,{severity:"error",children:Object(le.jsx)(D.a,{variant:"caption",children:Object(le.jsx)(fe.a,{id:"builder.publishDialog.error",values:{link:Object(le.jsx)("a",{href:"mailto:support@carto.com",children:"support@carto.com"})}})})})}),ie&&Object(le.jsx)(z.a,{arrow:!0,title:Q.formatMessage({id:"builder.publishDialog.openPublicMap"}),placement:"top",children:Object(le.jsx)(B.a,{className:T.openInNew,children:Object(le.jsx)("a",{href:pe,target:"_blank",children:Object(le.jsx)(N.a,{children:Object(le.jsx)(Ct,{})})})})})]})})})}))}})},Lt=Object(T.a)((function(p){return{content:{paddingLeft:p.spacing(2),paddingRight:p.spacing(1)},logo:{"&, & img":{width:p.spacing(4),height:p.spacing(4)}},title:{whiteSpace:"nowrap","&:after":{marginLeft:p.spacing(1.5),content:'"/"',opacity:.4}},shareBtn:{color:p.palette.common.white,borderColor:Object(mt.alpha)(p.palette.common.white,.4),"&:hover, &:active":{borderColor:Object(mt.alpha)(p.palette.common.white,.6),backgroundColor:Object(mt.alpha)(p.palette.common.white,.14)},"&:disabled":{color:Object(mt.alpha)(p.palette.common.white,.25),borderColor:Object(mt.alpha)(p.palette.common.white,.25)}},shareBtnWrapper:{display:"inline-block"},publishBtn:{marginRight:p.spacing(1),backgroundColor:"rgba(255, 255, 255, 0.12)",padding:"7px"},mapTitle:Object(P.a)(Object(P.a)({},p.typography.body2),{},{whiteSpace:"nowrap",color:p.palette.common.white,fontWeight:500,top:"50%",overflow:"hidden"}),titleWrapper:{position:"relative",maxWidth:"80%"}}}));b.a=function BuilderHeader(p){var b=p.viewOnly,y=Lt(),P=Object(L.useState)(!1),T=Object(S.a)(P,2),K=T[0],Q=T[1],X=Object(L.useState)(!1),re=Object(S.a)(X,2),ie=re[0],se=re[1],de=Object(L.useState)(!1),ue=Object(S.a)(de,2),be=ue[0],ge=ue[1],he=yt().sharingMapsAvailable,me=Object(Z.b)((function(p){return p.maps.currentMap})),ve=Object(Z.b)((function(p){return p.maps.currentMapDatasets})),je=Object(St.a)(me),ye=je.isSharedMap,Oe=je.isPublicMap,xe=je.isEditable,_e=!b&&xe,we=!!me&&he,Ce=(!(null===me||void 0===me?void 0:me.title)||0===ve.length)&&!(ye||Oe),Se=Object(L.useRef)(null),ke=Object(L.useState)(!1),Pe=Object(S.a)(ke,2),Ie=Pe[0],Le=Pe[1],Me=Object(ne.b)(),Te=Object(L.useMemo)((function(){return Oe?[lt,"builder.navBar.sharePublicTooltip"]:ye?[gt.a,"builder.navBar.shareSharedTooltip"]:[bt,"builder.navBar.sharePrivateTooltip"]}),[Oe,ye]),Re=Object(S.a)(Te,2),We=Re[0],ze=Re[1];return Object(le.jsx)(rt.a,{elevation:0,contentClassName:y.content,logo:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(z.a,{arrow:!0,title:Object(le.jsx)(fe.a,{id:"builder.navBar.titleTooltip"}),children:Object(le.jsx)("a",{className:y.logo,href:"/",children:Object(le.jsx)("img",{alt:"carto-logo-dot",src:ot.a})})}),Object(le.jsx)(B.a,{ml:1.5,mr:.5,children:Object(le.jsx)(D.a,{className:Me?"":y.title,variant:"subtitle1",color:"inherit",children:Object(le.jsx)(fe.a,{id:Me?"builder.navBar.titleMobile":"builder.navBar.title"})})}),_e?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(pe,{}),Object(le.jsx)(Ee,{})]}):!Me&&(null===me||void 0===me?void 0:me.title)&&Object(le.jsx)(B.a,{ml:1,mr:2.75,className:y.titleWrapper,children:Object(le.jsx)(D.a,{className:y.mapTitle,variant:"subtitle1",color:"inherit",children:me.title})})]}),actions:_e&&we&&Object(le.jsxs)(le.Fragment,{children:[(Oe||ye)&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(z.a,{arrow:!0,open:be,title:Object(le.jsx)(fe.a,{id:"builder.navBar.publishTooltip"}),disableHoverListener:!0,onMouseEnter:function onMouseEnter(){return ge(!0)},onMouseLeave:function onMouseLeave(){return ge(!1)},children:Object(le.jsx)(N.a,{ref:Se,classes:{root:y.publishBtn},"aria-label":"publish-map",size:"medium",onClick:function onClick(){Le(!Ie),ge(!1)},children:Object(le.jsx)(ht,{})})}),Se.current&&Object(le.jsx)(It,{map:me,anchorEl:Se.current,open:Ie,handleClose:function handleClose(){return Le(!1)}})]}),Object(le.jsx)(z.a,{arrow:!0,open:ie,title:Ce?Object(le.jsx)(fe.a,{id:"builder.navBar.shareDisabledTooltip"}):Object(le.jsx)(fe.a,{id:ze}),children:Object(le.jsx)("div",{className:y.shareBtnWrapper,onMouseEnter:function onMouseEnter(){se(!0)},onMouseLeave:function onMouseLeave(){se(!1)},children:Object(le.jsx)(q.a,{variant:"outlined",color:"inherit",onMouseEnter:function onMouseEnter(){se(!0)},onMouseLeave:function onMouseLeave(){se(!1)},onClick:function onClick(){Q(!0)},startIcon:Ce?Object(le.jsx)(dt,{}):Object(le.jsx)(We,{}),classes:{root:y.shareBtn},"aria-label":"share-map",disabled:Ce,children:Object(le.jsx)(fe.a,{id:"builder.navBar.share"})})})}),me&&Object(le.jsx)(nt,{map:me,open:K,handleClose:function handleClose(){Q(!1)}})]}),jobs:!1})}}}]);
//# sourceMappingURL=17.2efb2520.chunk.js.map